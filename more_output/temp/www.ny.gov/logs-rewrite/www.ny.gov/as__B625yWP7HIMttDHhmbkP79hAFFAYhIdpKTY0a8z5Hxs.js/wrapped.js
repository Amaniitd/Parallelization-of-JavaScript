/* Source and licensing information for the line(s) below can be found at https://www.ny.gov/sites/all/modules/contrib/geofield_gmap/geofield_gmap.js. */
 (function __HORCRUX__(){ window.geofield_gmap_geocoder = window.undefined,window.geofield_gmap_data=new Array() })();
function geofield_gmap_center(mapid){window.google.maps.event.trigger(window.geofield_gmap_data[mapid].map,'resize');window.geofield_gmap_data[mapid].map.setCenter(window.geofield_gmap_data[mapid].marker.getPosition())}
function geofield_gmap_marker(mapid){if(window.geofield_gmap_data[mapid].confirm_center_marker)if(!window.confirm('Change marker position ?'))return;window.google.maps.event.trigger(window.geofield_gmap_data[mapid].map,'resize');var position=window.geofield_gmap_data[mapid].map.getCenter();window.geofield_gmap_data[mapid].marker.setPosition(position);window.geofield_gmap_data[mapid].lat.val(position.lat());window.geofield_gmap_data[mapid].lng.val(position.lng());if(window.geofield_gmap_data[mapid].search)window.geofield_gmap_geocoder.geocode({latLng:position},function(results,status){if(status==window.google.maps.GeocoderStatus.OK)if(results[0])window.geofield_gmap_data[mapid].search.val(results[0].formatted_address)})}
function geofield_gmap_initialize(params){window.geofield_gmap_data[params.mapid]=params;window.jQuery.noConflict();if(!window.geofield_gmap_geocoder)window.geofield_gmap_geocoder=new window.google.maps.Geocoder();var location=new window.google.maps.LatLng(params.lat,params.lng),options={zoom:12,center:location,mapTypeId:window.google.maps.MapTypeId.SATELLITE,scaleControl:true,zoomControlOptions:{style:window.google.maps.ZoomControlStyle.LARGE}};switch(params.map_type){case"ROADMAP":options.mapTypeId=window.google.maps.MapTypeId.ROADMAP;break;case"SATELITE":options.mapTypeId=window.google.maps.MapTypeId.SATELITE;break;case"HYBRID":options.mapTypeId=window.google.maps.MapTypeId.HYBRID;break;case"TERRAIN":options.mapTypeId=window.google.maps.MapTypeId.TERRAIN;break;default:options.mapTypeId=window.google.maps.MapTypeId.ROADMAP};var map=new window.google.maps.Map(window.document.getElementById(params.mapid),options);window.geofield_gmap_data[params.mapid].map=map;window.google.maps.event.addListener(map,"idle",function(){window.google.maps.event.trigger(map,'resize')});var marker=new window.google.maps.Marker({map:map,draggable:params.widget});window.geofield_gmap_data[params.mapid].marker=marker;marker.setPosition(location);if(params.widget&&params.latid&&params.lngid){window.geofield_gmap_data[params.mapid].lat=window.jQuery("#"+params.latid);window.geofield_gmap_data[params.mapid].lng=window.jQuery("#"+params.lngid);if(params.searchid){window.geofield_gmap_data[params.mapid].search=window.jQuery("#"+params.searchid);window.geofield_gmap_data[params.mapid].search.autocomplete({source:function(request,response){window.geofield_gmap_geocoder.geocode({address:request.term},function(results,status){response(window.jQuery.map(results,function(item){return{label:item.formatted_address,value:item.formatted_address,latitude:item.geometry.location.lat(),longitude:item.geometry.location.lng()}}))})},select:function(event,ui){window.geofield_gmap_data[params.mapid].lat.val(ui.item.latitude);window.geofield_gmap_data[params.mapid].lng.val(ui.item.longitude);var location=new window.google.maps.LatLng(ui.item.latitude,ui.item.longitude);marker.setPosition(location);map.setCenter(location)}});window.google.maps.event.addListener(marker,'drag',function(){window.geofield_gmap_geocoder.geocode({latLng:marker.getPosition()},function(results,status){if(status==window.google.maps.GeocoderStatus.OK)if(results[0]){window.geofield_gmap_data[params.mapid].search.val(results[0].formatted_address);window.geofield_gmap_data[params.mapid].lat.val(marker.getPosition().lat());window.geofield_gmap_data[params.mapid].lng.val(marker.getPosition().lng())}})})};if(params.click_to_place_marker)window.google.maps.event.addListener(map,'click',function(event){var position=new window.google.maps.LatLng(event.latLng.lat(),event.latLng.lng());marker.setPosition(position);window.geofield_gmap_data[params.mapid].lat.val(position.lat());window.geofield_gmap_data[params.mapid].lng.val(position.lng())});window.geofield_onchange=function(){var location=new window.google.maps.LatLng(window.parseInt(window.geofield_gmap_data[params.mapid].lat.val()),window.parseInt(window.geofield_gmap_data[params.mapid].lng.val()));marker.setPosition(location);map.setCenter(location)};window.geofield_gmap_data[params.mapid].lat.change(window.geofield_onchange);window.geofield_gmap_data[params.mapid].lng.change(window.geofield_onchange)}};
/* Source and licensing information for the above line(s) can be found at https://www.ny.gov/sites/all/modules/contrib/geofield_gmap/geofield_gmap.js. */
