(function __HORCRUX__(){ (window.webpackJsonp=window.webpackJsonp||[]).push([[35],{NVP0:function(t,e,n){"use strict";n.d(e,"d",(function(){return i})),n.d(e,"i",(function(){return r})),n.d(e,"m",(function(){return s})),n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return c})),n.d(e,"h",(function(){return u})),n.d(e,"j",(function(){return d})),n.d(e,"e",(function(){return p})),n.d(e,"g",(function(){return f})),n.d(e,"f",(function(){return h})),n.d(e,"c",(function(){return m})),n.d(e,"k",(function(){return g})),n.d(e,"l",(function(){return y}));var o=n("RIqP"),a=n.n(o),i=function(t){return t.advertisingProperties&&t.advertisingProperties.sensitivity?t.advertisingProperties.sensitivity:"SHOW_ADS"},r=function(t){var e,n;return(null==t||null===(e=t[0])||void 0===e||null===(n=e.creators)||void 0===n?void 0:n.length)>0},s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{language:""},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"By";return"es"===t.language?"Por":e},l=function(t,e){var n=t.find((function(t){return"supplemental"===t.name}));if(!n)return[];var o=n.containers.find((function(t){return t.name===e}));return o?o.relations.filter((function(t){var e;return["Capsule","EmbeddedInteractive"].includes(null===(e=t.asset)||void 0===e?void 0:e.__typename)})):[]},c=function(t,e){if(null==t||!t.crops)return null;for(var n=[],o=0;o<t.crops.length;o+=1)for(var a=0;a<t.crops[o].renditions.length;a+=1){var i=t.crops[o].renditions[a];if(e.indexOf(i.name)>-1){if(i.name===e[0])return i;n.push(i)}}for(var r=0;r<e.length;r+=1)for(var s=0;s<n.length;s+=1)if(n[s].name===e[r])return n[s];return null},u=function(t,e){var n=[];if(!t||!t.crops||!e)return"";for(var o=0;o<t.crops.length;o+=1)for(var a=0;a<t.crops[o].renditions.length;a+=1){var i=t.crops[o].renditions[a];e.indexOf(i.name)>-1&&n.push("".concat(i.url," ").concat(i.width,"w"))}return n.join(", ")},d=function(t){if(!t)return!1;var e=t;if(t.promotionalMedia&&(e=t.promotionalMedia),!e.crops)return!1;var n=c(e,["jumbo"]);return!!n&&n.height>n.width},p=function(t){if(!t||0===t.length)return!1;var e=t[0].creators;if(!e||0===e.length)return!1;var n=e[0];return!(!n||!n.legacyData)&&n.legacyData.htmlBiography},f=function(t){switch(t){case"column":case"news-event":case"issue":case"series":t="column";break;case"topic":t="topic";break;case"section":case"theater":case"dining":case"movies":case"realestate":t="sectionfront";break;case"spotlight":t="spotlight";break;default:t="collection"}return t},h=function(t){var e,n=null==(e=t.groupings)?void 0:e.find((function(t){return"rank"===(null==t?void 0:t.name)}));if(!n)return null;var o=n.containers.find((function(t){return"highlights"===t.name}));return o?o.template:null},m=function(t){var e=window.document.querySelectorAll('a[href="'.concat(null==t?void 0:t.replace(/^.*\/\/[^/]+/,""),'"]'))[0];e&&e.focus()},g=function(t,e){var n=new Map,o=function(t){t&&t.node&&n.set(t.node.id,t)};return t.forEach(o),e.forEach(o),a()(n.values())},b=["the-daily","nyt-still-processing","the-argument","book-review","music-popcast","caliphate"],v=["el-times"],y=function(t){var e,n=t.slug,o=void 0===n?"":n,a=t.language,i=void 0===a?{}:a,r=t.url,s=void 0===r?"":r;if(null!=i&&null!==(e=i.code)&&void 0!==e&&e.startsWith("es")&&o&&!v.includes(o)){var l="prd"===window.vi.env.ENVIRONMENT?"prd":"stg";return"".concat("prd"===l?"https://rss.nytimes.com/":"https://rss.stg.nytimes.com/","services/xml/rss/nyt/").concat(o.replace("espanol","es"),".xml")}if(!s)return"";var c=s.split("/"),u=c[c.length-1];return b.includes(u)?"https://rss.art19.com/".concat(u):"https://www.nytimes.com/svc/collections/v1/publish/".concat(s,"/rss.xml")}},RwY4:function(t,e,n){"use strict";n.r(e);var o=n("gcR/"),a=n.n(o),i=n("lSNA"),r=n.n(i),s=n("lwsE"),l=n.n(s),c=n("W8MJ"),u=n.n(c),d=n("7W2i"),p=n.n(d),f=n("a1gu"),h=n.n(f),m=n("Nsbk"),g=n.n(m),b=n("ERkP"),v=n.n(b),y=n("EfWO"),x=n.n(y),w=n("X6oL"),k=n.n(w),C=n("510Z"),O=n("OO03"),N=n("Vc97"),z=n("NVP0"),S=n("HUmG"),j=n("draa"),T=n.n(j),A=n("2t5v"),B=n.n(A),E=n("Lcdh"),R=n("jVmh"),q=n.n(R),P=Object(E.css)("display:block;position:fixed;box-sizing:border-box;top:0;right:0;bottom:0;left:0;width:100%;height:100%;z-index:",q.a.zIndex.overlay,";background-color:rgb(255,255,255,0.9);opacity:1;"),F=Object(E.css)("position:fixed;top:0;left:0;right:0;bottom:0;outline:0;overflow:auto;width:unset;padding:16px 10px 8px 10px;box-shadow:none;border-radius:0;background-color:",q.a.color.white,";font-family:",q.a.font.franklinBase,";-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;color:",q.a.color.black,";z-index:",q.a.zIndex.interstitialModal,";",q.a.breakpoint.small,"{width:450px;left:50%;top:50%;border-radius:3px;box-shadow:0 0 8px rgba(0,0,0,0.2);right:unset;bottom:unset;transform:translate(-50%,-50%);margin:0 auto;overflow:unset;position:absolute;padding:16px 0 8px 0;}"),I=Object(E.css)("position:absolute;top:1px;right:0;padding:16px;cursor:pointer;background-color:",q.a.color.white,";"),L=function(t){var e="production"===window.vi.env.NODE_ENV?"production":"staging",n=t.lireType,o=t.onLireSuccess,i=t.isOpen,r=t.handleClose,s=t.params,l=t.contentLabel;return a()(B.a,{isOpen:i,handleClose:r,overlayClassName:P,className:F,dismissClassName:I,contentLabel:l,role:"dialog",shouldReturnFocusAfterClose:!0,shouldCloseOnOverlayClick:!0,shouldCloseOnEsc:!0},void 0,a()(T.a,{onSuccess:o,env:e,type:n,params:s}))};L.displayName="ModalLire";var M,D,U=L;function _(t){var e=t.className;return a()("svg",{className:e,viewBox:"0 0 90.15 64.24"},void 0,M||(M=a()("title",{},void 0,'"Question and Answers" Logo: An illustrated hand writing with a pen.')),D||(D=a()("path",{d:"M89.2 27H75.49c-2.82 0-8-1.55-13.14-5l-4.14-2.77h-.1L68.19 7.27a2.85 2.85 0 0 0-.33-4l-3-2.58a2.85 2.85 0 0 0-4 .33L50 13.75c-4.26-2.58-9-2.15-13.54 1.25l-5 3.77a35.27 35.27 0 0 0-12 16.48l-4.17 12a2.48 2.48 0 0 0 .12 1.89 2.44 2.44 0 0 0 1.42 1.25 8.17 8.17 0 0 0 1.79.34l-.93 1.1a.93.93 0 0 0-.11.19v.08l-3.86 10.24H1a1 1 0 1 0 0 1.9h13.34a1 1 0 0 0 .68-.29l1.6-.9.15-.11 8.07-4.63h.06l.18-.15.51-.6.41 1.19a3.29 3.29 0 0 0 3.16 2.33 3.48 3.48 0 0 0 1-.15 7.47 7.47 0 0 0 4.31-3.6A3.26 3.26 0 0 0 35.92 59a3.3 3.3 0 0 0 1.53.38 3.18 3.18 0 0 0 1-.16 7.54 7.54 0 0 0 4.55-4c2.88.09 5.91.15 8.66.15s5.39-.07 7.09-.26a89.41 89.41 0 0 0 13.78-2.94l.75-.2a21.49 21.49 0 0 1 5.72-.55h10.18a1 1 0 0 0 1-1V27.89a1 1 0 0 0-.98-.89zM43.76 41.27v-5.13l3.84-4.53c.26 1.55.29 5.05-3.84 9.66zm-24.09-.7l.06.08c.6 1.17 0 3.75-.64 5.55l-1.25-.4zm-2.49 20.05a2.06 2.06 0 0 0-.28-.31 2.34 2.34 0 0 0-.39-.25L18.78 54l4 3.42zm.29-12.05a.59.59 0 0 1-.32-.28.54.54 0 0 1 0-.43l.1-.27 2.13.68a.77.77 0 0 0 .29 0 1 1 0 0 0 .85-.52c.23-.54 2.22-5.37.9-7.95a2.88 2.88 0 0 0-1.08-1.16l1-2.72a33.32 33.32 0 0 1 11.28-15.61l5-3.77A11.38 11.38 0 0 1 44.33 14a8.67 8.67 0 0 1 4.18 1.09L40.06 25l-8.27 7.68a4.49 4.49 0 0 0-1 1.44l-5.23 11a6.58 6.58 0 0 1-8.09 3.45zm24.35-10.2v3.14c-.69.1-1.38.2-2.06.32l-1 .18zM29.55 59.1a1.4 1.4 0 0 1-1.08-.1 1.46 1.46 0 0 1-.7-.84L27 55.8l1.76-2.05a4.89 4.89 0 0 0 2.64.92l1.93.1a5.59 5.59 0 0 1-3.78 4.33zm2.93-6.3c-1 0-1.75-.37-2-1a1.89 1.89 0 0 1 .69-1.91c.79-.68 3-1.09 4.71-1.26 0 1.71-.07 3.45-.1 4.29zm5.41 4.56a1.36 1.36 0 0 1-1.08-.09 1.43 1.43 0 0 1-.7-.84l-.49-1.58c1.51.07 3.32.15 5.28.22a5.62 5.62 0 0 1-3.01 2.29zm50.36-7.89H79a23.14 23.14 0 0 0-6.17.59l-.75.2a87.52 87.52 0 0 1-13.5 2.89c-4.24.48-14.31.17-20.88-.11 0-1 .11-3.38.11-5.4a.92.92 0 0 0-.3-.68 1 1 0 0 0-.69-.27c-.52 0-5.11.27-6.87 1.8a4.13 4.13 0 0 0-1.24 1.86 3.07 3.07 0 0 1-.08-1A4 4 0 0 1 31 46a62 62 0 0 1 9.08-2.4c4.12-.69 8.88-1 8.94-1a10.72 10.72 0 0 0 7.46-3.88 1 1 0 0 0-.13-1.33.94.94 0 0 0-1.32.12 8.85 8.85 0 0 1-6.13 3.19s-1 .06-2.46.2c4.72-6.25 2.75-10.68 2.56-11.08l7.95-9.38a1.19 1.19 0 0 0 .22.23l4.14 2.76c4.82 3.23 10.39 5.31 14.19 5.31h12.75z",fill:"#010101"})))}_.displayName="AskHand",_.defaultProps={className:void 0};var H=n("iEJF"),V=Object(E.css)("align-items:center;background:",q.a.color.gray10,";box-shadow:0 0 1px 0 ",q.a.color.gray10,";box-sizing:border-box;display:flex;height:0;justify-content:center;left:0;opacity:0;overflow:hidden;padding:0 35px;position:fixed;top:0;transition:height 200ms,opacity 200ms;width:100%;z-index:",q.a.zIndex.dock,";"),W=Object(E.css)("height:45px;opacity:1;"),Q=Object(E.css)("color:",q.a.color.white,";font-family:",q.a.font.franklinBase,";font-size:14px;text-align:center;"),J=Object(E.css)("position:absolute;right:15px;top:15px;height:15px;width:15px;");function G(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof window.Proxy)return!0;try{return window.Boolean.prototype.valueOf.call(Reflect.construct(window.Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=g()(t);if(e){var a=g()(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return h()(this,n)}}var X=function(t){p()(n,t);var e=G(n);function n(){var t;l()(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))).state={dismissed:!1},t.dismiss=function(){t.setState({dismissed:!0})},t}return u()(n,[{key:"componentDidUpdate",value:function(t,e){e.dismissed&&this.props.showing!==t.showing&&this.setState({dismissed:!1})}},{key:"render",value:function(){var t=this.state.dismissed,e=this.props,n=e.showing,o=e.message,i=Object(E.cx)(V,r()({},W,n&&!t));return a()("div",{className:i,"data-test-id":"toast-container"},void 0,a()("p",{className:Q},void 0,o),a()("button",{type:"button",onClick:this.dismiss},void 0,a()(H.a,{className:J,stroke:q.a.color.white})))}}]),n}(b.Component);X.displayName="Toast",X.defaultProps={showing:!1};var Y=X,Z={messageCTAText:{loginButtonCTA:"Log in to ask your question",haveAnAccount:"New to The Times?",signUpLinkText:"Create a free account",questionPlaceholder:"Submit a question",submittedHeader:"Thanks for asking!",clearFormButtonCTA:"Ask another question",submittedDescription:"We'll notify you if your question gets answered.",disclaimer:"Not all questions will be answered. If your question is selected by the author, you will be notified via email."}},K=Object(E.css)("textarea&{width:calc(100% - 40px);margin-bottom:32px;border:1px solid ",q.a.color.gray35,";background:",q.a.color.white,";font-family:",q.a.font.franklinBase,";font-size:",q.a.font.size(15),";padding:17px 12px 0 12px;position:relative;min-height:50px;resize:none;letter-spacing:0.1;&:focus::-webkit-input-placeholder{color:transparent;line-height:100%;padding:17px 12px 0 12px;}&:focus{border:1px solid ",q.a.color.gray10,";}",q.a.breakpoint.medium,"{width:calc(",q.a.breakpoint.textBodyWidth,"px * 0.66);}}"),$=Object(E.css)("input[type='text']&{border-radius:3px;background:",q.a.color.white,";border:1px solid ",q.a.color.gray35,";font-family:",q.a.font.franklinBase,";font-size:",q.a.font.size(15),";padding:14px 12px 12px 12px;letter-spacing:0.1;position:relative;width:100%;&:focus{border:1px solid ",q.a.color.gray10,";}}"),tt=Object(E.css)("width:calc(100% - 40px);display:flex;justify-content:space-around;margin:0 auto;",q.a.breakpoint.medium,"{width:400px;}"),et=Object(E.css)("margin:10px 0;display:inline-block;text-align:left;width:calc(50% - 5px);:first-child&{margin-right:10px;}"),nt=Object(E.css)("font-family:",q.a.font.franklinBase,";font-size:",q.a.font.size(12),";line-height:",q.a.font.size(12),";font-weight:",q.a.font.weight.mediumBold,";margin-bottom:4px;display:block;"),ot=Object(E.css)("textarea&{padding-bottom:30px;min-height:88px;margin-bottom:8px;line-height:140%;}"),at=Object(E.css)("textarea{border-color:",q.a.color.red20,";color:",q.a.color.red20,";}"),it=Object(E.css)("width:calc(100% - 40px);margin:0 auto;text-align:right;",q.a.breakpoint.medium,"{width:400px;}"),rt=Object(E.css)("font-size:",q.a.font.size(15),";font-family:",q.a.font.franklinBase,";font-weight:",q.a.font.weight.mediumBold,";line-height:",q.a.font.size(21),";letter-spacing:0.1px;background:",q.a.color.gray20,";display:block;color:",q.a.color.white,";padding:12px 10px 10px 20px;width:100%;margin:14px auto 32px auto;border-radius:3px;cursor:pointer;white-space:nowrap;vertical-align:middle;&::-moz-focus-inner{padding:0;border:0;}&:-moz-focusring{outline:1px dotted;}&:hover{background:",q.a.color.black,";}"),st=Object(E.css)("background:",q.a.color.gray50,";cursor:default;&:hover{cursor:default;background:",q.a.color.gray50,";}");function lt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof window.Proxy)return!0;try{return window.Boolean.prototype.valueOf.call(Reflect.construct(window.Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=g()(t);if(e){var a=g()(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return h()(this,n)}}var ct=function(t){p()(n,t);var e=lt(n);function n(){var t;l()(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))).state={isFocused:!1},t.handleFocus=function(){t.setState({isFocused:!0})},t}return u()(n,[{key:"render",value:function(){var t=this.props,e=t.question,n=t.questionCharCount,o=t.nameCharCount,i=t.locationCharCount,s=t.handleUpdateInput,l=t.error,c=t.submitQuestion,u=t.submitting,d=t.maxCharCount,p=t.name,f=t.location,h=this.state.isFocused,m=Z.messageCTAText,g=n>0&&i>0&&o>0,b=n>d;return v.a.createElement(v.a.Fragment,null,a()("div",{className:Object(E.cx)(r()({},at,b))},void 0,a()("textarea",{onChange:s,onFocus:this.handleFocus,type:"text",placeholder:m.questionPlaceholder,name:"question",value:e,className:Object(E.cx)(K,r()({},ot,h))}),h&&v.a.createElement(v.a.Fragment,null,a()("div",{className:tt},void 0,a()("div",{className:et},void 0,a()("label",{htmlFor:"name",className:nt},void 0,"Name"),a()("input",{onChange:s,type:"text",value:p,name:"name",className:$})),a()("div",{className:et},void 0,a()("label",{htmlFor:"location",className:nt},void 0,"Location"),a()("input",{onChange:s,type:"text",value:f,name:"location",className:$}))),a()("div",{className:it},void 0,a()("button",{className:Object(E.cx)(rt,r()({},st,!g||u)),type:"submit",disabled:!g||u,onClick:c},void 0,u?"Submitting":"Submit your question")))),a()(Y,{showing:l,message:"Oops, we seem to be having a problem. Please refresh this page and try again!"}))}}]),n}(b.Component);ct.displayName="AskForm";var ut,dt,pt,ft=ct,ht=n("Ed5u"),mt=n.n(ht)()([q.a.breakpoint.medium]),gt=Object(E.css)("font-family:",q.a.font.franklinBase,";width:100%;margin:50px auto;text-align:center;&::before,&::after{content:'';display:block;margin:0 auto;width:300px;border-top:1px solid ",q.a.color.gray60,";}",q.a.breakpoint.small,"{max-width:",q.a.breakpoint.textBodyWidth,"px;}",q.a.breakpoint.medium,"{width:calc(",q.a.breakpoint.textBodyWidth,"px * 0.66);}"),bt=Object(E.css)("font-weight:",q.a.font.weight.mediumBold,";padding-top:10px 0 4px 0;margin-bottom:8px;font-family:",q.a.font.serifBase,";",mt({fontSize:[q.a.font.size(18),q.a.font.size(20)],lineHeight:[q.a.font.size(24),q.a.font.size(29)]}),";"),vt=Object(E.css)("margin:16px auto 10px auto;width:64px;height:64px;img{width:64px;height:64px;}"),yt=Object(E.css)("font-size:",q.a.font.size(15),";font-family:",q.a.font.serifBase,";color:",q.a.color.gray27,";line-height:",q.a.font.size(22),";margin:0 auto 16px;font-style:italic;"),xt=Object(E.css)("font-family:",q.a.font.franklinBase,";font-size:",q.a.font.size(14),";color:",q.a.color.gray10,";margin-bottom:32px;a{display:inline-block;color:",q.a.color.gray10,";text-decoration:underline;font-weight:",q.a.font.weight.bold,";}"),wt=Object(E.css)("background:",q.a.color.gray20,";border-radius:3px;margin:0 auto 16px;width:236px;height:40px;padding:11px 15px;font-size:",q.a.font.size(15),";line-height:",q.a.font.size(21),";font-weight:",q.a.font.weight.mediumBold,";font-family:",q.a.font.franklinBase,";color:",q.a.color.white,";&:active{background:",q.a.color.gray20,";}&:hover{background:",q.a.color.black,";}");q.a.color.gray30,q.a.font.size(13);function kt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof window.Proxy)return!0;try{return window.Boolean.prototype.valueOf.call(Reflect.construct(window.Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,o=g()(t);if(e){var a=g()(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return h()(this,n)}}var Ct=(ut=k()(),Object(N.a)(dt=ut(dt=Object(O.a)(dt=function(t){p()(n,t);var e=kt(n);function n(){var t;l()(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))).trackingFired=!1,t.state={question:"",name:"",location:"",questionCharCount:0,nameCharCount:0,locationCharCount:0,isSubmitted:!1,submitError:!1,submitting:!1,modalIsOpen:!1,lireType:"register"},t.trackImpression=function(){!t.trackingFired&&t.props.pageCount&&t.props.tracking.trackEvent({event:"impression",module:{name:"askblock",context:"",label:"AskExperimentalBlock",region:t.props.pageCount.toString()}},(function(){t.trackingFired=!0}))},t.trackClick=function(e){t.props.tracking.trackEvent({event:"moduleInteraction",eventData:{pagetype:"story",trigger:"module",type:"click"},module:{name:"Ask",element:{name:"".concat(e.target.name," link"),label:e.target.innerText,url:e.target.href}}})},t.getQueryStringValue=function(e){var n=t.props.location;return n?x.a.parse(n.search,!0).query[e]:null},t.handleUpdateInput=function(e){var n=e.target,o=n.name,a=n.value,i=" "===a?a.trim():a,s="".concat(o,"CharCount");t.setState(r()({},o,i)),t.setState(r()({},s,a?a.length:0))},t.onLireSuccess=function(){t.closeModal(),t.setState({shouldScrollOnReload:!0}),window.location.reload(!0)},t.scrollPageToModal=function(){window.scrollTo(0,t.refToScrollTo.current.offsetTop-window.innerHeight/4),t.setState({shouldScrollOnReload:!1})},t.showModal=function(e,n){n.preventDefault(),n.stopPropagation(),t.setState({modalIsOpen:!0,lireType:e})},t.closeModal=function(){t.setState({modalIsOpen:!1})},t.getAuthorData=function(){t.props.byline&&t.props.byline[0]&&t.props.byline[0].authors&&t.props.byline[0].authors[0]&&(t.authorName=t.props.byline[0].authors[0].titleCaseName),t.props.byline&&t.props.byline[0]&&t.props.byline[0].authors&&t.props.byline[0].authors[0]&&t.props.byline[0].authors[0].imageId&&(t.authorPhoto=Object(z.b)(t.props.byline[0].authors[0].imageId,["jumbo","superJumbo","articleLarge","popup"]))},t.getAttributeApiUrl=function(t){switch(window.vi.env.ENVIRONMENT){case"prd":return"https://www.nytimes.com/svc/int/attribute/projects/".concat(t,"/submissions.json");default:return"https://www.stg.nytimes.com/svc/int/attribute/projects/".concat(t,"/submissions.json")}},t.submitQuestion=function(e){t.trackClick(e);var n=t.props,o=n.attributeSlug,a=n.user,i=t.getAttributeApiUrl(o),r=t.state,s=r.question,l=r.name,c=r.location;t.setState({submitError:!1,submitting:!0});var u={question_text:s,name_identity:l,location_text:c,email_identity:null==a?void 0:a.email},d={method:"POST",body:JSON.stringify(u),headers:{"Content-Type":"application/json"}};window.fetch(i,d).then((function(e){return e.ok?(t.setState({isSubmitted:!0}),t.setState({submitting:!1}),!0):Promise.reject()})).catch((function(){return t.setState({submitError:!0}),t.setState({submitting:!1}),!1}))},t.clearForm=function(){t.setState({isSubmitted:!1,question:"",questionCharCount:0})},t}return u()(n,[{key:"componentDidMount",value:function(){this.didMount=!0,this.refToScrollTo=v.a.createRef()}},{key:"render",value:function(){var t,e,n=this;this.trackImpression();var o=this.state,i=o.question,r=o.questionCharCount,s=o.nameCharCount,l=o.locationCharCount,c=o.isSubmitted,u=o.submitError,d=o.submitting,p=o.name,f=o.location,h=this.props,m=h.attributeSlug,g=h.headlineContent,b=h.descriptionContent;if(!m)return null;var y=g&&g.length>0?g[0]:"",x=b&&b.length>0?b[0]:"",w=Z.messageCTAText,k=this.props.user,O=this.state,N=O.modalIsOpen,z=O.lireType,j=O.shouldScrollOnReload,T={client_id:"freex",response_type:"cookie",asset:"askInStory",application:"Free_Experience",redirect_uri:(null===(t=this.props)||void 0===t||null===(e=t.article)||void 0===e?void 0:e.url)||"https://www.nytimes.com"};return j&&this.scrollPageToModal(),this.getAuthorData(),v.a.createElement("div",{className:gt,id:"ask-questionnaire",ref:this.refToScrollTo},a()("figure",{className:vt},void 0,this.authorPhoto?a()(C.a,{defaultCropSrc:this.authorPhoto.url,alt:this.authorName}):pt||(pt=a()(_,{}))),c&&v.a.createElement(v.a.Fragment,null,a()("div",{className:bt},void 0,w.submittedHeader),a()("div",{className:yt},void 0,w.submittedDescription),a()("button",{className:wt,onClick:this.clearForm,type:"button"},void 0,w.clearFormButtonCTA)),!c&&v.a.createElement(v.a.Fragment,null,a()("div",{className:bt},void 0,y),a()("div",{className:yt},void 0,x)),!c&&Object(S.d)(k)&&a()(ft,{questionCharCount:r,nameCharCount:s,locationCharCount:l,maxCharCount:500,question:i,handleUpdateQuestion:this.handleUpdateQuestion,handleUpdateInput:this.handleUpdateInput,submitQuestion:this.submitQuestion,name:p,location:f,error:u,submitting:d}),!c&&!Object(S.d)(k)&&v.a.createElement(v.a.Fragment,null,a()("button",{className:wt,type:"button",onClick:function(t){return n.showModal("login",t)}},void 0,w.loginButtonCTA),a()("p",{className:xt},void 0,w.haveAnAccount,"Â ",a()("a",{onClick:function(t){return n.showModal("register",t)},href:"#"},void 0,w.signUpLinkText)),a()(U,{isOpen:N,onLireSuccess:this.onLireSuccess,lireType:z,handleClose:this.closeModal,params:T,contentLabel:"Log in and Registration"})))}}]),n}(b.Component))||dt)||dt)||dt);Ct.displayName="Ask",Ct.defaultProps={location:void 0,article:void 0,attributeSlug:void 0,user:void 0,pageCount:void 0,headlineContent:void 0,descriptionContent:void 0,byline:void 0};e.default=Ct}}]); })();
//# sourceMappingURL=ask-41a92e55af3174e38e5e.js.map