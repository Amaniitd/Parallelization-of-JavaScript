/home/aman/Desktop/Parallelization-of-JavaScript/horcrux-instrumentation-rewriter/node_modules/falafel/index.js
Options are {"useProxy":true,"caching":false,"include_prefix":false,"path":"0.js?_sw-precache=8a7455792f47eefad3153e16e0ef14dd","origPath":"/vi-assets/static-assets/newsletterRecirculation-cc35f23f74213192e100.js?_sw-precache=8a7455792f47eefad3153e16e0ef14dd","e2eTesting":false,"pageLoaded":"true;","invocation_limit":"5000000;","pattern":"cg","proxyName":"window"}
{
  useProxy: true,
  caching: false,
  include_prefix: false,
  path: '0.js?_sw-precache=8a7455792f47eefad3153e16e0ef14dd',
  origPath: '/vi-assets/static-assets/newsletterRecirculation-cc35f23f74213192e100.js?_sw-precache=8a7455792f47eefad3153e16e0ef14dd',
  e2eTesting: false,
  pageLoaded: 'true;',
  invocation_limit: '5000000;',
  pattern: 'cg',
  proxyName: 'window'
}
(window.webpackJsonp=window.webpackJsonp||[]).push([[82],{"/s/a":function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return u})),n.d(t,"a",(function(){return f}));var i=n("Lcdh"),a=n("jVmh"),o=n.n(a),r=n("qdpJ"),s=n("OxA3"),l=Object(i.css)("margin-bottom:48px;",o.a.breakpoint.mediumLarge,"{margin-bottom:60px;}"),c=Object(i.css)("display:none;"),d=Object(i.css)("margin-bottom:16px;padding:0 10px ",r.e/2,"px;border-top:1px solid ",o.a.color.black,";@supports (display:grid){padding:10px 0 0 0;}",o.a.breakpoint.medium,"{margin-bottom:20px;}",s.s,"{border-top:2px solid ",o.a.color.black,";padding-top:10px;}"),u=Object(i.css)("color:",o.a.color.black,";font-family:",o.a.font.franklinBase,";font-size:",o.a.font.size(14),";line-height:",o.a.font.size(20),";letter-spacing:0.1em;text-transform:uppercase;font-weight:",o.a.font.weight.bold,";"),f=Object(i.css)("display:flex;flex-wrap:wrap;",Object(r.c)({width:["100%","".concat(2*r.a+2*r.e,"px"),"".concat(3*r.a+3*r.e,"px"),"".concat(4*r.a+4*r.e,"px")]}),";@supports (display:grid){",Object(r.c)({width:["100%","".concat(2*r.a+1*r.e,"px"),"".concat(3*r.a+2*r.e,"px"),"".concat(4*r.a+3*r.e,"px")]}),";}@supports (display:grid){display:grid;grid-template-columns:repeat(4,",r.a,"px);justify-content:center;",Object(r.c)({gridTemplateColumns:["repeat(1, 100%)","repeat(2, ".concat(r.a,"px)"),"repeat(3, ".concat(r.a,"px)"),"repeat(4, ".concat(r.a,"px)")]}),";grid-column-gap:",r.e,"px;grid-row-gap:10px;",o.a.breakpoint.small,"{grid-row-gap:25px;}}")},OxA3:function(e,t,n){"use strict";n.d(t,"n",(function(){return r})),n.d(t,"i",(function(){return s})),n.d(t,"z",(function(){return l})),n.d(t,"w",(function(){return c})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return f})),n.d(t,"j",(function(){return p})),n.d(t,"A",(function(){return m})),n.d(t,"B",(function(){return g})),n.d(t,"b",(function(){return b})),n.d(t,"r",(function(){return h})),n.d(t,"t",(function(){return x})),n.d(t,"u",(function(){return w})),n.d(t,"g",(function(){return k})),n.d(t,"p",(function(){return v})),n.d(t,"o",(function(){return j})),n.d(t,"m",(function(){return y})),n.d(t,"y",(function(){return z})),n.d(t,"e",(function(){return N})),n.d(t,"l",(function(){return C})),n.d(t,"v",(function(){return L})),n.d(t,"h",(function(){return I})),n.d(t,"x",(function(){return S})),n.d(t,"k",(function(){return T})),n.d(t,"q",(function(){return B})),n.d(t,"f",(function(){return P})),n.d(t,"s",(function(){return U}));var i=n("Lcdh"),a=n("jVmh"),o=n.n(a),r=(o.a.breakpoint.medium,Object(i.css)(o.a.breakpoint.medium,"{margin-left:3%;margin-right:3%;max-width:",o.a.breakpoint.maxDesktopContentWidth,"px;}@media (min-width:1280px){margin-left:auto;margin-right:auto;}")),s=Object(i.css)("margin-top:0;align-self:center;",o.a.breakpoint.small,"{margin-left:0;margin-right:0;max-width:100%;}@media (max-width:",o.a.breakpoint.width.large,"px){width:100%;}@media (min-width:1020px){margin-left:2%;margin-right:2%;}"),l=Object(i.css)("border-top:1px solid ",o.a.color.black,";"),c=Object(i.css)("margin-top:25px;",o.a.breakpoint.small,"{margin-left:auto;margin-right:auto;max-width:100%;}@media print{display:none;}"),d=(o.a.breakpoint.medium,Object(i.css)(o.a.breakpoint.medium,"{margin-left:0;margin-right:auto;}",o.a.breakpoint.mediumLarge,"{width:74.5%;}")),u=Object(i.css)("padding-top:22px;width:auto;margin:auto;@media (min-width:",o.a.breakpoint.width.small,"px) and (max-width:",o.a.breakpoint.width.large,"px){margin:auto;padding-top:22px;}",o.a.breakpoint.medium,"{border-top:none;}"),f=Object(i.css)("width:100%;margin:0;",o.a.breakpoint.medium,"{margin-left:0;margin-right:auto;padding-top:0;}",o.a.breakpoint.mediumLarge,"{padding-top:0;}"),p=Object(i.css)("margin:0;padding-top:0;"),m=Object(i.css)("overflow:hidden;margin:30px 0 0;padding-top:15px;",o.a.breakpoint.medium,"{padding-left:0;padding-right:0;}"),g=Object(i.css)(l," display:flex;flex-direction:column;padding:20px;",o.a.breakpoint.small,"{margin:0 auto;padding:20px 0 0;}",o.a.breakpoint.medium,"{flex-direction:row;}"),b=Object(i.css)("display:flex;flex-direction:column;padding:0 16px;",o.a.breakpoint.medium,"{flex-direction:row;padding:0;}"),h=Object(i.css)("background-color:",o.a.color.white,";"),x=Object(i.css)("margin-right:0;width:100%;",o.a.breakpoint.medium,"{margin-right:0;width:100%;}"),w=Object(i.css)("padding-right:30px;",o.a.breakpoint.small,"{min-width:360px;}",x,";"),k=Object(i.css)(o.a.breakpoint.medium,"{min-width:auto;}",o.a.breakpoint.large,"{min-width:360px;}"),v=Object(i.css)("display:block;margin:0;position:relative;width:100%;"),j=Object(i.css)("height:auto;width:100%;margin-top:10px;",o.a.breakpoint.small,"{margin-top:0;}"),O=Object(i.css)(o.a.breakpoint.mediumLarge,"{max-width:210px;}",o.a.breakpoint.large,"{max-width:180px;}"),y=Object(i.css)("width:100%;margin:0;height:35px;",O,";"),z=Object(i.css)("background:",o.a.color.blue30,";border:1px solid ",o.a.color.blue30,";border-radius:4px;color:",o.a.color.white,";font-family:",o.a.font.franklinBase,";font-size:13px;font-style:normal;font-weight:",o.a.font.weight.bold,";height:auto;line-height:13px;margin-bottom:10px;padding:10px;text-transform:uppercase;width:100%;&:hover{background-color:",o.a.color.blue20,";color:",o.a.color.white,";}&:focus{background-color:",o.a.color.blue20,";color:",o.a.color.white,";}"),N=Object(i.css)("font-family:",o.a.font.franklinBase,";font-size:0.8rem;color:",o.a.color.red10,";margin-top:5px;margin-bottom:10px;"),C=Object(i.css)("font-size:",o.a.font.size(13),";line-height:",o.a.font.size(16),";color:",o.a.color.gray30,";",O,";"),L=Object(i.css)("color:",o.a.color.gray30,";font-family:",o.a.font.franklinBase,";font-size:",o.a.font.size(16),";font-style:normal;font-weight:",o.a.font.weight.medium,";line-height:",o.a.font.size(22),";",o.a.breakpoint.small,"{margin-bottom:10px;}margin-left:0;"),I=Object(i.css)(o.a.breakpoint.small,"{margin-bottom:0;}"),S=Object(i.css)("display:none;color:",o.a.color.blue30,";font-size:",o.a.font.size(10),";line-height:0.75rem;margin-bottom:20px;text-transform:uppercase;"),T=Object(i.css)("font-size:",o.a.font.size(14),";line-height:",o.a.font.size(18),";margin-bottom:5px;",O,";"),B=Object(i.css)("font-size:",o.a.font.size(16),";line-height:",o.a.font.size(22),";color:",o.a.color.black,";font-family:",o.a.font.franklinBase,";font-style:normal;font-weight:",o.a.font.weight.bold,";margin-bottom:15px;",o.a.breakpoint.small,"{font-size:",o.a.font.size(18),";line-height:",o.a.font.size(24),";}"),P=Object(i.css)("margin:0;",o.a.breakpoint.small,"{font-size:",o.a.font.size(16),";}@media (min-width:1020px){display:none;}"),U="@media (max-width: ".concat(o.a.breakpoint.maxMobileContentWidth,"px)")},bWmf:function(e,t,n){"use strict";n.d(t,"q",(function(){return r})),n.d(t,"h",(function(){return s})),n.d(t,"i",(function(){return l})),n.d(t,"l",(function(){return c})),n.d(t,"f",(function(){return d})),n.d(t,"e",(function(){return u})),n.d(t,"p",(function(){return f})),n.d(t,"o",(function(){return p})),n.d(t,"a",(function(){return m})),n.d(t,"n",(function(){return g})),n.d(t,"g",(function(){return b})),n.d(t,"j",(function(){return h})),n.d(t,"m",(function(){return x})),n.d(t,"b",(function(){return w})),n.d(t,"k",(function(){return k})),n.d(t,"d",(function(){return v})),n.d(t,"c",(function(){return j}));var i=n("Lcdh"),a=n("jVmh"),o=n.n(a),r=Object(i.css)("overflow:hidden;padding:0 20px;",o.a.breakpoint.small,"{padding-top:45px;}"),s=Object(i.css)("margin:0 auto ",o.a.font.size(44)," auto;",o.a.breakpoint.small,"{padding-left:76px;padding-right:76px;}",o.a.breakpoint.medium,"{max-width:526px;padding-left:0;padding-right:0;}"),l=Object(i.css)("margin:0 auto ",o.a.font.size(44)," auto;",o.a.breakpoint.medium,"{max-width:1000px;}"),c=Object(i.css)("margin:",o.a.font.size(60)," auto;",o.a.breakpoint.medium,"{max-width:1000px;}"),d=Object(i.css)("display:block;width:82px;height:auto;margin-bottom:",o.a.font.size(24),";",o.a.breakpoint.small,"{width:88px;}",o.a.breakpoint.medium,"{width:91px;}"),u=Object(i.css)("margin-bottom:-10px;font-family:",o.a.font.franklinBase,";font-weight:",o.a.font.weight.bold,";font-size:",o.a.font.size(13),";line-height:",o.a.font.size(14),";color:",o.a.color.black,";letter-spacing:1px;"),f=Object(i.css)("margin-top:",o.a.font.size(24),";font-family:",o.a.font.karnakBase,";font-size:",o.a.font.size(27),";line-height:",o.a.font.size(30),";font-style:normal;color:",o.a.color.black,";",o.a.breakpoint.small,"{margin-top:",o.a.font.size(24),";font-size:",o.a.font.size(31),";line-height:",o.a.font.size(34),";letter-spacing:0.6px;}",o.a.breakpoint.medium,"{font-size:",o.a.font.size(35),";line-height:",o.a.font.size(38),";}"),p=Object(i.css)("font-family:",o.a.font.serifMedium,";font-size:",o.a.font.size(30),";font-style:normal;font-weight:",o.a.font.weight.extraLight,";line-height:",o.a.font.size(34),";letter-spacing:0.15px;margin-top:",o.a.font.size(2),";",o.a.breakpoint.small,"{font-size:",o.a.font.size(34),";line-height:",o.a.font.size(38),";}",o.a.breakpoint.medium,"{font-size:",o.a.font.size(38),";line-height:",o.a.font.size(42),";}"),m=Object(i.styled)("ul",{target:"e1b8yb030"})("margin-top:",o.a.font.size(26),";margin-bottom:",(function(e){var t=e.notShowingLireForm;return"".concat(t?o.a.font.size(26):o.a.font.size(11))}),";margin-left:",o.a.font.size(16),";margin-right:0;list-style:disc;font-family:",o.a.font.franklinBase,";font-size:",o.a.font.size(16),";line-height:",o.a.font.size(22),";letter-spacing:0.2px;"),g=Object(i.css)("display:block;margin-top:1px;margin-left:-5px;"),b=Object(i.css)("display:block;margin:0 0 26px;width:258px;"),h=Object(i.css)("text-align:left;display:inline-block;font-family:",o.a.font.franklinBase,";font-size:",o.a.font.size(16),";font-style:normal;font-weight:",o.a.font.weight.medium,";line-height:",o.a.font.size(20),";width:285px;",o.a.breakpoint.small,"{width:396px;}a{color:",o.a.color.black,";text-decoration:underline;}"),x=Object(i.css)("a{text-decoration:underline;}"),w=Object(i.css)("padding:15px 48px 13px 48px !important;background:",o.a.color.black," !important;border:1px solid ",o.a.color.black," !important;font-weight:",o.a.font.weight.mediumBold," !important;font-size:",o.a.font.size(16)," !important;line-height:",o.a.font.size(18)," !important;&:hover{background:",o.a.color.gray20," !important;}"),k=Object(i.css)("margin:",o.a.font.size(16)," 0;font-family:",o.a.font.franklinBase,";font-size:",o.a.font.size(14),";line-height:",o.a.font.size(18),";"),v=Object(i.css)("font-weight:",o.a.font.weight.bold,";"),j=Object(i.css)("font-weight:",o.a.font.weight.bold,";text-decoration:underline;color:",o.a.color.black,";&:hover{text-decoration:none;}")},"fC+a":function(e,t,n){"use strict";n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return b}));var i,a,o=n("gcR/"),r=n.n(o),s=(n("ERkP"),n("bDYl")),l=n.n(s),c=n("qTBn"),d=n("bWmf"),u=n("oXTd"),f=n("/s/a"),p=n("+zxi"),m=n("HUmG"),g=function(e,t,n){var i,a,o,r=l()(null==e||null===(i=e.newsletterSubscriptions)||void 0===i?void 0:i.newsletters),s=Object(m.e)({id:null==e||null===(a=e.userInfo)||void 0===a?void 0:a.regiId,entitlements:null==e||null===(o=e.userInfo)||void 0===o?void 0:o.entitlements});return function(e,t){return t?e?t.filter((function(t){return(null==e?void 0:e.newsletterId)!==t.newsletterId})):t:[]}(n,Object(p.c)(t,r,s))},b=function(e){var t=e.newsletterConfig,n=e.newsletterSectionConfigs,o=e.user;if(!o)return null;var s=function(e){var t=e?e.filter((function(e){var t;return((null==e||null===(t=e.newsletterSection)||void 0===t?void 0:t.name)||"").toUpperCase()===u.e})).map((function(e){return(null==e?void 0:e.newsletterConfigs)||[]})):[];return t.length?t[0]:[]}(n||[]),l=g(o,s,t).slice(0,4);return null!=l&&l.length?r()("section",{className:d.l,"data-testid":"signup-grid"},void 0,i||(i=r()("header",{className:f.d},void 0,r()("h2",{className:f.e},void 0,"More Newsletters"))),r()("section",{className:f.a},void 0,l.map((function(e,t){return r()("div",{"data-testid":"signup-card-container-".concat((null==e?void 0:e.newsletterId)||"")},"signup-card-container-".concat(t.toString()),r()(c.a,{index:t,newsletterConfig:e,user:o,signupFormVersion:u.c.newsletterIndividualPage,placement:"individual-nl-recirc-test"}),a||(a=r()("br",{})))})))):null};b.displayName="SignupGrid",b.defaultProps={newsletterConfig:{},newsletterSectionConfigs:[],user:void 0}},qdpJ:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return f}));var i=n("Ed5u"),a=n.n(i),o=n("Lcdh"),r=n("jVmh"),s=n.n(r),l=236,c=18,d=a()([s.a.breakpoint.small,"@media (min-width: 780px)",s.a.breakpoint.mediumLarge,s.a.breakpoint.large]),u=Object(o.css)("padding:0 15px;",s.a.breakpoint.small,"{padding:0;}"),f=Object(o.css)("max-width:1000px;",s.a.breakpoint.mediumLarge,"{margin:0 auto;}")},tBcc:function(e,t,n){"use strict";n.r(t);var i=n("gcR/"),a=n.n(i),o=n("J4zp"),r=n.n(o),s=n("ERkP"),l=n.n(s),c=n("ZKN5"),d=n("17x9"),u=(Object(d.shape)({allowedEntitlement:d.string,altText:d.string,caption:d.string,frequency:d.string,isOnsiteFreeTrialEnabled:d.number,newsletterId:d.string,sampleUrl:d.string,subscriptionPageLink:d.string,thumbImageUrl:d.string,title:d.string}),Object(d.shape)({profile:Object(d.shape)({email:d.string}),userInfo:Object(d.shape)({entitlements:Object(d.arrayOf)(d.string)}),newsletterSubscriptions:Object(d.shape)({newsletters:Object(d.arrayOf)(Object(d.shape)({freeTrialSignupTime:d.number,isFreeTrial:d.bool,productCode:d.string}))})}),Object(d.arrayOf)(d.string),n("aFeP")),f=n("qTBn"),p=n("oXTd"),m=n("iPtA"),g=n("Lcdh"),b=n("jVmh"),h=n.n(b),x=Object(g.css)("margin:12px 0 30px 0;min-height:50px;max-width:504px;",h.a.breakpoint.mediumLarge,"{max-width:639px;}",h.a.breakpoint.large,"{max-width:832px;}"),w=Object(g.css)("font-size:",h.a.font.size(16),";line-height:",h.a.font.size(18),";font-family:",h.a.font.franklinBase,";font-weight:",h.a.font.weight.bold,";color:",h.a.color.gray10,";padding:0 0 24px 0;"),k=Object(g.css)("font-size:",h.a.font.size(18),";line-height:",h.a.font.size(23),";font-weight:",h.a.font.weight.bold,";color:",h.a.color.gray10,";font-family:",h.a.font.karnak,";",h.a.breakpoint.mediumLarge,"{font-size:",h.a.font.size(24),";line-height:",h.a.font.size(30),";}"),v=Object(g.css)("display:flex;flex-direction:column;",h.a.breakpoint.mediumLarge,"{flex-direction:row;}"),j=Object(g.css)("display:flex;flex-direction:column;"),O=Object(g.css)("font-size:",h.a.font.size(18),";line-height:",h.a.font.size(23),";font-family:",h.a.font.cheltenham,";font-weight:250;color:",h.a.color.gray10,";",h.a.breakpoint.mediumLarge,"{font-size:",h.a.font.size(24),";line-height:",h.a.font.size(32),";}"),y=Object(g.css)("max-width:100px;height:100px;margin:0 26px 12px 0;",h.a.breakpoint.mediumLarge,"{margin:0 26px 0 0;}"),z=Object(g.css)("text-decoration:underline;font-weight:",h.a.font.weight.medium,";cursor:pointer;"),N=function(e){var t=e.user,n=e.newsletter,i=e.showSuccess,o=e.alreadyReceiving,r=e.onClick,s=function(){i||r()},l=n.getData(),c=l.title,d=l.frequency,u=l.thumbImageUrl,f=l.caption,p=Object(m.getInArticleSignupText)(n,t),g=Object(m.getInArticleConfirmationText)(n);return a()("section",{className:x,"data-testid":"more-from-signup-card"},void 0,a()("h2",{className:w},void 0,"More from the ",c," Newsletter"),a()("div",{className:v},void 0,a()("div",{className:y},void 0,a()("img",{alt:c,src:u})),a()("div",{className:j},void 0,a()("p",{className:k},void 0,c),a()("p",{className:O,"data-testid":"caption"},void 0,f," Sends ",d.toLowerCase(),"."," ",!i&&!o&&a()("span",{onKeyDown:function(e){return"Enter"===e.key||"Space"===e.key?s():null},role:"button",tabIndex:0,onClick:function(){return s()},className:z,"data-testid":"sign-up-CTA"},void 0,p),i&&t&&a()("span",{"data-testid":"confirmation-copy"},void 0,g)))))};N.displayName="MoreFromCard",N.defaultProps={user:void 0,newsletter:void 0,showSuccess:!1,alreadyReceiving:!1,onClick:function(){}};var C=N,L=function(e){var t=e.newsletterConfig,n=e.user;return n&&t?a()(f.a,{newsletterConfig:t,user:n,signupFormVersion:p.c.newsletterSubOnlyIndexPage,geminiPageRef:p.d.newsletterSubOnlyIndexPage,CardComponent:C},t.newsletterId):null};L.displayName="NewsletterSignup";var I=L,S=n("VkAN"),T=n.n(S),B=n("Ck9z"),P=n.n(B),U=n("Ggfp"),q=n("X6oL"),A=n("hkPW"),E=n("B2Q+"),R=n("hG4R"),F=n("hAwj"),M=n("Ed5u"),$=n.n(M)()([h.a.breakpoint.small,h.a.breakpoint.medium,h.a.breakpoint.mediumLarge,h.a.breakpoint.large]),V=Object(g.css)("margin:0 0 30px;border-top:1px solid ",F.color.stroke.quaternary,";"),_=Object(g.css)("font-size:",h.a.font.size(16),";line-height:",h.a.font.size(18),";font-family:",h.a.font.franklinBase,";font-weight:",h.a.font.weight.bold,";color:",h.a.color.gray10,";padding:12px 0 24px;",h.a.breakpoint.mediumLarge,"{padding-bottom:12px;}"),D=Object(g.css)("display:flex;flex-direction:column;font-family:",h.a.font.cheltenham,";font-weight:",h.a.font.weight.medium,";letter-spacing:0.2px;color:",h.a.color.gray10,";gap:15px;",h.a.breakpoint.mediumLarge,"{flex-direction:row;}"),H=Object(g.css)("display:flex;flex-direction:row;",h.a.breakpoint.mediumLarge,"{flex-direction:column;flex:1 1 0;}",$({maxWidth:[null,null,null,"180px","226px"]})),W=Object(g.css)("a img{",$({maxWidth:["75px","122px",null,"180px","226px"],height:["75px","89px",null,"116px","146px"]}),"}margin:0;"),J=Object(g.css)("font-family:",h.a.font.cheltenham,";font-weight:",h.a.font.weight.medium,";color:",h.a.color.black,";margin:auto 0;",$({fontSize:["".concat(h.a.font.size(17)),"".concat(h.a.font.size(18)),null,null,null],lineHeight:["".concat(h.a.font.size(20)),"".concat(h.a.font.size(22)),null,null,null],margin:["auto 10px","auto 10px","auto 10px","0 0 0 0","0 0 0 0"]})),G=Object(g.css)("font-family:",h.a.font.serifSmall,";margin-top:3px;min-height:12px;display:none;",h.a.breakpoint.mediumLarge,"{display:block;}"),Q=Object(g.css)("text-align:right;color:",F.color.content.quaternary,";font-size:0.6em;line-height:1.23em;margin:3px 7px 0;letter-spacing:0;"),X=function(e){var t=e.node,n=e.index,i=Object(q.useTracking)().trackEvent,o=function(e,t){var n,i;return e?{event:"impression",card:{url:null==e?void 0:e.url,index:t,id:null==e?void 0:e.sourceId,type:"asset",algos:{}},block:{label:null==e||null===(n=e.associatedNewsletter)||void 0===n||null===(i=n.newsletterProduct)||void 0===i?void 0:i.name,name:"associated_collection_recirc",template:"associated_collection_recirc",region:"footer"}}:{}}(t,n),r=function(e,t){var n,i;return e?{event:"moduleInteraction",module:{label:null==e||null===(n=e.associatedNewsletter)||void 0===n||null===(i=n.newsletterProduct)||void 0===i?void 0:i.name,name:"asset click",context:"associated_collection_recirc",element:{url:null==e?void 0:e.url,index:t,id:null==e?void 0:e.sourceId,type:"asset",algos:{}}},eventData:{pagetype:"asset",type:"click"}}:{}}(t,n),s=function(){return i(r)},c=Object(A.a)({threshold:.5,data:o}),d=c.isTracked,u=c.ref,f=t.promotionalHeadline,p=t.promotionalMedia,m=t.url,g=t.sourceId;if(!m||!f)return null;var b="smartphone"===Object(E.a)()?"thumbLarge":"mediumThreeByTwo252",h=Object(R.b)(p,b,"mediumThreeByTwo440"),x=null==p?void 0:p.credit;return l.a.createElement("div",{className:H,ref:d?null:u,"data-testid":"newsletter-article-".concat(g)},(null==h?void 0:h.url)&&a()("div",{className:W},void 0,a()("a",{href:m,onClick:s},void 0,a()("img",{src:h.url,alt:"recent issues"}),a()("figcaption",{className:G},void 0,x&&a()("section",{className:Q},void 0,x)))),a()("div",{className:J},void 0,a()("a",{href:m,onClick:s},void 0,a()("h3",{},void 0,f))))};X.displayName="NewsletterArticle",X.defaultProps={node:null,index:null};var K,Y,Z=Object(c.a)(X),ee=P()(K||(K=T()(['\n  query RecentIssuesQuery($id: String!, $first: Int) {\n    legacyCollection(id: $id) {\n      id\n      url\n      assets(first: $first) {\n        edges {\n          node {\n            ... on Article {\n              id\n              sourceId\n              associatedNewsletter {\n                newsletterProduct {\n                  id\n                  code\n                  name\n                }\n              }\n            }\n            ... on Published {\n              url\n              firstPublished\n            }\n            promotionalHeadline\n            promotionalSummary\n            promotionalMedia {\n              __typename\n              ... on Image {\n                id\n                credit\n                crops(\n                  renditionNames: ["thumbLarge", "mediumThreeByTwo252", "mediumThreeByTwo440"]\n                ) {\n                  name\n                  renditions {\n                    url\n                    name\n                    width\n                    height\n                  }\n                }\n              }\n            }\n            ... on Node {\n              id\n            }\n          }\n        }\n      }\n    }\n  }\n']))),te=function(e){var t=e.collectionUris,n=Object(U.useQuery)(ee,{variables:{first:20,id:null==t?void 0:t[0]},ssr:!1,fetchPolicy:"cache-first",partialRefetch:!0}),i=n.loading,o=n.error,r=n.data;if(o||i&&!r)return null;var s=function(e){var t,n,i,a;return null==e||null===(t=e.legacyCollection)||void 0===t||null===(n=t.assets)||void 0===n||null===(i=n.edges)||void 0===i||null===(a=i.filter((function(e){var t;return null==e||null===(t=e.node)||void 0===t?void 0:t.associatedNewsletter})))||void 0===a?void 0:a.slice(0,5)}(r);return null!=s&&s.length?a()("section",{className:V},void 0,Y||(Y=a()("h2",{className:_},void 0,"Recent issues from this newsletter")),a()("div",{className:D},void 0,s.map((function(e,t){var n=e.node;return a()(Z,{node:n,index:t})})))):null};te.displayName="RecentIssues";var ne,ie=Object(c.a)(te),ae=function(e){var t=e.newsletterConfig,n=e.user,i=e.collectionUris;return l.a.createElement(l.a.Fragment,null,t&&a()(I,{newsletterConfig:t,user:n}),i&&a()(ie,{collectionUris:i}))},oe=n("+zxi"),re=n("fC+a"),se=P()(ne||(ne=T()(["\n  query AlgosRecommendedNewsletterHookQuery(\n    $assetUri: String!\n    $listUri: PersonalizedListUri!\n    $first: Int\n  ) {\n    lists {\n      personalizedList(\n        listUri: $listUri\n        first: $first\n        personalizedListContext: { assetUri: $assetUri }\n      ) {\n        edges {\n          node {\n            ... on HelixNewsletterProduct {\n              # id and code are\n              id\n              code\n\n              newsletterProductData {\n                code\n                name\n                allowedEntitlement\n                subscriptionPageLink\n                isOnsiteFreeTrialEnabled\n                splashSignupCaption\n                signupModuleHeadline\n                signupModuleSummary\n                sampleLink\n                signupTitleImage\n                signupAltText\n                splashThumbImage\n                frequency\n                sampleLink\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n"])));var le,ce=function(e){var t=e.assetUri,n=void 0===t?"":t,i=e.listUri,a=void 0===i?p.j:i,o=e.first,l=void 0===o?1:o,c=Object(U.useApolloClient)(),d=Object(s.useState)(null),u=r()(d,2),f=u[0],m=u[1];return Object(s.useEffect)((function(){var e=!1;return c.query({query:se,variables:{listUri:a,assetUri:n,first:l}}).then((function(t){var n=t.error,i=t.loading,a=t.data;e||i||(n&&m(""),m((null==a?void 0:a.lists)||null))})).catch((function(){m("")})),function(){e=!0}}),[c,n,a,l]),f},de=Object(g.css)("border-top:1px solid ",F.color.stroke.quaternary,";margin:10px 0;"),ue=Object(g.css)("font-size:",h.a.font.size(16),";line-height:",h.a.font.size(19),";font-family:",h.a.font.franklinBase,";font-weight:",h.a.font.weight.bold,";color:",h.a.color.gray10,";padding:12px 0 24px 0;"),fe=Object(g.css)("display:flex;flex-wrap:wrap;"),pe=Object(g.css)("width:100%;margin-bottom:18px;",h.a.breakpoint.small,"{width:226px;margin-right:16px;section > div > button{width:102px;font-size:0.688rem;}&:last-of-type{margin-right:0;}}:nth-of-type(5){display:none;@media (min-width:1250px){display:block;}}"),me=function(e){var t,n=e.user,i=e.newsletterConfig,o=ce({first:8});if(!n||!o)return null;var r=function(e){var t,n;return null==e||null===(t=e.personalizedList)||void 0===t||null===(n=t.edges)||void 0===n?void 0:n.map((function(e){var t=(null==e?void 0:e.node).newsletterProductData;return t?Object(oe.b)(t):null}))}(o);if(!r)return null;var s=null===(t=Object(re.b)(n,r,i))||void 0===t?void 0:t.slice(0,5);if(null==s||!s.length)return null;var l={name:"index-newsletters",context:"index-so-newsletters",region:"footer",label:"logged in"};return a()("section",{className:de,"data-testid":"newsletter-band"},void 0,le||(le=a()("h2",{className:ue},void 0,"More Subscriber-Only Newsletters")),a()("section",{className:fe},void 0,s.map((function(e,t){return a()("div",{className:pe,"data-testid":"signup-card-container-".concat((null==e?void 0:e.newsletterId)||"")},"signup-card-container-".concat(t.toString()),a()(f.a,{index:t,newsletterConfig:e,user:n,signupFormVersion:p.c.onsiteNLBottom,trackingParams:l}))}))))};me.displayName="NewsletterBand";var ge=Object(c.a)(me),be=Object(g.css)("margin-left:auto;margin-right:auto;margin-top:30px;width:calc(100% - 40px);max-width:600px;border-top:2px solid ",h.a.color.gray10,";",h.a.breakpoint.mediumLarge,"{max-width:960px;}",h.a.breakpoint.large,"{max-width:1200px;}"),he=(h.a.font.size(16),h.a.font.size(19),h.a.font.franklinBase,h.a.font.weight.bold,h.a.color.gray10,function(e){var t=e.newsletterConfig,n=e.collectionUris,i=Object(s.useState)(!0),o=r()(i,2),l=o[0],c=o[1],d=Object(u.a)();return Object(s.useEffect)((function(){d&&c(!1)}),[d]),l||!t?null:a()("section",{className:be,id:"newsletter-recirculation"},void 0,a()(ae,{newsletterConfig:t,user:d,collectionUris:n}),a()(ge,{newsletterConfig:t,user:d}))});he.displayName="NewsletterRecirculation";t.default=Object(c.a)(he)}}]);
//# sourceMappingURL=newsletterRecirculation-cc35f23f74213192e100.js.map
[rtiDebugInfo]0 99
