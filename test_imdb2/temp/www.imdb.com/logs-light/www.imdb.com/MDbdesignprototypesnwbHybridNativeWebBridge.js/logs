/home/aman/Desktop/Parallelization-of-JavaScript/horcrux-instrumentation-rewriter/node_modules/falafel/index.js
Options are {"useProxy":true,"caching":false,"include_prefix":false,"path":"MDb/design/prototypes/nwb/HybridNativeWebBridge.js","origPath":"/images/G/01/IMDb/design/prototypes/nwb/HybridNativeWebBridge.js","e2eTesting":false,"pageLoaded":"true;","invocation_limit":"5000000;","pattern":"cg","proxyName":"window"}
{
  useProxy: true,
  caching: false,
  include_prefix: false,
  path: 'MDb/design/prototypes/nwb/HybridNativeWebBridge.js',
  origPath: '/images/G/01/IMDb/design/prototypes/nwb/HybridNativeWebBridge.js',
  e2eTesting: false,
  pageLoaded: 'true;',
  invocation_limit: '5000000;',
  pattern: 'cg',
  proxyName: 'window'
}
parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"WBRF":[function(require,module,exports) {
"use strict";function e(r){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(r)}Object.defineProperty(exports,"__esModule",{value:!0});var r=function(){return function(r){var t=this;if(void 0===r&&(r=[]),this.observers=[],this.clear=function(){for(var e=t.observers.length-1;e>0;e--)t.observers.splice(e,1)},this.notify=function(e,r){"string"==typeof e&&t.observers.forEach(function(o){t.notifyObserver(o,e,r)})},this.notifyObserver=function(r,t,o){r&&"object"===e(r)&&r[t]&&"function"==typeof r[t]&&r[t].apply(r,o)},this.subscribe=function(r){return!(!r||"object"!==e(r)||-1!==t.observers.indexOf(r)||(t.observers.push(r),0))},this.unsubscribe=function(e){var r=t.observers.indexOf(e);return!(!e||-1===r||(t.observers.splice(r,1),0))},this.getAllObserverKeys=function(){var e=new Set;return t.observers.forEach(function(r){Object.keys(r).forEach(function(r){e.add(r)})}),e},!(r instanceof Array))throw new TypeError("Notifiers should be instantiated with either an Array of observers or no argument at all. Received "+r);this.clear(),r.forEach(function(e){return t.subscribe(e)})}}();exports.default=r;
},{}],"tGJt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){var t=e;try{t=JSON.parse(e)}catch(r){t=e}return t};
},{}],"o2OF":[function(require,module,exports) {
"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}var t=this&&this.__spreadArrays||function(){for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var s=Array(e),n=0;for(t=0;t<i;t++)for(var o=arguments[t],r=0,a=o.length;r<a;r++,n++)s[n]=o[r];return s},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.NativeWebBridge=void 0;var s=i(require("@imdb/gungnir/notifier")),n=i(require("./utils/parseStringOrJSON")),o={onScrollChange:"scrollOffset",onViewportSizeChange:"viewportSize",onWidgetSizeChange:"widgetSize",onWidgetReadyForDisplayChange:"readyForDisplay"},r=function(){function i(i){var r=this;this.notifier=new s.default,this.subscriptions=new Set,this.updateValueStore=new Map,this._displayReady=!1,this.isBrowser=!1,this.displayData={readyForDisplay:!1,viewportSize:{width:0,height:0},widgetSize:{width:0,height:0},scrollOffset:0},this.sendUpdate=function(e,t){var i=n.default(t);r.storeUpdateValue(e,i),r.notify(e,[i]),r.validateDisplayReady()},this.handleResponse=function(e,t,i){r.context.handleResponse(e,t,i)},this.subscribe=function(e){var t=r.notifier.subscribe(e);return r.notifyExistingSubscriptions(Object.keys(e)),r.subscribeToObserverKeys(r.notifier.getAllObserverKeys()).then(function(){}).catch(function(e){console.warn("NativeWebBridge.subscribe() error",e)}),t},this.unsubscribe=function(e){return r.notifier.unsubscribe(e)},this.getScreenSize=function(){return r.context.sendRequest("getScreenSize")},this.getViewportSize=function(){return r.context.sendRequest("getViewportSize")},this.getWidgetSize=function(){return r.context.sendRequest("getWidgetSize")},this.getTheme=function(){return r.context.sendRequest("getTheme")},this.getPlatform=function(){return r.context.sendRequest("getPlatform")},this.getIsUserLoggedIn=function(){return r.context.sendRequest("getIsUserLoggedIn")},this.getWatchlistStatus=function(e){return r.context.sendRequest("getWatchlistStatus",{tconst:e})},this.setAllowHorizontalScroll=function(){return r.context.sendRequest("setAllowHorizontalScroll")},this.setWidgetAspectRatio=function(e){return"number"!=typeof e||e<=0?new Promise(function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];t[1]({type:"invalidValue",message:"setWidgetAspectRatio can not be less than or equal to zero - [aspectRatio argument = "+e+"]"})}):new Promise(function(t,i){r.context.sendRequest("setWidgetAspectRatio",{aspectRatio:e}).then(function(e){r.notify("onWidgetSizeChange",[e]),t(e)}).catch(function(e){i(e)})})},this.subscribeToScrollChanges=function(e){return void 0===e&&(e=!0),r.addSubscription("subscribeToScrollChanges",{realtime:e})},this.unsubscribeFromScrollChanges=function(){return r.removeSubscription("unsubscribeFromScrollChanges")},this.addToWatchlist=function(e){return r.context.sendRequest("addToWatchlist",{tconst:e})},this.removeFromWatchlist=function(e){return r.context.sendRequest("removeFromWatchlist",{tconst:e})},this.playVideoWithTrackers=function(e,t){return r.context.sendRequest("playVideoWithTrackers",{videoId:e,trackers:t})},this.broadcastAction=function(t){return"string"!=typeof t?new Promise(function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];i[1]({type:"invalidValue",data:"NativeWebBridge.broadcastAction() must be a string. Argument is : "+e(t)})}):r.context.sendRequest("broadcastAction",{data:t})},this.addSubscription=function(e){for(var i,s=[],n=1;n<arguments.length;n++)s[n-1]=arguments[n];return r.subscriptions.has(e)?new Promise(function(e){e()}):(r.subscriptions.add(e),(i=r.context).sendRequest.apply(i,t([e],s)))},this.removeSubscription=function(e){return r.subscriptions.has(e)?(r.subscriptions.delete(e),r.context.sendRequest(e)):new Promise(function(e){e()})},this.notifyExistingSubscriptions=function(e){e.forEach(function(e){r.updateValueStore.has(o[e])&&r.notify(e,[r.updateValueStore.get(o[e])])})},this.notify=function(e){for(var i,s=[],n=1;n<arguments.length;n++)s[n-1]=arguments[n];(i=r.notifier).notify.apply(i,t([e],s))},this.subscribeToWidgetSizeChanges=function(){return r.addSubscription("subscribeToWidgetSizeChanges")},this.subscribeToViewportSizeChanges=function(){return r.addSubscription("subscribeToViewportSizeChanges")},this.subscribeToBroadcasts=function(){return r.addSubscription("subscribeToBroadcasts")},this.subscribeToWidgetReadyForDisplayChanges=function(){return r.addSubscription("subscribeToWidgetReadyForDisplayChanges")},this.subscribeToDisplayReady=function(){var e=[r.subscribeToViewportSizeChanges(),r.subscribeToWidgetSizeChanges(),r.subscribeToScrollChanges(),r.subscribeToWidgetReadyForDisplayChanges()];return new Promise(function(t,i){Promise.all(e).then(function(){t()}).catch(function(e){i({reason:e})})})},this.subscribeToObserverKeys=function(e){var t=[];return e.forEach(function(e){switch(e){case"onWidgetReadyForDisplayChange":t.push(r.subscribeToWidgetReadyForDisplayChanges());break;case"onScrollChange":t.push(r.subscribeToScrollChanges());break;case"onWidgetSizeChange":t.push(r.subscribeToWidgetSizeChanges());break;case"onViewportSizeChange":t.push(r.subscribeToViewportSizeChanges());break;case"onBroadcastAction":t.push(r.subscribeToBroadcasts());break;case"onDisplayReady":t.push(r.subscribeToDisplayReady())}}),new Promise(function(e,i){Promise.all(t).then(function(){e(!0)}).catch(function(e){i(e)})})},this.storeUpdateValue=function(e,t){if("string"==typeof o[e])switch(r.updateValueStore.set(o[e],t),e){case"displayReady":r.displayData.readyForDisplay=t;break;case"widgetSize":r.displayData.widgetSize=t;break;case"viewportSize":r.displayData.viewportSize=t;break;case"scrollOffset":r.displayData.scrollOffset=t}},this.validateDisplayReady=function(){if(!r.displayReady){var e=r.updateValueStore;e.has("viewportSize")&&e.has("widgetSize")&&e.has("scrollOffset")&&e.has("readyForDisplay")&&e.get("readyForDisplay")&&(r._displayReady=!0,r.displayData.readyForDisplay=e.get("readyForDisplay"),r.displayData.viewportSize=e.get("viewportSize"),r.displayData.widgetSize=e.get("widgetSize"),r.displayData.scrollOffset=e.get("scrollOffset"),r.notifier.notify("onDisplayReady",[r.displayData]))}},this.context=i,this.context.isBrowser&&(this.isBrowser=!0,this.context.updateMethod=this.sendUpdate)}return Object.defineProperty(i.prototype,"displayReady",{get:function(){return this._displayReady},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"element",{get:function(){return this.context.element},set:function(e){this.context.element=e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"root",{get:function(){return this.context.root},set:function(e){this.context.root=e},enumerable:!1,configurable:!0}),i}();exports.NativeWebBridge=r,exports.default=r;
},{"@imdb/gungnir/notifier":"WBRF","./utils/parseStringOrJSON":"tGJt"}],"StlK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var x=/[xy]/g,e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx";exports.default=function(){var r=Date.now();return e.replace(x,function(x){var e=(r+16*Math.random())%16|0;return r=Math.floor(r/16),("x"==x?e:3&e|8).toString(16)})};
},{}],"xlgf":[function(require,module,exports) {
"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}var t=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var i=t(require("../utils/generateUUID")),n=t(require("../utils/parseStringOrJSON")),o=function(){function t(){var o=this;this.promiseMap=new Map,this.isIOS=t.isIOS(),this.isAndroid=t.isAndroid(),this.sendRequest=function(t,n){return void 0===n&&(n=null),new Promise(function(r,s){var d=i.default();try{if(o.promiseMap.set(d,{key:t,resolve:r,reject:s}),o.isIOS){var u={key:t,data:n,uuid:d};window.webkit.messageHandlers.nativeRequest.postMessage(u)}else{if(!o.isAndroid)throw new Error("could not find a Native Request handler");var a="object"===e(n)?JSON.stringify(n):n;window.NativeWebBridgeAndroid.sendRequest(t,d,a)}}catch(f){o.promiseMap.delete(d),s({type:"native",error:f})}})},this.handleResponse=function(e,t,i){var r,s=o.promiseMap.get(e);s?i?s.reject({type:"native",error:i}):"string"==typeof t?(r=n.default(t),s.resolve(r)):s.resolve(t):console.warn("promise id "+e+" not found"),o.promiseMap.delete(e)}}return t.hasAppContext=function(){return t.isIOS()||t.isAndroid()},t.isIOS=function(){return void 0!==window.webkit&&void 0!==window.webkit.messageHandlers&&void 0!==window.webkit.messageHandlers.nativeRequest&&"function"==typeof window.webkit.messageHandlers.nativeRequest.postMessage},t.isAndroid=function(){return void 0!==window.NativeWebBridgeAndroid&&void 0!==window.NativeWebBridgeAndroid.sendRequest},t}();exports.default=o;
},{"../utils/generateUUID":"StlK","../utils/parseStringOrJSON":"tGJt"}],"Ai1e":[function(require,module,exports) {
var global = arguments[3];
var t=arguments[3],n="Expected a function",e=NaN,i="[object Symbol]",r=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,f=/^0o[0-7]+$/i,a=parseInt,c="object"==typeof t&&t&&t.Object===Object&&t,l="object"==typeof self&&self&&self.Object===Object&&self,s=c||l||Function("return this")(),v=Object.prototype,p=v.toString,y=Math.max,d=Math.min,m=function(){return s.Date.now()};function b(t,e,i){var r,o,u,f,a,c,l=0,s=!1,v=!1,p=!0;if("function"!=typeof t)throw new TypeError(n);function b(n){var e=r,i=o;return r=o=void 0,l=n,f=t.apply(i,e)}function g(t){var n=t-c;return void 0===c||n>=e||n<0||v&&t-l>=u}function h(){var t=m();if(g(t))return x(t);a=setTimeout(h,function(t){var n=e-(t-c);return v?d(n,u-(t-l)):n}(t))}function x(t){return a=void 0,p&&r?b(t):(r=o=void 0,f)}function T(){var t=m(),n=g(t);if(r=arguments,o=this,c=t,n){if(void 0===a)return function(t){return l=t,a=setTimeout(h,e),s?b(t):f}(c);if(v)return a=setTimeout(h,e),b(c)}return void 0===a&&(a=setTimeout(h,e)),f}return e=O(e)||0,j(i)&&(s=!!i.leading,u=(v="maxWait"in i)?y(O(i.maxWait)||0,e):u,p="trailing"in i?!!i.trailing:p),T.cancel=function(){void 0!==a&&clearTimeout(a),l=0,r=c=o=a=void 0},T.flush=function(){return void 0===a?f:x(m())},T}function g(t,e,i){var r=!0,o=!0;if("function"!=typeof t)throw new TypeError(n);return j(i)&&(r="leading"in i?!!i.leading:r,o="trailing"in i?!!i.trailing:o),b(t,e,{leading:r,maxWait:e,trailing:o})}function j(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}function h(t){return!!t&&"object"==typeof t}function x(t){return"symbol"==typeof t||h(t)&&p.call(t)==i}function O(t){if("number"==typeof t)return t;if(x(t))return e;if(j(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=j(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(r,"");var i=u.test(t);return i||f.test(t)?a(t.slice(2),i?2:8):o.test(t)?e:+t}module.exports=g;
},{}],"jaYC":[function(require,module,exports) {
"use strict";function e(e,t,r){var u=t<=r?t:r,o=t>=r?t:r;return u===o?u:e<u?u:e>o?o:e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;
},{}],"kHqO":[function(require,module,exports) {
"use strict";function o(r){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(r)}function r(o,r){for(var t=[],e=o[r].length,n=0;n<e;n++)t.push(r+"[]="+o[r][n]);return t}function t(t){if(!t)return"";var e,n=[];for(e in t)Array.isArray(t[e])?n=n.concat(r(t,e)):"object"===o(t[e])?n.push(e+"="+JSON.stringify(t[e])):n.push(e+"="+t[e]);return n.join("&")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.encodeAsFormData=exports.encodeArray=void 0,exports.encodeArray=r,exports.encodeAsFormData=t;
},{}],"fwHL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getLoginStatus=void 0;var e="/registration/is-user-recognized";function t(){return new Promise(function(t,r){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===n.readyState)try{var e=JSON.parse(n.response);e&&!0===e.isUserRecognized?t():r()}catch(s){r()}},n.open("GET",e),n.send()})}exports.getLoginStatus=t;
},{}],"VfQ5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.WatchlistAPI=void 0;var t=require("../../utils/xhr"),e=require("../user"),n=require("../../notifier"),s="/watchlist/",r="/list/_ajax/watchlist_has",i="watchlistRibbon",o=new n.default,a=!1;function c(t){return Array.isArray(t)?t:t.indexOf(",")>-1?t.replace(/\s+/g,"").split(","):[t]}function d(t,e,n){return function(){4===t.readyState&&(200!==t.status?n({type:"xmlhttprequestError",error:t}):200!==(t.response.hasOwnProperty("status")?t.response.status:t.status)?n({type:"xmlhttprequestError",error:t}):e(t.response))}}function u(e,n){return new Promise(function(i,o){var a=t.encodeAsFormData(n),c=new XMLHttpRequest;switch(c.onreadystatechange=d(c,i,o),c.responseType="json",e){case"add":c.open("PUT",s+n.consts),c.setRequestHeader("Content-type","application/x-www-form-urlencoded"),c.send(a);break;case"remove":c.open("DELETE",s+n.consts),c.setRequestHeader("Content-type","application/x-www-form-urlencoded"),c.send(a);break;case"get":c.open("POST",r,!0),c.setRequestHeader("Content-type","application/x-www-form-urlencoded"),c.send(a);break;default:o({type:"invalidRequestMethod",error:e})}})}function l(t){window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.widgetWatchlistEventHandler&&"function"==typeof window.webkit.messageHandlers.widgetWatchlistEventHandler.postMessage&&window.webkit.messageHandlers.widgetWatchlistEventHandler.postMessage(JSON.stringify(t)),window.androidWidgetEventHandler&&window.androidWidgetEventHandler.handleWatchlistEvent&&"function"==typeof window.androidWidgetEventHandler.handleWatchlistEvent&&window.androidWidgetEventHandler.handleWatchlistEvent(JSON.stringify(t))}function w(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];o.notify(t,e)}var h=function(){return function(){this.contains=function(t){var n={consts:c(t),tracking_tag:i};return new Promise(function(t,s){var r=function(e){for(var s=n.consts.length,r=e&&void 0!==e.has,i=0;i<s&&r;i++)r=void 0!==e.has[n.consts[i]];t(r)};a?u("get",n).then(r).catch(s):e.getLoginStatus().then(function(){a=!0,u("get",n).then(r).catch(s)}).catch(function(){a=!1,s({type:"unrecognizedUser"})})})},this.add=function(t){var n={consts:c(t),tracking_tag:i};return new Promise(function(t,s){var r=function(e){var s={titleId:n.consts[0]};e.list_item_id&&(s.listItemId="li"+e.list_item_id),l(s),t(e)};a?u("add",n).then(r).catch(s):e.getLoginStatus().then(function(){a=!0,u("add",n).then(r).catch(s)}).catch(function(){a=!1,s({type:"unrecognizedUser"})})})},this.remove=function(t){var e={consts:c(t),tracking_tag:i};return new Promise(function(t,n){u("remove",e).then(function(){l({titleId:e.consts[0]}),t()}).catch(n)})},this.subscribe=function(t){return o.subscribe(t)},this.unsubscribe=function(t){return o.unsubscribe(t)}}}();exports.WatchlistAPI=h;var f=new h;exports.default=f;
},{"../../utils/xhr":"kHqO","../user":"fwHL","../../notifier":"WBRF"}],"jVHQ":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("../utils/generateUUID")),n=e(require("lodash.throttle")),o=e(require("@imdb/gungnir/utils/clamp")),i=e(require("@imdb/gungnir/imdb/watchlist/watchlistAPI")),s=require("@imdb/gungnir/imdb/user"),r="nativewebbridgebroadcast",l=function(){function e(e,o,l){var a=this;this.subscribedToBroadcasts=!1,this.subscribedToViewport=!1,this.subscribedToWidget=!1,this.promiseMap=new Map,this._offsetElementPosition={x:0,y:0},this._root=window,this._scrollFPS=60,this.isBrowser=!0,this.sendRequest=function(e,n){return void 0===n&&(n=null),new Promise(function(o,i){if(void 0!==a[e]){var s=t.default();a.promiseMap.set(s,{key:e,resolve:o,reject:i}),a[e](s,n)}else i({type:"unsupportedFeature",error:"NativeWebBridge - BrowserContext["+e+"] is undefined"})})},this.handleResponse=function(e,t,n){var o=a.promiseMap.get(e);o?n?o.reject({type:"native",error:n}):o.resolve(t):console.warn("promise id "+e+" not found"),a.promiseMap.delete(e)},this.getScreenSize=function(e){var t={width:window.screen.availWidth,height:window.screen.availHeight};a.handleResponse(e,t)},this.getWidgetSize=function(e){if(a.element){var t=a.element.getBoundingClientRect(),n=t.width,o=t.height;a.handleResponse(e,{width:n,height:o})}else a.handleResponse(e,null,{type:"invalidValue",message:"no element defined in BrowserContext"})},this.getViewportSize=function(e){if(a.root){var t=a.calculateViewportSize();a.handleResponse(e,t)}else a.handleResponse(e,null,{type:"invalidValue",message:"no root defined in BrowserContext"})},this.getIsUserLoggedIn=function(e){s.getLoginStatus().then(function(t){a.handleResponse(e,t)}).catch(function(t){a.handleResponse(e,null,t)})},this.getTheme=function(e){a.handleResponse(e,"")},this.getPlatform=function(e){a.handleResponse(e,"browser")},this.getWatchlistStatus=function(e,t){i.default.contains(t.tconst).then(function(t){a.handleResponse(e,t)}).catch(function(t){a.handleResponse(e,null,t)})},this.setWidgetAspectRatio=function(e,t){var n=t.aspectRatio;if(a.element){var o=a.element.clientWidth,i=Math.round(a.element.clientWidth/n);a.element.style.height=i+"px",a.handleResponse(e,{width:o,height:i})}else a.handleResponse(e,null,{type:"invalidValue",message:"no element defined in BrowserContext"})},this.setAllowHorizontalScroll=function(e){a.handleResponse(e,!0)},this.subscribeToScrollChanges=function(e){a.element?a.root?(a._offsetElementPosition=a.calculateOffsetElementPosition(),a.intersectionObserver=new IntersectionObserver(a.intersectionListener),a.intersectionObserver.observe(a.element),a.scroll(),a.handleResponse(e,!0)):a.handleResponse(e,null,{type:"invalidValue",message:"root undefined, could not subscribe to scroll change"}):a.handleResponse(e,null,{type:"invalidValue",message:"element undefined, could not subscribe to scroll change"})},this.unsubscribeFromScrollChanges=function(e){a.intersectionObserver.unobserve(a.element),a.intersectionObserver=null,a.removeScrollListener(),a.handleResponse(e,!0)},this.subscribeToBroadcasts=function(e){a.subscribedToBroadcasts||(a.subscribedToBroadcasts=!0,window.top.addEventListener(r,a.handleBroadcastEvent)),a.handleResponse(e,!0)},this.subscribeToWidgetSizeChanges=function(e){a.handleResponse(e,!0);var t=a.calculateWidgetSize();null!==t&&a.updateMethod("onWidgetSizeChange",t),a.subscribedToWidget||(a.subscribedToWidget=!0,a.root.removeEventListener("resize",a.throttledResize),a.root.addEventListener("resize",a.throttledResize))},this.subscribeToViewportSizeChanges=function(e){a.handleResponse(e,!0);var t=a.calculateViewportSize();null!==t&&a.updateMethod("onViewportSizeChange",t),a.subscribedToViewport||(a.subscribedToViewport=!0,a.root.removeEventListener("resize",a.throttledResize),a.root.addEventListener("resize",a.throttledResize))},this.subscribeToWidgetReadyForDisplayChanges=function(e){a.handleResponse(e,!0),a.updateMethod("onWidgetReadyForDisplayChange",!0)},this.addToWatchlist=function(e,t){i.default.add(t).then(function(t){a.handleResponse(e,t)}).catch(function(t){a.handleResponse(e,null,t)})},this.removeFromWatchlist=function(e,t){i.default.remove(t).then(function(t){a.handleResponse(e,t)}).catch(function(t){a.handleResponse(e,null,t)})},this.playVideoWithTrackers=function(e,t){a.handleResponse(e,null,{message:"Play video with trackers is not yet supported in browser",type:"unsupportedFeature"})},this.broadcastAction=function(e,t){window.top.dispatchEvent(new CustomEvent(r,{detail:t.data})),a.handleResponse(e,!0)},this.handleBroadcastEvent=function(e){e.detail&&a.updateMethod("onBroadcastAction",e.detail)},this.intersectionListener=function(e){e[0].isIntersecting?a.addScrollListener():a.removeScrollListener()},this.addScrollListener=function(){a.root&&(a._offsetElementPosition=a.calculateOffsetElementPosition(),a.root.removeEventListener("scroll",a.throttledScroll),a.root.addEventListener("scroll",a.throttledScroll),a.scroll())},this.removeScrollListener=function(){a.root&&(a.root.removeEventListener("scroll",a.throttledScroll),a.scroll())},this.scroll=function(){var e=a.offsetElementPosition.y-a.root.scrollY;a.updateMethod("onScrollChange",e)},this.resize=function(){if(a.subscribedToWidget){var e=a.calculateWidgetSize();e&&a.updateMethod("onWidgetSizeChange",e)}if(a.subscribedToViewport){var t=a.calculateViewportSize();t&&a.updateMethod("onViewportSizeChange",t)}},this.beforeunload=function(){a.updateMethod("onPageHide")},this.calculateOffsetElementPosition=function(){for(var e=0,t=0,n=a.offsetElement,o=a.root.document.body;n&&n!==o;)e+=n.offsetLeft-n.scrollLeft+n.clientLeft,t+=n.offsetTop-n.scrollTop+n.clientTop,n=n.offsetParent;return{x:e,y:t}},this.calculateWidgetSize=function(){if(a.element){var e=a.element.getBoundingClientRect(),t=e.width,n=e.height;return a._offsetElementPosition=a.calculateOffsetElementPosition(),{width:t,height:n}}return null},this.calculateViewportSize=function(){return a.root?{width:a.root.innerWidth,height:a.root.innerHeight}:null},this.element=e,this.offsetElement=l||e,this.throttledResize=n.default(this.resize,100),this.throttledScroll=n.default(this.scroll,1e3/this.scrollFPS,{leading:!0}),o?this.root=o:this._root.addEventListener("beforeunload",this.beforeunload)}return Object.defineProperty(e.prototype,"element",{get:function(){return this._element},set:function(e){if(e){var t=this._element;this._element=e,this.offsetElement===t&&(this.offsetElement=e)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offsetElement",{get:function(){return this._offsetElement},set:function(e){if(e){var t=this._offsetElement;this._offsetElement=e,this._offsetElementPosition=this.calculateOffsetElementPosition(),this.intersectionObserver&&(t&&this.intersectionObserver.unobserve(t),this.intersectionObserver.observe(this._offsetElement))}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this._root},set:function(e){this._root.removeEventListener("beforeunload",this.beforeunload),e&&(this._root=e,this._root.addEventListener("beforeunload",this.beforeunload))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scrollFPS",{get:function(){return this._scrollFPS},set:function(e){this._scrollFPS=o.default(e,1,60),this.throttledScroll=n.default(this.scroll,1e3/this.scrollFPS,{leading:!0})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offsetElementPosition",{get:function(){return this._offsetElementPosition},enumerable:!1,configurable:!0}),e}();exports.default=l;
},{"../utils/generateUUID":"StlK","lodash.throttle":"Ai1e","@imdb/gungnir/utils/clamp":"jaYC","@imdb/gungnir/imdb/watchlist/watchlistAPI":"VfQ5","@imdb/gungnir/imdb/user":"fwHL"}],"KwEG":[function(require,module,exports) {
"use strict";function t(t){void 0===t&&(t="top");var o=null;if(!o&&"top"===t){var n=null;try{n=void 0!==window.top.location.search?window.top:null}catch(e){}o=n}if(!o&&"parent"===t){n=null;try{n=void 0!==window.parent.location.search?window.parent:null}catch(e){}o=n}return o||(o=window),o}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;
},{}],"ilLD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDetectedPlatform=void 0;var e=require("../utils/windowTarget"),i=/^http(s)?\:\/\/m\.(.*\.)?imdb\.com/,t=/(Android|OS|Windows Phone) (\d+)[\._](\d+)[\._]?(\d+)?/,r=/Android (\d{2,})/,n=/iP(hone|ad|od)/,o=/Version\/[\d\.]+.*Safari/,s="IMDb-flg",a="Windows Phone",c="Android",u="ontouchstart",f="Chrome/",h=/(Chrome|Safari|MSIE|Firefox)/,d=/(SamsungBrowser|Galaxy Nexus Build|iPhone OS 8|iPhone OS 7)/,p=function(){function e(){this._isWindowsDevice=!1,this._isIOSDevice=!1,this._isAndroidDevice=!1,this._isIMDbApp=!1,this._isSafari=!1,this._isMobileDevice=!1,this._isMobileSite=!1,this._hasTouch=!1,this._mobilePlatformVersion={major:0,minor:0,patch:0,androidAPI:0},this._chromeVersion=0,this._canAutoplay=!1,this._canTransitionTransform=!1,this._siteVariant="";var e=window.navigator.userAgent,t=window.location.href;this._isWindowsDevice=e.indexOf(a)>-1,this._isIOSDevice=e.search(n)>-1,this._isAndroidDevice=e.indexOf(c)>-1,this._isIMDbApp=e.indexOf(s)>-1,this._isSafari=e.search(o)>-1,this._isMobileDevice=this._isWindowsDevice||this._isIOSDevice||this._isAndroidDevice,this._isMobileSite=t.search(i)>-1,this._hasTouch=void 0!==document[u],this._mobilePlatformVersion=v(e,this.isIMDbApp,this.isAndroidDevice),this._chromeVersion=m(e),this._canAutoplay=D(this.mobilePlatformVersion,this.isIMDbApp,this.isAndroidDevice,this.isIOSDevice,this.isMobileDevice),this._canTransitionTransform=this.isDesktopSite||_(e,this.isIMDbApp,this.isAndroidDevice,this.mobilePlatformVersion),this._siteVariant=b(this.isIMDbApp,this.isIOSDevice,this.isAndroidDevice,this.isMobileSite)}return Object.defineProperty(e.prototype,"isWindowsDevice",{get:function(){return this._isWindowsDevice},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isIOSDevice",{get:function(){return this._isIOSDevice},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAndroidDevice",{get:function(){return this._isAndroidDevice},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMobileDevice",{get:function(){return this._isMobileDevice},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isIMDbApp",{get:function(){return this._isIMDbApp},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSafari",{get:function(){return this._isSafari},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDesktopSite",{get:function(){return!this.isMobileDevice},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMobileSite",{get:function(){return this._isMobileSite},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasTouch",{get:function(){return this._hasTouch},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"chromeVersion",{get:function(){return this._chromeVersion},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mobilePlatformVersion",{get:function(){return this._mobilePlatformVersion},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canAutoplay",{get:function(){return this._canAutoplay},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canTransitionTransform",{get:function(){return this._canTransitionTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"siteVariant",{get:function(){return this._siteVariant},enumerable:!1,configurable:!0}),e}();function l(){var i=window.navigator.userAgent.toLowerCase(),t=e.default("top").location.search.match(/platform=(\w+)/)||[],r=DeviceInfo.PlatformType.unknown;switch(!0){case null!==t&&t.length>0:var n=t[1];void 0!==DeviceInfo.PlatformType[n]&&(r=DeviceInfo.PlatformType[n]);break;case i.indexOf("iphone")>-1:r=DeviceInfo.PlatformType.ios;break;case i.indexOf("android")>-1:r=DeviceInfo.PlatformType.android;break;default:r=DeviceInfo.PlatformType.web}return r}function b(e,i,t,r){var n="";return e?(n="app",n+=i?"-ios-ph":t?"-andr-ph":"-unknown"):n=r?"mobile":"web",n}function m(e){return-1!==e.indexOf(f)?parseInt(e.substr(e.indexOf(f)+f.length,2),10):0}function v(e,i,n){var o,s={major:0,minor:0,patch:0,androidAPI:0};((o=e.match(t))&&o.length>0&&(s.major=parseInt(o[2],10)||0,s.minor=parseInt(o[3],10)||0,s.patch=parseInt(o[4],10)||0),i&&n)&&((o=e.match(r))&&o.length>0?s.androidAPI=parseInt(o[1],10)||0:s.androidAPI=0);return s}function D(e,i,t,r,n){return i?t?e.androidAPI>=17||e.major>=4&&!(4===e.major&&e.minor<2):!!(r&&e.major>=4):!n}function _(e,i,t,r){var n=!t&&r.major<9;if(i)return!n;if(d.test(e))return!1;if(h.test(e)){if(-1!==e.indexOf(f)){var o=m(e);if(!Number.isNaN(o)&&o<46)return!1}return!0}return!1}exports.getDetectedPlatform=l;var g=new p;Object.freeze(g),exports.default=g;
},{"../utils/windowTarget":"KwEG"}],"kIhC":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("..")),i=e(require("../native/AppContext")),a=e(require("../native/BrowserContext")),r=e(require("@imdb/gungnir/device/info"));switch(!0){case void 0!==window.NativeWebBridge:console.warn("window.NativeWebBridge already exists");break;case i.default.hasAppContext():window.NativeWebBridge=new t.default(new i.default);break;case r.default.isIMDbApp&&!i.default.hasAppContext():console.warn("window.NativeWebBridge does not have native bridge connection "+r.default.mobilePlatformVersion);break;default:window.NativeWebBridge=new t.default(new a.default)}
},{"..":"o2OF","../native/AppContext":"xlgf","../native/BrowserContext":"jVHQ","@imdb/gungnir/device/info":"ilLD"}]},{},["kIhC"], null)
function source is  function(x){var e=(r+16*Math.random())%16|0;return r=Math.floor(r/16),("x"==x?e:3&e|8).toString(16)}
function source is  function(){var r=Date.now();return e.replace(x,function(x){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-8-186-8-286",false);
var e=(r+16*Math.random())%16|0;return r=Math.floor(r/16),("x"==x?e:3&e|8).toString(16)
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-8-186-8-286",true);
 }})}
function source is  function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var x=/[xy]/g,e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx";exports.default=function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-8-139-8-288",false);
var r=Date.now();return e.replace(x,function(x){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-8-186-8-286",false);
var e=(r+16*Math.random())%16|0;return r=Math.floor(r/16),("x"==x?e:3&e|8).toString(16)
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-8-186-8-286",true);
 }})
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-8-139-8-288",true);
 }};
}
function source is  function __HORCRUX__(){ window.parcelRequire=function(e,r,t,n){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-1-46-1-1145",false);
var i,o="function"==typeof window.parcelRequire&&window.parcelRequire,u="function"==typeof window.require&&window.require;function f(t,n){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-1-186-1-634",false);
if(!r[t]){if(!e[t]){var i="function"==typeof window.parcelRequire&&window.parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-1-461-1-494",false);
return e[t][1][r]||r
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-1-461-1-494",true);
 }},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-1-596-1-633",false);
return f(p.resolve(e))
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-1-596-1-633",true);
 }}
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-1-186-1-634",true);
 }}f.isParcelRequire=!0,f.Module=function(e){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-1-664-1-716",false);
this.id=e,this.bundle=f,this.exports={}
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-1-664-1-716",true);
 }},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-1-761-1-812",false);
e[r]=[function(e,r){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-1-781-1-807",false);
r.exports=t
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-1-781-1-807",true);
 }},{}]
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-1-761-1-812",true);
 }};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof window.exports&&"undefined"!=typeof window.module?window.module.exports=l:"function"==typeof window.define&&window.define.amd?window.define(function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-1-1063-1-1083",false);
return l
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-1-1063-1-1083",true);
 }}):n&&(this[n]=l)}if(window.parcelRequire=f,i)throw i;return f
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-1-46-1-1145",true);
 }}({"WBRF":[function(require,module,exports) { 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-1-1155-3-1",false);

"use strict";function e(r){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-2-13-2-242",false);
return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-2-96-2-124",false);
return typeof e
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-2-96-2-124",true);
 }}:function(e){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-2-125-2-237",false);
return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-2-125-2-237",true);
 }})(r)
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-2-13-2-242",true);
 }}Object.defineProperty(exports,"__esModule",{value:!0});var r=function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-2-303-2-1251",false);
return function(r){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-2-321-2-1250",false);
var t=this;if(void 0===r&&(r=[]),this.observers=[],this.clear=function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-2-395-2-469",false);
for(var e=t.observers.length-1;e>0;e--)t.observers.splice(e,1)
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-2-395-2-469",true);
 }},this.notify=function(e,r){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-2-482-2-574",false);
"string"==typeof e&&t.observers.forEach(function(o){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-2-536-2-572",false);
t.notifyObserver(o,e,r)
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-2-536-2-572",true);
 }})
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-2-482-2-574",true);
 }},this.notifyObserver=function(r,t,o){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-2-595-2-678",false);
r&&"object"===e(r)&&r[t]&&"function"==typeof r[t]&&r[t].apply(r,o)
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-2-595-2-678",true);
 }},this.subscribe=function(r){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-2-694-2-789",false);
return!(!r||"object"!==e(r)||-1!==t.observers.indexOf(r)||(t.observers.push(r),0))
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-2-694-2-789",true);
 }},this.unsubscribe=function(e){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-2-807-2-897",false);
var r=t.observers.indexOf(e);return!(!e||-1===r||(t.observers.splice(r,1),0))
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-2-807-2-897",true);
 }},this.getAllObserverKeys=function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-2-922-2-1043",false);
var e=new window.Set;return t.observers.forEach(function(r){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-2-981-2-1039",false);
Object.keys(r).forEach(function(r){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-2-1016-2-1037",false);
e.add(r)
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-2-1016-2-1037",true);
 }})
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-2-981-2-1039",true);
 }}),e
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-2-922-2-1043",true);
 }},!(r instanceof Array))throw new TypeError("Notifiers should be instantiated with either an Array of observers or no argument at all. Received "+r);this.clear(),r.forEach(function(e){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-2-1214-2-1248",false);
return t.subscribe(e)
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-2-1214-2-1248",true);
 }})
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-2-321-2-1250",true);
 }}
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-2-303-2-1251",true);
 }}();exports.default=r;

 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-1-1155-3-1",true);
 }},{}],"tGJt":[function(require,module,exports) { 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-3-14-5-1",false);

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-4-84-4-146",false);
var t=e;try{t=JSON.parse(e)}catch(r){t=e}return t
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-4-84-4-146",true);
 }};

 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-3-14-5-1",true);
 }},{}],"o2OF":[function(require,module,exports) { 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-5-14-7-1",false);

"use strict";function e(t){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-13-6-242",false);
return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-96-6-124",false);
return typeof e
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-96-6-124",true);
 }}:function(e){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-125-6-237",false);
return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-125-6-237",true);
 }})(t)
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-13-6-242",true);
 }}var t=this&&this.__spreadArrays||function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-275-6-456",false);
for(var e=0,t=0,i=arguments.length;t<i;t++)e+=arguments[t].length;var s=Array(e),n=0;for(t=0;t<i;t++)for(var o=arguments[t],r=0,a=o.length;r<a;r++,n++)s[n]=o[r];return s
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-275-6-456",true);
 }},i=this&&this.__importDefault||function(e){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-487-6-536",false);
return e&&e.__esModule?e:{default:e}
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-487-6-536",true);
 }};Object.defineProperty(exports,"__esModule",{value:!0}),exports.NativeWebBridge=void 0;var s=i(require("@imdb/gungnir/notifier")),n=i(require("./utils/parseStringOrJSON")),o={onScrollChange:"scrollOffset",onViewportSizeChange:"viewportSize",onWidgetSizeChange:"widgetSize",onWidgetReadyForDisplayChange:"readyForDisplay"},r=function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-860-6-6923",false);
function i(i){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-871-6-6477",false);
var r=this;this.notifier=new s.default,this.subscriptions=new window.Set,this.updateValueStore=new Map,this._displayReady=!1,this.isBrowser=!1,this.displayData={readyForDisplay:!1,viewportSize:{width:0,height:0},widgetSize:{width:0,height:0},scrollOffset:0},this.sendUpdate=function(e,t){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-1159-6-1257",false);
var i=n.default(t);r.storeUpdateValue(e,i),r.notify(e,[i]),r.validateDisplayReady()
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-1159-6-1257",true);
 }},this.handleResponse=function(e,t,i){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-1278-6-1326",false);
r.context.handleResponse(e,t,i)
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-1278-6-1326",true);
 }},this.subscribe=function(e){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-1342-6-1589",false);
var t=r.notifier.subscribe(e);return r.notifyExistingSubscriptions(Object.keys(e)),r.subscribeToObserverKeys(r.notifier.getAllObserverKeys()).then(function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-1501-6-1513",false);

 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-1501-6-1513",true);
 }}).catch(function(e){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-1521-6-1585",false);
console.warn("NativeWebBridge.subscribe() error",e)
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-1521-6-1585",true);
 }}),t
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-1342-6-1589",true);
 }},this.unsubscribe=function(e){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-1607-6-1652",false);
return r.notifier.unsubscribe(e)
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-1607-6-1652",true);
 }},this.getScreenSize=function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-1672-6-1729",false);
return r.context.sendRequest("getScreenSize")
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-1672-6-1729",true);
 }},this.getViewportSize=function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-1751-6-1810",false);
return r.context.sendRequest("getViewportSize")
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-1751-6-1810",true);
 }},this.getWidgetSize=function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-1830-6-1887",false);
return r.context.sendRequest("getWidgetSize")
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-1830-6-1887",true);
 }},this.getTheme=function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-1902-6-1954",false);
return r.context.sendRequest("getTheme")
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-1902-6-1954",true);
 }},this.getPlatform=function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-1972-6-2027",false);
return r.context.sendRequest("getPlatform")
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-1972-6-2027",true);
 }},this.getIsUserLoggedIn=function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-2051-6-2112",false);
return r.context.sendRequest("getIsUserLoggedIn")
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-2051-6-2112",true);
 }},this.getWatchlistStatus=function(e){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-2137-6-2211",false);
return r.context.sendRequest("getWatchlistStatus",{tconst:e})
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-2137-6-2211",true);
 }},this.setAllowHorizontalScroll=function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-2242-6-2310",false);
return r.context.sendRequest("setAllowHorizontalScroll")
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-2242-6-2310",true);
 }},this.setWidgetAspectRatio=function(e){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-2337-6-2767",false);
return"number"!=typeof e||e<=0?new Promise(function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-2392-6-2591",false);
for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];t[1]({type:"invalidValue",message:"setWidgetAspectRatio can not be less than or equal to zero - [aspectRatio argument = "+e+"]"})
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-2392-6-2591",true);
 }}):new Promise(function(t,i){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-2605-6-2765",false);
r.context.sendRequest("setWidgetAspectRatio",{aspectRatio:e}).then(function(e){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-2686-6-2738",false);
r.notify("onWidgetSizeChange",[e]),t(e)
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-2686-6-2738",true);
 }}).catch(function(e){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-2746-6-2763",false);
i(e)
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-2746-6-2763",true);
 }})
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-2605-6-2765",true);
 }})
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-2337-6-2767",true);
 }},this.subscribeToScrollChanges=function(e){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-2798-6-2895",false);
return void 0===e&&(e=!0),r.addSubscription("subscribeToScrollChanges",{realtime:e})
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-2798-6-2895",true);
 }},this.unsubscribeFromScrollChanges=function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-2930-6-3001",false);
return r.removeSubscription("unsubscribeFromScrollChanges")
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-2930-6-3001",true);
 }},this.addToWatchlist=function(e){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-3022-6-3092",false);
return r.context.sendRequest("addToWatchlist",{tconst:e})
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-3022-6-3092",true);
 }},this.removeFromWatchlist=function(e){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-3118-6-3193",false);
return r.context.sendRequest("removeFromWatchlist",{tconst:e})
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-3118-6-3193",true);
 }},this.playVideoWithTrackers=function(e,t){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-3221-6-3312",false);
return r.context.sendRequest("playVideoWithTrackers",{videoId:e,trackers:t})
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-3221-6-3312",true);
 }},this.broadcastAction=function(t){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-3334-6-3611",false);
return"string"!=typeof t?new Promise(function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-3383-6-3559",false);
for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];i[1]({type:"invalidValue",data:"NativeWebBridge.broadcastAction() must be a string. Argument is : "+e(t)})
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-3383-6-3559",true);
 }}):r.context.sendRequest("broadcastAction",{data:t})
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-3334-6-3611",true);
 }},this.addSubscription=function(e){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-3633-6-3836",false);
for(var i,s=[],n=1;n<arguments.length;n++)s[n-1]=arguments[n];return r.subscriptions.has(e)?new Promise(function(e){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-3749-6-3765",false);
e()
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-3749-6-3765",true);
 }}):(r.subscriptions.add(e),(i=r.context).sendRequest.apply(i,t([e],s)))
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-3633-6-3836",true);
 }},this.removeSubscription=function(e){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-3861-6-3986",false);
return r.subscriptions.has(e)?(r.subscriptions.delete(e),r.context.sendRequest(e)):new Promise(function(e){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-3968-6-3984",false);
e()
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-3968-6-3984",true);
 }})
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-3861-6-3986",true);
 }},this.notifyExistingSubscriptions=function(e){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-4020-6-4129",false);
e.forEach(function(e){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-4042-6-4127",false);
r.updateValueStore.has(o[e])&&r.notify(e,[r.updateValueStore.get(o[e])])
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-4042-6-4127",true);
 }})
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-4020-6-4129",true);
 }},this.notify=function(e){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-4142-6-4256",false);
for(var i,s=[],n=1;n<arguments.length;n++)s[n-1]=arguments[n];(i=r.notifier).notify.apply(i,t([e],s))
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-4142-6-4256",true);
 }},this.subscribeToWidgetSizeChanges=function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-4291-6-4359",false);
return r.addSubscription("subscribeToWidgetSizeChanges")
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-4291-6-4359",true);
 }},this.subscribeToViewportSizeChanges=function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-4396-6-4466",false);
return r.addSubscription("subscribeToViewportSizeChanges")
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-4396-6-4466",true);
 }},this.subscribeToBroadcasts=function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-4494-6-4555",false);
return r.addSubscription("subscribeToBroadcasts")
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-4494-6-4555",true);
 }},this.subscribeToWidgetReadyForDisplayChanges=function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-4601-6-4680",false);
return r.addSubscription("subscribeToWidgetReadyForDisplayChanges")
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-4601-6-4680",true);
 }},this.subscribeToDisplayReady=function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-4710-6-4976",false);
var e=[r.subscribeToViewportSizeChanges(),r.subscribeToWidgetSizeChanges(),r.subscribeToScrollChanges(),r.subscribeToWidgetReadyForDisplayChanges()];return new Promise(function(t,i){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-4889-6-4974",false);
Promise.all(e).then(function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-4923-6-4938",false);
t()
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-4923-6-4938",true);
 }}).catch(function(e){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-4946-6-4972",false);
i({reason:e})
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-4946-6-4972",true);
 }})
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-4889-6-4974",true);
 }})
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-4710-6-4976",true);
 }},this.subscribeToObserverKeys=function(e){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-5006-6-5588",false);
var t=[];return e.forEach(function(e){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-5044-6-5494",false);
switch(e){case"onWidgetReadyForDisplayChange":t.push(r.subscribeToWidgetReadyForDisplayChanges());break;case"onScrollChange":t.push(r.subscribeToScrollChanges());break;case"onWidgetSizeChange":t.push(r.subscribeToWidgetSizeChanges());break;case"onViewportSizeChange":t.push(r.subscribeToViewportSizeChanges());break;case"onBroadcastAction":t.push(r.subscribeToBroadcasts());break;case"onDisplayReady":t.push(r.subscribeToDisplayReady())}
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-5044-6-5494",true);
 }}),new Promise(function(e,i){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-5508-6-5586",false);
Promise.all(t).then(function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-5542-6-5559",false);
e(!0)
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-5542-6-5559",true);
 }}).catch(function(e){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-5567-6-5584",false);
i(e)
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-5567-6-5584",true);
 }})
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-5508-6-5586",true);
 }})
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-5006-6-5588",true);
 }},this.storeUpdateValue=function(e,t){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-5611-6-5901",false);
if("string"==typeof o[e])switch(r.updateValueStore.set(o[e],t),e){case"displayReady":r.displayData.readyForDisplay=t;break;case"widgetSize":r.displayData.widgetSize=t;break;case"viewportSize":r.displayData.viewportSize=t;break;case"scrollOffset":r.displayData.scrollOffset=t}
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-5611-6-5901",true);
 }},this.validateDisplayReady=function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-5928-6-6375",false);
if(!r.displayReady){var e=r.updateValueStore;e.has("viewportSize")&&e.has("widgetSize")&&e.has("scrollOffset")&&e.has("readyForDisplay")&&e.get("readyForDisplay")&&(r._displayReady=!0,r.displayData.readyForDisplay=e.get("readyForDisplay"),r.displayData.viewportSize=e.get("viewportSize"),r.displayData.widgetSize=e.get("widgetSize"),r.displayData.scrollOffset=e.get("scrollOffset"),r.notifier.notify("onDisplayReady",[r.displayData]))}
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-5928-6-6375",true);
 }},this.context=i,this.context.isBrowser&&(this.isBrowser=!0,this.context.updateMethod=this.sendUpdate)
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-871-6-6477",true);
 }}return Object.defineProperty(i.prototype,"displayReady",{get:function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-6538-6-6575",false);
return this._displayReady
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-6538-6-6575",true);
 }},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"element",{get:function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-6657-6-6696",false);
return this.context.element
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-6657-6-6696",true);
 }},set:function(e){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-6701-6-6736",false);
this.context.element=e
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-6701-6-6736",true);
 }},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"root",{get:function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-6815-6-6851",false);
return this.context.root
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-6815-6-6851",true);
 }},set:function(e){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-6856-6-6888",false);
this.context.root=e
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-6856-6-6888",true);
 }},enumerable:!1,configurable:!0}),i
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-6-860-6-6923",true);
 }}();exports.NativeWebBridge=r,exports.default=r;

 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-5-14-7-1",true);
 }},{"@imdb/gungnir/notifier":"WBRF","./utils/parseStringOrJSON":"tGJt"}],"StlK":[function(require,module,exports) { 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-7-80-9-1",false);

"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var x=/[xy]/g,e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx";exports.default=function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-8-139-8-288",false);
var r=Date.now();return e.replace(x,function(x){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-8-186-8-286",false);
var e=(r+16*Math.random())%16|0;return r=Math.floor(r/16),("x"==x?e:3&e|8).toString(16)
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-8-186-8-286",true);
 }})
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-8-139-8-288",true);
 }};

 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-7-80-9-1",true);
 }},{}],"xlgf":[function(require,module,exports) { 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-9-14-11-1",false);

"use strict";function e(t){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-10-13-10-242",false);
return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-10-96-10-124",false);
return typeof e
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-10-96-10-124",true);
 }}:function(e){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-10-125-10-237",false);
return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-10-125-10-237",true);
 }})(t)
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-10-13-10-242",true);
 }}var t=this&&this.__importDefault||function(e){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-10-276-10-325",false);
return e&&e.__esModule?e:{default:e}
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-10-276-10-325",true);
 }};Object.defineProperty(exports,"__esModule",{value:!0});var i=t(require("../utils/generateUUID")),n=t(require("../utils/parseStringOrJSON")),o=function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-10-468-10-1707",false);
function t(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-10-479-10-1296",false);
var o=this;this.promiseMap=new Map,this.isIOS=t.isIOS(),this.isAndroid=t.isAndroid(),this.sendRequest=function(t,n){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-10-594-10-1064",false);
return void 0===n&&(n=null),new Promise(function(r,s){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-10-648-10-1062",false);
var d=i.default();try{if(o.promiseMap.set(d,{key:t,resolve:r,reject:s}),o.isIOS){var u={key:t,data:n,uuid:d};window.webkit.messageHandlers.nativeRequest.postMessage(u)}else{if(!o.isAndroid)throw new Error("could not find a Native Request handler");var a="object"===e(n)?JSON.stringify(n):n;window.NativeWebBridgeAndroid.sendRequest(t,d,a)}}catch(f){o.promiseMap.delete(d),s({type:"native",error:f})}
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-10-648-10-1062",true);
 }})
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-10-594-10-1064",true);
 }},this.handleResponse=function(e,t,i){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-10-1085-10-1295",false);
var r,s=o.promiseMap.get(e);s?i?s.reject({type:"native",error:i}):"string"==typeof t?(r=n.default(t),s.resolve(r)):s.resolve(t):console.warn("promise id "+e+" not found"),o.promiseMap.delete(e)
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-10-1085-10-1295",true);
 }}
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-10-479-10-1296",true);
 }}return t.hasAppContext=function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-10-1319-10-1362",false);
return t.isIOS()||t.isAndroid()
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-10-1319-10-1362",true);
 }},t.isIOS=function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-10-1371-10-1582",false);
return void 0!==window.webkit&&void 0!==window.webkit.messageHandlers&&void 0!==window.webkit.messageHandlers.nativeRequest&&"function"==typeof window.webkit.messageHandlers.nativeRequest.postMessage
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-10-1371-10-1582",true);
 }},t.isAndroid=function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-10-1595-10-1704",false);
return void 0!==window.NativeWebBridgeAndroid&&void 0!==window.NativeWebBridgeAndroid.sendRequest
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-10-1595-10-1704",true);
 }},t
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-10-468-10-1707",true);
 }}();exports.default=o;

 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-9-14-11-1",true);
 }},{"../utils/generateUUID":"StlK","../utils/parseStringOrJSON":"tGJt"}],"Ai1e":[function(require,module,exports) { 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-11-80-14-1",false);

var global = arguments[3];
var t=arguments[3],n="Expected a function",e=window.NaN,i="[object Symbol]",r=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,f=/^0o[0-7]+$/i,a=window.parseInt,c="object"==typeof t&&t&&t.Object===Object&&t,l="object"==typeof window.self&&window.self&&window.self.Object===Object&&window.self,s=c||l||Function("return this")(),v=Object.prototype,p=v.toString,y=Math.max,d=Math.min,m=function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-13-385-13-416",false);
return s.Date.now()
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-13-385-13-416",true);
 }};function b(t,e,i){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-13-417-13-1288",false);
var r,o,u,f,a,c,l=0,s=!1,v=!1,p=!0;if("function"!=typeof t)throw new TypeError(n);function b(n){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-13-517-13-580",false);
var e=r,i=o;return r=o=void 0,l=n,f=t.apply(i,e)
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-13-517-13-580",true);
 }}function g(t){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-13-580-13-644",false);
var n=t-c;return void 0===c||n>=e||n<0||v&&t-l>=u
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-13-580-13-644",true);
 }}function h(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-13-644-13-764",false);
var t=m();if(g(t))return x(t);a=window.setTimeout(h,function(t){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-13-709-13-759",false);
var n=e-(t-c);return v?d(n,u-(t-l)):n
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-13-709-13-759",true);
 }}(t))
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-13-644-13-764",true);
 }}function x(t){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-13-764-13-819",false);
return a=void 0,p&&r?b(t):(r=o=void 0,f)
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-13-764-13-819",true);
 }}function T(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-13-819-13-1050",false);
var t=m(),n=g(t);if(r=arguments,o=this,c=t,n){if(void 0===a)return function(t){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-13-899-13-956",false);
return l=t,a=window.setTimeout(h,e),s?b(t):f
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-13-899-13-956",true);
 }}(c);if(v)return a=window.setTimeout(h,e),b(c)}return void 0===a&&(a=window.setTimeout(h,e)),f
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-13-819-13-1050",true);
 }}return e=O(e)||0,j(i)&&(s=!!i.leading,u=(v="maxWait"in i)?y(O(i.maxWait)||0,e):u,p="trailing"in i?!!i.trailing:p),T.cancel=function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-13-1173-13-1238",false);
void 0!==a&&window.clearTimeout(a),l=0,r=c=o=a=void 0
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-13-1173-13-1238",true);
 }},T.flush=function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-13-1247-13-1285",false);
return void 0===a?f:x(m())
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-13-1247-13-1285",true);
 }},T
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-13-417-13-1288",true);
 }}function g(t,e,i){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-13-1288-13-1484",false);
var r=!0,o=!0;if("function"!=typeof t)throw new TypeError(n);return j(i)&&(r="leading"in i?!!i.leading:r,o="trailing"in i?!!i.trailing:o),b(t,e,{leading:r,maxWait:e,trailing:o})
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-13-1288-13-1484",true);
 }}function j(t){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-13-1484-13-1553",false);
var n=typeof t;return!!t&&("object"==n||"function"==n)
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-13-1484-13-1553",true);
 }}function h(t){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-13-1553-13-1597",false);
return!!t&&"object"==typeof t
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-13-1553-13-1597",true);
 }}function x(t){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-13-1597-13-1656",false);
return"symbol"==typeof t||h(t)&&p.call(t)==i
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-13-1597-13-1656",true);
 }}function O(t){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-13-1656-13-1919",false);
if("number"==typeof t)return t;if(x(t))return e;if(j(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=j(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(r,"");var i=u.test(t);return i||f.test(t)?a(t.slice(2),i?2:8):o.test(t)?e:+t
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-13-1656-13-1919",true);
 }}module.exports=g;

 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-11-80-14-1",true);
 }},{}],"jaYC":[function(require,module,exports) { 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-14-14-16-1",false);

"use strict";function e(e,t,r){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-15-13-15-86",false);
var u=t<=r?t:r,o=t>=r?t:r;return u===o?u:e<u?u:e>o?o:e
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-15-13-15-86",true);
 }}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=e;

 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-14-14-16-1",true);
 }},{}],"kHqO":[function(require,module,exports) { 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-16-14-18-1",false);

"use strict";function o(r){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-17-13-17-242",false);
return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-17-96-17-124",false);
return typeof o
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-17-96-17-124",true);
 }}:function(o){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-17-125-17-237",false);
return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-17-125-17-237",true);
 }})(r)
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-17-13-17-242",true);
 }}function r(o,r){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-17-242-17-330",false);
for(var t=[],e=o[r].length,n=0;n<e;n++)t.push(r+"[]="+o[r][n]);return t
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-17-242-17-330",true);
 }}function t(t){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-17-330-17-512",false);
if(!t)return"";var e,n=[];for(e in t)Array.isArray(t[e])?n=n.concat(r(t,e)):"object"===o(t[e])?n.push(e+"="+JSON.stringify(t[e])):n.push(e+"="+t[e]);return n.join("&")
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-17-330-17-512",true);
 }}Object.defineProperty(exports,"__esModule",{value:!0}),exports.encodeAsFormData=exports.encodeArray=void 0,exports.encodeArray=r,exports.encodeAsFormData=t;

 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-16-14-18-1",true);
 }},{}],"fwHL":[function(require,module,exports) { 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-18-14-20-1",false);

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getLoginStatus=void 0;var e="/registration/is-user-recognized";function t(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-19-139-19-372",false);
return new Promise(function(t,r){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-19-171-19-370",false);
var n=new XMLHttpRequest;n.onreadystatechange=function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-19-231-19-344",false);
if(4===n.readyState)try{var e=JSON.parse(n.response);e&&!0===e.isUserRecognized?t():r()}catch(s){r()}
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-19-231-19-344",true);
 }},n.open("GET",e),n.send()
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-19-171-19-370",true);
 }})
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-19-139-19-372",true);
 }}exports.getLoginStatus=t;

 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-18-14-20-1",true);
 }},{}],"VfQ5":[function(require,module,exports) { 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-20-14-22-1",false);

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.WatchlistAPI=void 0;var t=require("../../utils/xhr"),e=require("../user"),n=require("../../notifier"),s="/watchlist/",r="/list/_ajax/watchlist_has",i="watchlistRibbon",o=new n.default,a=!1;function c(t){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-21-265-21-359",false);
return Array.isArray(t)?t:t.indexOf(",")>-1?t.replace(/\s+/g,"").split(","):[t]
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-21-265-21-359",true);
 }}function d(t,e,n){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-21-359-21-596",false);
return function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-21-384-21-595",false);
4===t.readyState&&(200!==t.status?n({type:"xmlhttprequestError",error:t}):200!==(t.response.hasOwnProperty("status")?t.response.status:t.status)?n({type:"xmlhttprequestError",error:t}):e(t.response))
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-21-384-21-595",true);
 }}
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-21-359-21-596",true);
 }}function u(e,n){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-21-596-21-1175",false);
return new Promise(function(i,o){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-21-631-21-1173",false);
var a=t.encodeAsFormData(n),c=new XMLHttpRequest;switch(c.onreadystatechange=d(c,i,o),c.responseType="json",e){case"add":c.open("PUT",s+n.consts),c.setRequestHeader("Content-type","application/x-www-form-urlencoded"),c.send(a);break;case"remove":c.open("DELETE",s+n.consts),c.setRequestHeader("Content-type","application/x-www-form-urlencoded"),c.send(a);break;case"get":c.open("POST",r,!0),c.setRequestHeader("Content-type","application/x-www-form-urlencoded"),c.send(a);break;default:o({type:"invalidRequestMethod",error:e})}
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-21-631-21-1173",true);
 }})
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-21-596-21-1175",true);
 }}function l(t){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-21-1175-21-1709",false);
window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.widgetWatchlistEventHandler&&"function"==typeof window.webkit.messageHandlers.widgetWatchlistEventHandler.postMessage&&window.webkit.messageHandlers.widgetWatchlistEventHandler.postMessage(JSON.stringify(t)),window.androidWidgetEventHandler&&window.androidWidgetEventHandler.handleWatchlistEvent&&"function"==typeof window.androidWidgetEventHandler.handleWatchlistEvent&&window.androidWidgetEventHandler.handleWatchlistEvent(JSON.stringify(t))
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-21-1175-21-1709",true);
 }}function w(t){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-21-1709-21-1797",false);
for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];o.notify(t,e)
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-21-1709-21-1797",true);
 }}var h=function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-21-1803-21-2820",false);
return function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-21-1821-21-2819",false);
this.contains=function(t){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-21-1846-21-2196",false);
var n={consts:c(t),tracking_tag:i};return new Promise(function(t,s){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-21-1912-21-2194",false);
var r=function(e){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-21-1932-21-2040",false);
for(var s=n.consts.length,r=e&&void 0!==e.has,i=0;i<s&&r;i++)r=void 0!==e.has[n.consts[i]];t(r)
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-21-1932-21-2040",true);
 }};a?u("get",n).then(r).catch(s):e.getLoginStatus().then(function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-21-2095-21-2139",false);
a=!0,u("get",n).then(r).catch(s)
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-21-2095-21-2139",true);
 }}).catch(function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-21-2147-21-2192",false);
a=!1,s({type:"unrecognizedUser"})
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-21-2147-21-2192",true);
 }})
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-21-1912-21-2194",true);
 }})
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-21-1846-21-2196",true);
 }},this.add=function(t){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-21-2206-21-2549",false);
var n={consts:c(t),tracking_tag:i};return new Promise(function(t,s){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-21-2272-21-2547",false);
var r=function(e){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-21-2292-21-2393",false);
var s={titleId:n.consts[0]};e.list_item_id&&(s.listItemId="li"+e.list_item_id),l(s),t(e)
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-21-2292-21-2393",true);
 }};a?u("add",n).then(r).catch(s):e.getLoginStatus().then(function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-21-2448-21-2492",false);
a=!0,u("add",n).then(r).catch(s)
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-21-2448-21-2492",true);
 }}).catch(function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-21-2500-21-2545",false);
a=!1,s({type:"unrecognizedUser"})
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-21-2500-21-2545",true);
 }})
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-21-2272-21-2547",true);
 }})
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-21-2206-21-2549",true);
 }},this.remove=function(t){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-21-2562-21-2714",false);
var e={consts:c(t),tracking_tag:i};return new Promise(function(t,n){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-21-2628-21-2712",false);
u("remove",e).then(function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-21-2661-21-2701",false);
l({titleId:e.consts[0]}),t()
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-21-2661-21-2701",true);
 }}).catch(n)
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-21-2628-21-2712",true);
 }})
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-21-2562-21-2714",true);
 }},this.subscribe=function(t){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-21-2730-21-2764",false);
return o.subscribe(t)
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-21-2730-21-2764",true);
 }},this.unsubscribe=function(t){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-21-2782-21-2818",false);
return o.unsubscribe(t)
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-21-2782-21-2818",true);
 }}
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-21-1821-21-2819",true);
 }}
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-21-1803-21-2820",true);
 }}();exports.WatchlistAPI=h;var f=new h;exports.default=f;

 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-20-14-22-1",true);
 }},{"../../utils/xhr":"kHqO","../user":"fwHL","../../notifier":"WBRF"}],"jVHQ":[function(require,module,exports) { 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-22-79-24-1",false);

"use strict";var e=this&&this.__importDefault||function(e){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-47-23-96",false);
return e&&e.__esModule?e:{default:e}
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-47-23-96",true);
 }};Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("../utils/generateUUID")),n=e(require("lodash.throttle")),o=e(require("@imdb/gungnir/utils/clamp")),i=e(require("@imdb/gungnir/imdb/watchlist/watchlistAPI")),s=require("@imdb/gungnir/imdb/user"),r="nativewebbridgebroadcast",l=function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-394-23-7605",false);
function e(e,o,l){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-405-23-6328",false);
var a=this;this.subscribedToBroadcasts=!1,this.subscribedToViewport=!1,this.subscribedToWidget=!1,this.promiseMap=new Map,this._offsetElementPosition={x:0,y:0},this._root=window,this._scrollFPS=60,this.isBrowser=!0,this.sendRequest=function(e,n){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-655-23-915",false);
return void 0===n&&(n=null),new Promise(function(o,i){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-709-23-913",false);
if(void 0!==a[e]){var s=t.default();a.promiseMap.set(s,{key:e,resolve:o,reject:i}),a[e](s,n)}else i({type:"unsupportedFeature",error:"NativeWebBridge - BrowserContext["+e+"] is undefined"})
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-709-23-913",true);
 }})
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-655-23-915",true);
 }},this.handleResponse=function(e,t,n){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-936-23-1095",false);
var o=a.promiseMap.get(e);o?n?o.reject({type:"native",error:n}):o.resolve(t):console.warn("promise id "+e+" not found"),a.promiseMap.delete(e)
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-936-23-1095",true);
 }},this.getScreenSize=function(e){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-1115-23-1221",false);
var t={width:window.screen.availWidth,height:window.screen.availHeight};a.handleResponse(e,t)
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-1115-23-1221",true);
 }},this.getWidgetSize=function(e){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-1241-23-1466",false);
if(a.element){var t=a.element.getBoundingClientRect(),n=t.width,o=t.height;a.handleResponse(e,{width:n,height:o})}else a.handleResponse(e,null,{type:"invalidValue",message:"no element defined in BrowserContext"})
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-1241-23-1466",true);
 }},this.getViewportSize=function(e){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-1488-23-1661",false);
if(a.root){var t=a.calculateViewportSize();a.handleResponse(e,t)}else a.handleResponse(e,null,{type:"invalidValue",message:"no root defined in BrowserContext"})
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-1488-23-1661",true);
 }},this.getIsUserLoggedIn=function(e){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-1685-23-1804",false);
s.getLoginStatus().then(function(t){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-1721-23-1755",false);
a.handleResponse(e,t)
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-1721-23-1755",true);
 }}).catch(function(t){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-1763-23-1802",false);
a.handleResponse(e,null,t)
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-1763-23-1802",true);
 }})
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-1685-23-1804",true);
 }},this.getTheme=function(e){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-1819-23-1854",false);
a.handleResponse(e,"")
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-1819-23-1854",true);
 }},this.getPlatform=function(e){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-1872-23-1914",false);
a.handleResponse(e,"browser")
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-1872-23-1914",true);
 }},this.getWatchlistStatus=function(e,t){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-1939-23-2070",false);
i.default.contains(t.tconst).then(function(t){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-1987-23-2021",false);
a.handleResponse(e,t)
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-1987-23-2021",true);
 }}).catch(function(t){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-2029-23-2068",false);
a.handleResponse(e,null,t)
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-2029-23-2068",true);
 }})
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-1939-23-2070",true);
 }},this.setWidgetAspectRatio=function(e,t){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-2097-23-2379",false);
var n=t.aspectRatio;if(a.element){var o=a.element.clientWidth,i=Math.round(a.element.clientWidth/n);a.element.style.height=i+"px",a.handleResponse(e,{width:o,height:i})}else a.handleResponse(e,null,{type:"invalidValue",message:"no element defined in BrowserContext"})
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-2097-23-2379",true);
 }},this.setAllowHorizontalScroll=function(e){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-2410-23-2445",false);
a.handleResponse(e,!0)
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-2410-23-2445",true);
 }},this.subscribeToScrollChanges=function(e){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-2476-23-2945",false);
a.element?a.root?(a._offsetElementPosition=a.calculateOffsetElementPosition(),a.intersectionObserver=new window.IntersectionObserver(a.intersectionListener),a.intersectionObserver.observe(a.element),a.scroll(),a.handleResponse(e,!0)):a.handleResponse(e,null,{type:"invalidValue",message:"root undefined, could not subscribe to scroll change"}):a.handleResponse(e,null,{type:"invalidValue",message:"element undefined, could not subscribe to scroll change"})
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-2476-23-2945",true);
 }},this.unsubscribeFromScrollChanges=function(e){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-2980-23-3112",false);
a.intersectionObserver.unobserve(a.element),a.intersectionObserver=null,a.removeScrollListener(),a.handleResponse(e,!0)
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-2980-23-3112",true);
 }},this.subscribeToBroadcasts=function(e){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-3140-23-3285",false);
a.subscribedToBroadcasts||(a.subscribedToBroadcasts=!0,window.top.addEventListener(r,a.handleBroadcastEvent)),a.handleResponse(e,!0)
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-3140-23-3285",true);
 }},this.subscribeToWidgetSizeChanges=function(e){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-3320-23-3589",false);
a.handleResponse(e,!0);var t=a.calculateWidgetSize();null!==t&&a.updateMethod("onWidgetSizeChange",t),a.subscribedToWidget||(a.subscribedToWidget=!0,a.root.removeEventListener("resize",a.throttledResize),a.root.addEventListener("resize",a.throttledResize))
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-3320-23-3589",true);
 }},this.subscribeToViewportSizeChanges=function(e){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-3626-23-3903",false);
a.handleResponse(e,!0);var t=a.calculateViewportSize();null!==t&&a.updateMethod("onViewportSizeChange",t),a.subscribedToViewport||(a.subscribedToViewport=!0,a.root.removeEventListener("resize",a.throttledResize),a.root.addEventListener("resize",a.throttledResize))
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-3626-23-3903",true);
 }},this.subscribeToWidgetReadyForDisplayChanges=function(e){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-3949-23-4035",false);
a.handleResponse(e,!0),a.updateMethod("onWidgetReadyForDisplayChange",!0)
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-3949-23-4035",true);
 }},this.addToWatchlist=function(e,t){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-4056-23-4175",false);
i.default.add(t).then(function(t){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-4092-23-4126",false);
a.handleResponse(e,t)
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-4092-23-4126",true);
 }}).catch(function(t){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-4134-23-4173",false);
a.handleResponse(e,null,t)
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-4134-23-4173",true);
 }})
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-4056-23-4175",true);
 }},this.removeFromWatchlist=function(e,t){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-4201-23-4323",false);
i.default.remove(t).then(function(t){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-4240-23-4274",false);
a.handleResponse(e,t)
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-4240-23-4274",true);
 }}).catch(function(t){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-4282-23-4321",false);
a.handleResponse(e,null,t)
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-4282-23-4321",true);
 }})
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-4201-23-4323",true);
 }},this.playVideoWithTrackers=function(e,t){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-4351-23-4485",false);
a.handleResponse(e,null,{message:"Play video with trackers is not yet supported in browser",type:"unsupportedFeature"})
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-4351-23-4485",true);
 }},this.broadcastAction=function(e,t){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-4507-23-4612",false);
window.top.dispatchEvent(new window.CustomEvent(r,{detail:t.data})),a.handleResponse(e,!0)
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-4507-23-4612",true);
 }},this.handleBroadcastEvent=function(e){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-4639-23-4706",false);
e.detail&&a.updateMethod("onBroadcastAction",e.detail)
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-4639-23-4706",true);
 }},this.intersectionListener=function(e){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-4733-23-4812",false);
e[0].isIntersecting?a.addScrollListener():a.removeScrollListener()
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-4733-23-4812",true);
 }},this.addScrollListener=function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-4836-23-5035",false);
a.root&&(a._offsetElementPosition=a.calculateOffsetElementPosition(),a.root.removeEventListener("scroll",a.throttledScroll),a.root.addEventListener("scroll",a.throttledScroll),a.scroll())
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-4836-23-5035",true);
 }},this.removeScrollListener=function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-5062-23-5149",false);
a.root&&(a.root.removeEventListener("scroll",a.throttledScroll),a.scroll())
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-5062-23-5149",true);
 }},this.scroll=function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-5162-23-5255",false);
var e=a.offsetElementPosition.y-a.root.scrollY;a.updateMethod("onScrollChange",e)
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-5162-23-5255",true);
 }},this.resize=function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-5268-23-5480",false);
if(a.subscribedToWidget){var e=a.calculateWidgetSize();e&&a.updateMethod("onWidgetSizeChange",e)}if(a.subscribedToViewport){var t=a.calculateViewportSize();t&&a.updateMethod("onViewportSizeChange",t)}
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-5268-23-5480",true);
 }},this.beforeunload=function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-5499-23-5539",false);
a.updateMethod("onPageHide")
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-5499-23-5539",true);
 }},this.calculateOffsetElementPosition=function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-5576-23-5768",false);
for(var e=0,t=0,n=a.offsetElement,o=a.root.document.body;n&&n!==o;)e+=n.offsetLeft-n.scrollLeft+n.clientLeft,t+=n.offsetTop-n.scrollTop+n.clientTop,n=n.offsetParent;return{x:e,y:t}
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-5576-23-5768",true);
 }},this.calculateWidgetSize=function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-5794-23-5978",false);
if(a.element){var e=a.element.getBoundingClientRect(),t=e.width,n=e.height;return a._offsetElementPosition=a.calculateOffsetElementPosition(),{width:t,height:n}}return null
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-5794-23-5978",true);
 }},this.calculateViewportSize=function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-6006-23-6088",false);
return a.root?{width:a.root.innerWidth,height:a.root.innerHeight}:null
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-6006-23-6088",true);
 }},this.element=e,this.offsetElement=l||e,this.throttledResize=n.default(this.resize,100),this.throttledScroll=n.default(this.scroll,1e3/this.scrollFPS,{leading:!0}),o?this.root=o:this._root.addEventListener("beforeunload",this.beforeunload)
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-405-23-6328",true);
 }}return Object.defineProperty(e.prototype,"element",{get:function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-6384-23-6416",false);
return this._element
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-6384-23-6416",true);
 }},set:function(e){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-6421-23-6523",false);
if(e){var t=this._element;this._element=e,this.offsetElement===t&&(this.offsetElement=e)}
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-6421-23-6523",true);
 }},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offsetElement",{get:function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-6611-23-6649",false);
return this._offsetElement
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-6611-23-6649",true);
 }},set:function(e){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-6654-23-6913",false);
if(e){var t=this._offsetElement;this._offsetElement=e,this._offsetElementPosition=this.calculateOffsetElementPosition(),this.intersectionObserver&&(t&&this.intersectionObserver.unobserve(t),this.intersectionObserver.observe(this._offsetElement))}
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-6654-23-6913",true);
 }},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-6992-23-7021",false);
return this._root
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-6992-23-7021",true);
 }},set:function(e){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-7026-23-7183",false);
this._root.removeEventListener("beforeunload",this.beforeunload),e&&(this._root=e,this._root.addEventListener("beforeunload",this.beforeunload))
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-7026-23-7183",true);
 }},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scrollFPS",{get:function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-7267-23-7301",false);
return this._scrollFPS
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-7267-23-7301",true);
 }},set:function(e){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-7306-23-7428",false);
this._scrollFPS=o.default(e,1,60),this.throttledScroll=n.default(this.scroll,1e3/this.scrollFPS,{leading:!0})
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-7306-23-7428",true);
 }},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offsetElementPosition",{get:function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-7524-23-7570",false);
return this._offsetElementPosition
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-7524-23-7570",true);
 }},enumerable:!1,configurable:!0}),e
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-23-394-23-7605",true);
 }}();exports.default=l;

 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-22-79-24-1",true);
 }},{"../utils/generateUUID":"StlK","lodash.throttle":"Ai1e","@imdb/gungnir/utils/clamp":"jaYC","@imdb/gungnir/imdb/watchlist/watchlistAPI":"VfQ5","@imdb/gungnir/imdb/user":"fwHL"}],"KwEG":[function(require,module,exports) { 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-24-188-26-1",false);

"use strict";function t(t){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-25-13-25-290",false);
void 0===t&&(t="top");var o=null;if(!o&&"top"===t){var n=null;try{n=void 0!==window.top.location.search?window.top:null}catch(e){}o=n}if(!o&&"parent"===t){n=null;try{n=void 0!==window.parent.location.search?window.parent:null}catch(e){}o=n}return o||(o=window),o
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-25-13-25-290",true);
 }}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=t;

 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-24-188-26-1",true);
 }},{}],"ilLD":[function(require,module,exports) { 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-26-14-28-1",false);

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDetectedPlatform=void 0;var e=require("../utils/windowTarget"),i=/^http(s)?\:\/\/m\.(.*\.)?imdb\.com/,t=/(Android|OS|Windows Phone) (\d+)[\._](\d+)[\._]?(\d+)?/,r=/Android (\d{2,})/,n=/iP(hone|ad|od)/,o=/Version\/[\d\.]+.*Safari/,s="IMDb-flg",a="Windows Phone",c="Android",u="ontouchstart",f="Chrome/",h=/(Chrome|Safari|MSIE|Firefox)/,d=/(SamsungBrowser|Galaxy Nexus Build|iPhone OS 8|iPhone OS 7)/,p=function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-27-480-27-3427",false);
function e(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-27-491-27-1652",false);
this._isWindowsDevice=!1,this._isIOSDevice=!1,this._isAndroidDevice=!1,this._isIMDbApp=!1,this._isSafari=!1,this._isMobileDevice=!1,this._isMobileSite=!1,this._hasTouch=!1,this._mobilePlatformVersion={major:0,minor:0,patch:0,androidAPI:0},this._chromeVersion=0,this._canAutoplay=!1,this._canTransitionTransform=!1,this._siteVariant="";var e=window.navigator.userAgent,t=window.location.href;this._isWindowsDevice=e.indexOf(a)>-1,this._isIOSDevice=e.search(n)>-1,this._isAndroidDevice=e.indexOf(c)>-1,this._isIMDbApp=e.indexOf(s)>-1,this._isSafari=e.search(o)>-1,this._isMobileDevice=this._isWindowsDevice||this._isIOSDevice||this._isAndroidDevice,this._isMobileSite=t.search(i)>-1,this._hasTouch=void 0!==window.document[u],this._mobilePlatformVersion=v(e,this.isIMDbApp,this.isAndroidDevice),this._chromeVersion=m(e),this._canAutoplay=D(this.mobilePlatformVersion,this.isIMDbApp,this.isAndroidDevice,this.isIOSDevice,this.isMobileDevice),this._canTransitionTransform=this.isDesktopSite||_(e,this.isIMDbApp,this.isAndroidDevice,this.mobilePlatformVersion),this._siteVariant=b(this.isIMDbApp,this.isIOSDevice,this.isAndroidDevice,this.isMobileSite)
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-27-491-27-1652",true);
 }}return Object.defineProperty(e.prototype,"isWindowsDevice",{get:function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-27-1716-27-1756",false);
return this._isWindowsDevice
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-27-1716-27-1756",true);
 }},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isIOSDevice",{get:function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-27-1842-27-1878",false);
return this._isIOSDevice
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-27-1842-27-1878",true);
 }},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAndroidDevice",{get:function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-27-1968-27-2008",false);
return this._isAndroidDevice
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-27-1968-27-2008",true);
 }},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMobileDevice",{get:function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-27-2097-27-2136",false);
return this._isMobileDevice
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-27-2097-27-2136",true);
 }},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isIMDbApp",{get:function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-27-2220-27-2254",false);
return this._isIMDbApp
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-27-2220-27-2254",true);
 }},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSafari",{get:function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-27-2337-27-2370",false);
return this._isSafari
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-27-2337-27-2370",true);
 }},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDesktopSite",{get:function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-27-2458-27-2496",false);
return!this.isMobileDevice
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-27-2458-27-2496",true);
 }},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMobileSite",{get:function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-27-2583-27-2620",false);
return this._isMobileSite
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-27-2583-27-2620",true);
 }},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasTouch",{get:function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-27-2703-27-2736",false);
return this._hasTouch
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-27-2703-27-2736",true);
 }},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"chromeVersion",{get:function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-27-2824-27-2862",false);
return this._chromeVersion
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-27-2824-27-2862",true);
 }},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mobilePlatformVersion",{get:function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-27-2958-27-3004",false);
return this._mobilePlatformVersion
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-27-2958-27-3004",true);
 }},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canAutoplay",{get:function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-27-3090-27-3126",false);
return this._canAutoplay
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-27-3090-27-3126",true);
 }},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canTransitionTransform",{get:function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-27-3223-27-3270",false);
return this._canTransitionTransform
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-27-3223-27-3270",true);
 }},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"siteVariant",{get:function(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-27-3356-27-3392",false);
return this._siteVariant
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-27-3356-27-3392",true);
 }},enumerable:!1,configurable:!0}),e
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-27-480-27-3427",true);
 }}();function l(){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-27-3430-27-3931",false);
var i=window.navigator.userAgent.toLowerCase(),t=e.default("top").location.search.match(/platform=(\w+)/)||[],r=window.DeviceInfo.PlatformType.unknown;switch(!0){case null!==t&&t.length>0:var n=t[1];void 0!==window.DeviceInfo.PlatformType[n]&&(r=window.DeviceInfo.PlatformType[n]);break;case i.indexOf("iphone")>-1:r=window.DeviceInfo.PlatformType.ios;break;case i.indexOf("android")>-1:r=window.DeviceInfo.PlatformType.android;break;default:r=window.DeviceInfo.PlatformType.web}return r
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-27-3430-27-3931",true);
 }}function b(e,i,t,r){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-27-3931-27-4039",false);
var n="";return e?(n="app",n+=i?"-ios-ph":t?"-andr-ph":"-unknown"):n=r?"mobile":"web",n
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-27-3931-27-4039",true);
 }}function m(e){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-27-4039-27-4133",false);
return-1!==e.indexOf(f)?window.parseInt(e.substr(e.indexOf(f)+f.length,2),10):0
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-27-4039-27-4133",true);
 }}function v(e,i,n){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-27-4133-27-4438",false);
var o,s={major:0,minor:0,patch:0,androidAPI:0};((o=e.match(t))&&o.length>0&&(s.major=window.parseInt(o[2],10)||0,s.minor=window.parseInt(o[3],10)||0,s.patch=window.parseInt(o[4],10)||0),i&&n)&&((o=e.match(r))&&o.length>0?s.androidAPI=window.parseInt(o[1],10)||0:s.androidAPI=0);return s
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-27-4133-27-4438",true);
 }}function D(e,i,t,r,n){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-27-4438-27-4548",false);
return i?t?e.androidAPI>=17||e.major>=4&&!(4===e.major&&e.minor<2):!!(r&&e.major>=4):!n
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-27-4438-27-4548",true);
 }}function _(e,i,t,r){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-27-4548-27-4724",false);
var n=!t&&r.major<9;if(i)return!n;if(d.test(e))return!1;if(h.test(e)){if(-1!==e.indexOf(f)){var o=m(e);if(!Number.isNaN(o)&&o<46)return!1}return!0}return!1
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-27-4548-27-4724",true);
 }}exports.getDetectedPlatform=l;var g=new p;Object.freeze(g),exports.default=g;

 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-26-14-28-1",true);
 }},{"../utils/windowTarget":"KwEG"}],"kIhC":[function(require,module,exports) { 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-28-44-30-1",false);

"use strict";var e=this&&this.__importDefault||function(e){ 
 try {__tracer.cacheInit("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-29-47-29-96",false);
return e&&e.__esModule?e:{default:e}
 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-29-47-29-96",true);
 }};Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("..")),i=e(require("../native/AppContext")),a=e(require("../native/BrowserContext")),r=e(require("@imdb/gungnir/device/info"));switch(!0){case void 0!==window.NativeWebBridge:console.warn("window.NativeWebBridge already exists");break;case i.default.hasAppContext():window.NativeWebBridge=new t.default(new i.default);break;case r.default.isIMDbApp&&!i.default.hasAppContext():console.warn("window.NativeWebBridge does not have native bridge connection "+r.default.mobilePlatformVersion);break;default:window.NativeWebBridge=new t.default(new a.default)}

 
 } finally {__tracer.exitFunction("MDb/design/prototypes/nwb/HybridNativeWebBridge.js-function-28-44-30-1",true);
 }},{"..":"o2OF","../native/AppContext":"xlgf","../native/BrowserContext":"jVHQ","@imdb/gungnir/device/info":"ilLD"}]},{},["kIhC"], null) }
[rtiDebugInfo]0 238
