/home/aman/Desktop/Parallelization-of-JavaScript/horcrux-instrumentation-rewriter/node_modules/falafel/index.js
Options are {"useProxy":true,"caching":false,"include_prefix":false,"path":"8.js?_sw-precache=a6eb66ed03ab68bce0ffaa524d7015c2","origPath":"/vi-assets/static-assets/vendors~LiveAlertsToggle-71ad5ef25c52447a9068.js?_sw-precache=a6eb66ed03ab68bce0ffaa524d7015c2","e2eTesting":false,"pageLoaded":"false;","invocation_limit":"5000;","pattern":"record","proxyName":"__tracerPROXY"}
{
  useProxy: true,
  caching: false,
  include_prefix: false,
  path: '8.js?_sw-precache=a6eb66ed03ab68bce0ffaa524d7015c2',
  origPath: '/vi-assets/static-assets/vendors~LiveAlertsToggle-71ad5ef25c52447a9068.js?_sw-precache=a6eb66ed03ab68bce0ffaa524d7015c2',
  e2eTesting: false,
  pageLoaded: 'false;',
  invocation_limit: '5000;',
  pattern: 'record',
  proxyName: '__tracerPROXY',
  cg: [
    '/storylines/pilot/burst-1f674efbb753e0d51051.js-function-10-77148-10-77221',
    'www.nytimes.com/-script-4-function-53-3091-53-3439',
    'www.nytimes.com/-script-4-function-91-3-119-1',
    '/storylines/pilot/burst-1f674efbb753e0d51051.js-function-1-1-53-117446',
    'www.nytimes.com/-script-9-function-132-4062-132-4192',
    '/storylines/pilot/burst-1f674efbb753e0d51051.js-function-10-108952-10-109082',
    'www.nytimes.com/-script-4-function-121-22570-121-23011',
    'ssets/static-assets/vendor-08c1b617cd319b136ad1.js-function-1-1-1-154633',
    'www.nytimes.com/-script-9-function-132-12258-132-12349',
    'www.nytimes.com/-script-8-function-131-54-131-5433',
    'www.nytimes.com/-script-9-function-131-5489-135-11',
    '/ads/prebid7.28.0.js-function-4-1-19-34',
    'www.nytimes.com/-script-4-function-53-1924-53-3085',
    '/ads/prebid7.28.0.js-function-5-27501-5-27658',
    'www.nytimes.com/-script-7-function-130-1476-130-1532',
    'www.nytimes.com/-script-9-function-132-10213-132-10281',
    'www.nytimes.com/-script-4-function-54-1-89-73',
    'www.nytimes.com/-script-4-function-121-23017-121-23153',
    'www.nytimes.com/-script-7-function-128-11-128-382',
    'www.nytimes.com/-script-7-function-129-11-129-36',
    'ssets/static-assets/adslot-9349dd2c5537218e254e.js-function-1-21211-1-21498',
    '/storylines/pilot/burst-1f674efbb753e0d51051.js-function-53-30627-53-30995',
    'www.nytimes.com/-script-7-function-130-423-130-719',
    'www.nytimes.com/-script-9-function-132-12459-132-12481',
    'www.nytimes.com/-script-9-function-132-11455-132-11523',
    'www.nytimes.com/-script-28-function-337-1-343-1',
    'www.nytimes.com/-script-7-function-130-11-130-1806',
    'www.nytimes.com/-script-5-function-123-13-123-1525',
    'www.nytimes.com/-script-4-function-121-20651-121-22564',
    'www.nytimes.com/-script-4-function-120-2-120-3738',
    'ssets/static-assets/adslot-9349dd2c5537218e254e.js-function-1-1-1-22322',
    '/storylines/pilot/burst-1f674efbb753e0d51051.js-function-10-2488-10-2669',
    '/storylines/pilot/burst-1f674efbb753e0d51051.js-function-10-76705-10-76765',
    'www.nytimes.com/-script-27-function-334-493-334-2688',
    '/storylines/pilot/burst-1f674efbb753e0d51051.js-function-10-82829-10-83007',
    'ssets/static-assets/adslot-9349dd2c5537218e254e.js-function-1-6832-1-6878',
    'www.nytimes.com/-script-4-function-121-22794-121-22912',
    'www.nytimes.com/-script-27-function-334-13-334-488',
    'www.nytimes.com/-script-4-function-121-2-121-1911',
    '/storylines/pilot/burst-1f674efbb753e0d51051.js-function-10-78990-10-79050',
    'www.nytimes.com/-script-4-function-53-7-53-1918',
    '/storylines/pilot/burst-1f674efbb753e0d51051.js-function-10-1319-10-1341',
    'www.nytimes.com/-script-15-function-270-10-291-4',
    'www.nytimes.com/-script-8-function-131-2547-131-5387',
    'www.nytimes.com/-script-4-function-121-1917-121-20645',
    '-assets/static-assets/home-7bebf11c60ef3b65d658.js-function-1-1-1-130907',
    '/storylines/pilot/burst-1f674efbb753e0d51051.js-function-10-36868-10-37072',
    'www.nytimes.com/-script-23-function-329-13-329-9636',
    'www.nytimes.com/-script-9-function-132-3652-132-3783',
    'www.nytimes.com/-script-9-function-132-12379-132-12400'
  ]
}
(window.webpackJsonp=window.webpackJsonp||[]).push([[112],{"4mzx":function(e,t,n){"use strict";var r=n("TqRt"),o=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n("lSNA")),s=r(n("J4zp")),a=w(n("ERkP")),u=(r(n("17x9")),n("Lcdh")),c=r(n("H32Z")),l=n("hAwj"),f=r(n("ljQf")),d=r(n("AkqQ")),p=r(n("20xH")),v=n("KAI4"),h=w(n("ZMEQ"));function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}function w(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=i?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(r,s,a):r[s]=e[s]}return r.default=e,n&&n.set(e,r),r}function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=(0,a.forwardRef)((function(e,t){var n=e.arrowPosition,r=e.onCloseTooltip,o=e.storageKey,b=e.tooltipOpen,w=e.setTooltipOpen,m=e.className,y=e.totalTimesToShow,k=e.frequencyInHours,P=(0,a.useState)(!1),S=(0,s.default)(P,2),O=S[0],x=S[1],C=(0,a.useState)(!1),E=(0,s.default)(C,2),N=E[0],j=E[1],A=o||v.DEFAULTS.tooltipStorageKey;(0,a.useEffect)((function(){var e;null!==(e=document)&&void 0!==e&&e.querySelector(".ANDROID")&&x(!0)}),[]);var I=(0,a.useCallback)((function(e){if(null==e||e.stopPropagation(),w(!1),!f.default)return null;var t=f.default.getItem(A),n={};return t&&(n=g(g({},n=JSON.parse(t)),{},{dismissed:!0})),r&&r(),f.default.setItem(A,JSON.stringify(n))}),[A,r,w]),T=(0,a.useCallback)((function(){var e,t={},n=f.default.getItem(A);return n?(t=JSON.parse(n)).seen<y&&(e=t.lastSeen,(0,d.default)().diff(e,"h")>=k)&&!t.dismissed&&(t={seen:t.seen+1,lastSeen:(0,d.default)(),dismissed:t.dismissed},f.default.setItem(A,JSON.stringify(t)),!0):(t={seen:1,dismissed:!1,lastSeen:(0,d.default)()},f.default.setItem(A,JSON.stringify(t)),!0)}),[A,k,y]);return(0,a.useEffect)((function(){N||(T()&&w(!0),j(!0))}),[N,T,w]),(0,a.useImperativeHandle)(t,(function(){return{closeTooltip:I}}),[I]),b&&a.default.createElement("div",{className:(0,u.cx)(h.tooltipClass,(0,i.default)({},h.arrowTopPositionClass,"top"===n),m)},a.default.createElement("div",{className:h.tooltipContentWrapperClass},a.default.createElement("p",{className:h.tooltipContentClass},"Turn on notifications to ",a.default.createElement(p.default,null,"receive alerts as stories develop")," in real-time."," ",O?"":"You can manage alerts in your appâ€™s settings."),a.default.createElement("button",{type:"button",className:h.closeIconButtonClass,onClick:I,"aria-label":"close alert toggle tooltip"},a.default.createElement(c.default,{className:h.closeIconClass,stroke:l.color.content.primary,strokeWidth:"1.5"}))))}));y.defaultProps={arrowPosition:"bottom",storageKey:void 0,onCloseTooltip:void 0,className:void 0,frequencyInHours:24,totalTimesToShow:3};var k=y;t.default=k},H32Z:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var o=r(n("ERkP")),i=(r(n("17x9")),r(n("jVmh")));function s(e){var t=e.className,n=e.stroke,r=e.strokeWidth;return o.default.createElement("svg",{className:t,viewBox:"0 0 12 12",stroke:n,strokeWidth:r,strokeLinecap:"round",style:{opacity:.95}},o.default.createElement("line",{x1:"11",y1:"1",x2:"1",y2:"11"}),o.default.createElement("line",{x1:"1",y1:"1",x2:"11",y2:"11"}))}s.displayName="CloseIcon",s.defaultProps={className:void 0,stroke:i.default.color.black,strokeWidth:"1"}},KAI4:function(e,t,n){"use strict";var r=n("TqRt"),o=n("cDf5");Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.DEFAULTS=void 0;var i=r(n("o0o1")),s=r(n("lSNA")),a=r(n("yXPU")),u=r(n("J4zp")),c=b(n("ERkP")),l=(r(n("17x9")),n("Lcdh")),f=n("Y6Ki"),d=n("Vp5M"),p=r(n("4mzx")),v=b(n("kFBt"));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==o(e)&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var r={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=i?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(r,s,a):r[s]=e[s]}return r.default=e,n&&n.set(e,r),r}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,s.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var g={cta:"Get alerts for live updates.",ariaLabel:"Subscribe to alerts toggle button",tooltipStorageKey:"styln_live_signup_alert_tooltip",notifications:function(e){return{subscribed:{title:e?"Live Update: ".concat(e):"Live Update",body:e?"You will receive alerts as this story develops.":"You will receive alerts for a live story."},unsubscribed:{title:"Unsubscribed",body:e?"You will no longer receive live update alerts for ".concat(e,"."):"You will no longer receive live update alerts."}}}};t.DEFAULTS=g;var y="/files/2018/interactive/election-notifications/worker.js",k=function(e){var t,n=e.className,r=e.env,o=e.showTooltip,h=e.ctaText,b=e.ariaLabel,w=e.storageKey,k=e.onBuildNotification,P=e.topic,S=e.isServiceWorkerRequired,O=e.kicker,x=e.onView,C=e.onSubscribe,E=e.onUnsubscribe,N=e.tooltipArrowPosition,j=e.buttonWrapperClassName,A=e.showToggle,I=e.errorAlertClassName,T=e.isAutoSubscribeEnabled,_=e.tooltipOverrideClassName,W=e.alertWrapperClassName,R=(0,l.useTheme)().shouldRender,L=(0,c.useState)(!1),D=(0,u.default)(L,2),M=D[0],U=D[1],q=(0,c.useState)(!1),F=(0,u.default)(q,2),z=F[0],B=F[1],H=(0,c.useState)(!1),K=(0,u.default)(H,2),Y=K[0],V=K[1],J=(0,c.useRef)(!0),Q=(0,c.useRef)(!1),Z=(0,c.useState)(),G=(0,u.default)(Z,2),X=G[0],$=G[1],ee=k||g.notifications,te=(0,c.useRef)(),ne=(0,c.useRef)(null),re=(0,d.useOnScreen)(te);(0,c.useEffect)((function(){x&&re&&!Y&&(x({isSubscribed:M}),V(!0))}),[x,Y,re,M]);var oe=function(){var e=(0,a.default)(i.default.mark((function e(){var t,n,r,o,s;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("Registering service worker..."),e.next=4,null===(t=window)||void 0===t||null===(n=t.navigator)||void 0===n?void 0:n.serviceWorker.register(y,{scope:"".concat(null===(r=window)||void 0===r||null===(o=r.location)||void 0===o?void 0:o.origin).concat(y)});case 4:s=e.sent,console.log("Live Alerts SW registration successful",s),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Live Alerts SW registration failed: ".concat(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),ie=(0,c.useCallback)((0,a.default)(i.default.mark((function e(){var t,n,o,s,a,u,c,l;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"!=typeof window){e.next=2;break}return e.abrupt("return",null);case 2:return c=r||(null===(t=window.vi)||void 0===t||null===(n=t.env)||void 0===n?void 0:n.ENVIRONMENT)||(null===(o=window.hybrid)||void 0===o||null===(s=o.env)||void 0===s?void 0:s.ENVIRONMENT),e.next=5,f.ready;case 5:if((0,f.setConfiguration)(m({host:"prd"!==c?"https://pushkin.stg.newsdev.nytimes.com":"https://pushkin.newsdev.nytimes.com",key:"prd"!==c?"ei+cXKvl4+GxAfZJ6VUzZeS+lQZ4myKLGHIjU+EqXf8=":"8M6V4P/FFjTCOroeyAR3+kFBAhjGzMXasr1Q6gzrHVE=",ios:{bundleName:"com.nytimes.NYTimes",sandbox:"prd"!==c}},S&&{serviceWorkerScope:"".concat(null===(a=window)||void 0===a||null===(u=a.location)||void 0===u?void 0:u.origin).concat(y)})),e.prev=6,!S){e.next=10;break}return e.next=10,oe();case 10:return e.next=12,(0,f.getSubscribedTopics)();case 12:return l=e.sent,e.abrupt("return",l);case 16:return e.prev=16,e.t0=e.catch(6),Q.current=!1,e.abrupt("return",null);case 20:case"end":return e.stop()}}),e,null,[[6,16]])}))),[r,S]),se=(0,c.useCallback)((0,a.default)(i.default.mark((function e(){var t,n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return U(!0),z&&(null==ne||null===(t=ne.current)||void 0===t||t.closeTooltip()),e.prev=2,e.next=5,(0,f.subscribeToTopic)(P,{notification:null===(n=ee(O))||void 0===n?void 0:n.subscribed});case 5:C&&C(),X&&$(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),U(!1),$("Something went wrong. Please try again in a moment.");case 13:case"end":return e.stop()}}),e,null,[[2,9]])}))),[X,O,ee,C,z,P]),ae=(0,c.useCallback)((0,a.default)(i.default.mark((function e(){var t;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return U(!1),e.prev=1,e.next=4,(0,f.unsubscribeFromTopic)(P,{notification:null===(t=ee(O))||void 0===t?void 0:t.unsubscribed});case 4:E&&E(),X&&$(),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),U(!0),$("Something went wrong. Please try again in a moment.");case 12:case"end":return e.stop()}}),e,null,[[1,8]])}))),[X,O,ee,E,P]);return(0,c.useEffect)((function(){null!=J&&J.current&&!Q.current&&(J.current=!1,ie().then((function(e){e&&Array.isArray(e)&&(Q.current=!0,e.includes(P)?U(!0):T&&se())})))}),[ie,T,se,Q,P,J]),f.supportsNotifications?null!=Q&&Q.current&&A?c.default.createElement("div",{ref:te,className:(0,l.cx)(v.notificationContainerClass,(t={},(0,s.default)(t,v.notificationLiveCoverageClass,null==R?void 0:R.bulletBlock),(0,s.default)(t,v.hasPostDividerClass,null==R?void 0:R.postDivider),t),n)},o&&c.default.createElement(p.default,{tooltipOpen:z,setTooltipOpen:B,arrowPosition:N,storageKey:w,className:_,ref:ne}),c.default.createElement("div",{className:(0,l.cx)(v.pushSubWrapperClass,W)},c.default.createElement("p",{className:v.pushSubCtaClass},h||g.cta),c.default.createElement("div",{className:(0,l.cx)(v.buttonWrapperClass,j)},c.default.createElement("button",{type:"button","aria-label":b||g.ariaLabel,className:(0,l.cx)(v.buttonStylesBaseClass,M?"on":"off"),onClick:M?ae:se}))),X&&c.default.createElement("div",{className:I},c.default.createElement("p",{className:v.errorAlertClass},X))):c.default.createElement("div",{ref:te}):null};k.defaultProps={className:void 0,ariaLabel:void 0,env:void 0,ctaText:void 0,showTooltip:!1,storageKey:void 0,onBuildNotification:void 0,kicker:"",tooltipArrowPosition:"bottom",onView:void 0,onSubscribe:void 0,onUnsubscribe:void 0,buttonWrapperClassName:void 0,showToggle:!0,errorAlertClassName:void 0,isServiceWorkerRequired:!1,isAutoSubscribeEnabled:!1,tooltipOverrideClassName:void 0,alertWrapperClassName:void 0};var P=k;t.default=P},Vp5M:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.debounce=function(e){var t;return function(){for(var n=this,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];t&&window.cancelAnimationFrame(t),t=window.requestAnimationFrame((function(){return e.apply(n,o)}))}},t.getScrolledIndex=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=Math.round(e.scrollLeft*t/e.clientWidth);return Math.min(n,e.children.length)},t.useOnScreen=t.times=t.noop=t.handleNavRight=t.handleNavLeft=t.handleButtonPress=void 0;var o=r(n("J4zp")),i=n("ERkP");function s(e,t){var n,r=+(null==e?void 0:e.dataset.scrolledIndex)+("left"===t?-1:1),o=null==e||null===(n=e.children)||void 0===n?void 0:n[r];o&&e.scrollTo({left:o.offsetLeft})}t.noop=function(){};t.handleNavLeft=function(e){return s(e,"left")};t.handleNavRight=function(e){return s(e,"right")};t.times=function(e,t){return new Array(e).fill(null).map((function(e,n){return t(n)}))};t.handleButtonPress=function(e,t){"Enter"!==e.key&&"Spacebar"!==e.key&&" "!==e.key||t()};t.useOnScreen=function(e,t){var n=(0,i.useState)(!1),r=(0,o.default)(n,2),s=r[0],a=r[1];return(0,i.useEffect)((function(){var n=e.current,r=new IntersectionObserver((function(e){var t=(0,o.default)(e,1)[0];a(t.isIntersecting)}),{root:document.getElementById(t)});return n&&r.observe(n),function(){n&&r.unobserve(n)}}),[e,t]),s}},Y6Ki:function(e,t,n){!function(e){"use strict";var t=void 0,n={get host(){if(!t)throw new Error("You must provide the Pushkin configuration via setConfiguration()");return t.host},get key(){if(!t)throw new Error("You must provide the Pushkin configuration via setConfiguration()");return t.key},ios:{get bundleName(){if(!t||!t.ios)throw new Error("You must provide the Pushkin configuration via setConfiguration()");return t.ios.bundleName},get sandbox(){if(!t||!t.ios)throw new Error("You must provide the Pushkin configuration via setConfiguration()");return t.ios.sandbox}},get subscribeCloudFunctionURL(){if(!t)throw new Error("You must provide the Pushkin configuration via setConfiguration()");return t.subscribeCloudFunctionURL},get serviceWorkerScope(){if(!t)throw new Error("You must provide the Pushkin configuration via setConfiguration()");return t.serviceWorkerScope?new URL(t.serviceWorkerScope,self.location.href).href:null}},r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};function o(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function i(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function s(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=r[2&i[0]?"return":i[0]?"throw":"next"])&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[0,o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}function a(e,t,r){return void 0===t&&(t="GET"),i(this,void 0,void 0,(function(){var o,i;return s(this,(function(s){switch(s.label){case 0:return[4,fetch(n.host+e,{method:t,headers:{Authorization:n.key,"Content-Type":"application/json"},body:r?JSON.stringify(r):void 0})];case 1:return[4,(o=s.sent()).json()];case 2:if(i=s.sent(),!1===o.ok)throw new Error(i.error);return[2,i]}}))}))}var u=new(function(e){function t(){var t=e.call(this)||this;return t._state="default",t.request=function(){throw new Error("No platform implementation provided a permission prompt")},t}return o(t,e),Object.defineProperty(t.prototype,"state",{get:function(){return this._state},set:function(e){if(e!==this._state){this._state=e;var t=new Event("change",{target:this});this.fireEvent(t)}},enumerable:!0,configurable:!0}),t}(function(){function e(){this.events={}}return e.prototype.addEventListener=function(e,t){this.events[e]||(this.events[e]=[]),this.events[e].push(t)},e.prototype.removeEventListener=function(e,t){if(this.events[e]){var n=this.events[e].indexOf(t);-1!==n&&this.events[e].splice(n,1)}},e.prototype.fireEvent=function(e){this.events[e.type]&&this.events[e.type].forEach((function(t){return t(e)}))},e}())),c="pushkin__ios_device_token",l=!1;function f(){return i(this,void 0,void 0,(function(){var e,t;return s(this,(function(n){switch(n.label){case 0:if(e=window.localStorage.getItem(c),!1===l&&null===e)throw u.state="denied",new Error("Page has been reloaded so we've lost the device data event. You need to recreate the webview.");return[4,new Promise((function(t,n){if(!1===l)return console.info("PUSH: token fetch event won't work, so using cached token"),void t(e);if("complete"===document.readyState||"interactive"===document.readyState){var r=window.config&&window.config.userInfo&&window.config.userInfo.pushToken;return t(r||null)}var o=setTimeout((function(){n(new Error("The document did not become ready within the threshold"))}),1e3);document.addEventListener("DOMContentLoaded",(function(){clearTimeout(o);var e=window.config&&window.config.userInfo&&window.config.userInfo.pushToken;return t(e||null)}))}))];case 1:return(t=n.sent())?(console.info("PUSH: Received a push token"),window.localStorage.setItem(c,t),u.state="granted"):(console.info("PUSH: Received device info with no token attached"),window.localStorage.removeItem(c),u.state="default"),[2,t]}}))}))}function d(e){return i(this,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return e?[4,v()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2,f()]}}))}))}function p(){return"pushkin__ios_"+encodeURIComponent(n.host)+"_"+n.ios.bundleName+"_"+n.ios.sandbox+"_id"}function v(){return i(this,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return"granted"===u.state?[2,u.state]:((e=document.createElement("a")).setAttribute("href","nytimes://notifications"),e.style.display="none",document.body.appendChild(e),e.click(),[4,new Promise((function(e){var t=function(){"hidden"!==document.visibilityState&&(window.removeEventListener("visibilitychange",t,!0),e())};window.addEventListener("visibilitychange",t,!0)}))]);case 1:return t.sent(),document.body.removeChild(e),console.info("PUSH: Page visible again, so checking for token..."),[4,f()];case 2:return t.sent(),[2,u.state]}}))}))}var h,b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(Error),w=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(Error),m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(Error);function g(){return i(this,void 0,void 0,(function(){var e,t,n,r,o=this;return s(this,(function(a){switch(a.label){case 0:return e=!1,[4,function(e,t,n){return i(this,void 0,void 0,(function(){return s(this,(function(e){return[2,new Promise((function(e,t){var r=indexedDB.open("pushkin-client-nyt",1);r.onupgradeneeded=function(e){return n(e,r.result)},r.onerror=function(){return t(r.error)},r.onsuccess=function(){return e(r.result)}}))]}))}))}(0,0,(function(t,n){0===t.oldVersion&&(e=!0,n.createObjectStore("firebase-tokens",{keyPath:"id",autoIncrement:!0}).createIndex("endpoint","endpoint"))}))];case 1:if(t=a.sent(),!1===e||"localStorage"in self==0)return[2,t];n=function(e){var n,r,a,u;return s(this,(function(c){switch(c.label){case 0:return(n=localStorage.key(e))?(r=/pushkin__web_(.*)_(.*)_id/.exec(n),console.log(n,r),r?(a=decodeURIComponent(r[1]),u=decodeURIComponent(r[2]),[4,k(t,["firebase-tokens"],"readwrite",(function(e){return i(o,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,y(e.objectStore("firebase-tokens").add({platform:"web",endpoint:u,pushkinHost:a,token:localStorage.getItem(n)}))];case 1:return t.sent(),[2]}}))}))}))]):[3,2]):[2,"continue"];case 1:c.sent(),window.localStorage.removeItem(n),c.label=2;case 2:return[2]}}))},r=0,a.label=2;case 2:return r<localStorage.length?[5,n(r)]:[3,5];case 3:a.sent(),a.label=4;case 4:return r++,[3,2];case 5:return[2,t]}}))}))}function y(e){return new Promise((function(t,n){e.onerror=function(){return n(e.error)},e.onsuccess=function(){return t(e.result)}}))}function k(e,t,n,r){return i(this,void 0,void 0,(function(){var o,a,u=this;return s(this,(function(c){switch(c.label){case 0:return o=e.transaction(t,n),[4,r(o)];case 1:return a=c.sent(),[2,new Promise((function(e,t){return i(u,void 0,void 0,(function(){return s(this,(function(n){return o.oncomplete=function(){return e(a)},o.onerror=function(){return t(o.error)},[2]}))}))}))]}}))}))}function P(e,t){return i(this,void 0,void 0,(function(){var r,o,u,c,l,f=this;return s(this,(function(d){switch(d.label){case 0:return[4,function(e){return i(this,void 0,void 0,(function(){var t,r,o,i,a,u,c,l,f,d;return s(this,(function(s){switch(s.label){case 0:if(!(r="registration"in self&&self.registration instanceof ServiceWorkerRegistration))return[3,1];if(t=self.registration,n.serviceWorkerScope&&n.serviceWorkerScope!==t.scope)throw new Error("Pushkin has been registered for a different scope than this worker lives in");return[3,5];case 1:return n.serviceWorkerScope?[4,navigator.serviceWorker.getRegistrations()]:[3,3];case 2:if(o=s.sent(),!(i=o.find((function(e){return e.scope===n.serviceWorkerScope}))))throw new Error("There is no service worker at the scope specified in the config");return t=i,[3,5];case 3:return[4,navigator.serviceWorker.getRegistration()];case 4:if(!(a=s.sent()))throw new Error("There is no service worker registered - you need to have one in order to use notifications.");t=a,s.label=5;case 5:return[4,t.pushManager.getSubscription()];case 6:if(u=s.sent())return[2,u];if(0==(c="granted"===Notification.permission)&&r)throw new m("Permission for notifications not granted, and can't ask inside a worker");return!1===c&&!1===e?[2,void 0]:!1!==c?[3,8]:[4,Notification.requestPermission()];case 7:if("granted"!==s.sent())throw new b;s.label=8;case 8:return[4,fetch(n.host+"/vapid-key",{headers:{authorization:n.key}})];case 9:if(!(l=s.sent()).ok)throw new Error("Could not get VAPID key");return d=Uint8Array.bind,[4,l.arrayBuffer()];case 10:return f=new(d.apply(Uint8Array,[void 0,s.sent()])),[4,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:f})];case 11:return[2,s.sent()]}}))}))}(e)];case 1:if(!(r=d.sent()))throw new Error("No push payload available");return o=r.endpoint,[4,g()];case 2:return[4,k(u=d.sent(),["firebase-tokens"],"readonly",(function(e){return y(e.objectStore("firebase-tokens").index("endpoint").get(o))}))];case 3:if(c=d.sent())return u.close(),[2,c.token];if(!1===t)throw new Error("No locally cached token available");return[4,a("/registrations","POST",{subscription:r.toJSON()})];case 4:return l=d.sent().id,[4,k(u,["firebase-tokens"],"readwrite",(function(e){return i(f,void 0,void 0,(function(){return s(this,(function(t){switch(t.label){case 0:return[4,y(e.objectStore("firebase-tokens").add({pushkinHost:n.host,endpoint:o,token:l,platform:"web"}))];case 1:return t.sent(),[2]}}))}))}))];case 5:return d.sent(),u.close(),[2,l]}}))}))}function S(){return i(this,void 0,void 0,(function(){return s(this,(function(e){return[2,Notification.requestPermission()]}))}))}function O(t,n){return"undefined"!=typeof document&&document.documentElement.classList.contains("Hybrid")&&document.documentElement.classList.contains("ANDROID")||t.indexOf("nyt_android/")>-1?e.Platform.AndroidApp:t.indexOf("nytios/")>-1?e.Platform.iOSApp:"PushManager"in n&&"Notification"in n?e.Platform.WebSupportsPush:e.Platform.WebNoPushSupport}function x(){return i(this,void 0,void 0,(function(){var e;return s(this,(function(t){return(e=localStorage.getItem("OVERRIDE_FCM_TOKEN_KEY"))?[2,e]:[2,new Promise((function(e,t){var n=window.config&&window.config.userInfo&&window.config.userInfo.pushToken;n?e(n):t("Device has no push token")}))]}))}))}function C(t,r){return i(this,void 0,void 0,(function(){return s(this,(function(o){if(e.devicePlatform===e.Platform.iOSApp)return[2,function(e,t){return i(this,void 0,void 0,(function(){var r,o,i;return s(this,(function(s){switch(s.label){case 0:try{if(r=window.localStorage.getItem(p()))return[2,r]}catch(e){console.warn("Failed when checking for cached Firebase ID",e)}if(!1===t)throw new Error("No locally cached token available");return[4,d(e)];case 1:if(!(o=s.sent()))throw new Error("Device has no push token. Run this function with requestPermissionIfRequired to show permission modal.");return[4,a("/registrations","POST",{subscription:{sandbox:n.ios.sandbox,device_id:o,bundle_name:n.ios.bundleName,platform:"iOS"}})];case 2:i=s.sent();try{window.localStorage.setItem(p(),i.id)}catch(e){console.warn("Could not cache Firebase ID",e)}return[2,i.id]}}))}))}(t,r)];if(e.devicePlatform===e.Platform.AndroidApp)return[2,x()];if(e.devicePlatform===e.Platform.WebSupportsPush)return[2,P(t,r)];throw new w}))}))}(h=e.Platform||(e.Platform={})).iOSApp="iOSApp",h.AndroidApp="AndroidApp",h.WebSupportsPush="WebSupportsPush",h.WebNoPushSupport="WebNoPushSupport",h.Unknown="Unknown",e.devicePlatform=e.Platform.Unknown,"undefined"!=typeof self&&"navigator"in self&&(e.devicePlatform=O(navigator.userAgent,self));var E=e.devicePlatform!==e.Platform.WebNoPushSupport&&e.devicePlatform!==e.Platform.Unknown,N=e.devicePlatform===e.Platform.WebSupportsPush,j=Promise.resolve().then((function(){return e.devicePlatform===e.Platform.iOSApp?function(){return i(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return u.request=v,console.info("PUSH: Setting visibilitychange listener to pick up on new push tokens"),sessionStorage.getItem("pushkin-already-loaded")?l=!1:(l=!0,sessionStorage.setItem("pushkin-already-loaded","true")),window.addEventListener("visibilitychange",(function(){return i(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return"hidden"===document.visibilityState?[2]:(console.info("PUSH: received visibilitychange event, checking for push token"),[4,f()]);case 1:return e.sent(),[2]}}))}))})),[4,f()];case 1:return e.sent(),[2]}}))}))}():e.devicePlatform===e.Platform.WebSupportsPush?function(){return i(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return u.request=S,"permissions"in navigator?[4,navigator.permissions.query({name:"notifications"})]:[3,2];case 1:return e.sent().onchange=function(e){u.state=e.target.state},[3,3];case 2:"Notification"in window&&"permission"in Notification&&self.addEventListener("pagevisibility",(function(){"visible"===document.visibilityState&&(u.state=Notification.permission)})),e.label=3;case 3:return u.state=Notification.permission,[2]}}))}))}():void 0}));e.supportsNotifications=E,e.requiresServiceWorker=N,e.ready=j,e.setConfiguration=function(e){if(!e.key||!e.host||!e.ios)throw new Error("Must specify host, key and ios fields to configure Pushkin");t=e},e.clearCachedData=function(){return i(this,void 0,void 0,(function(){var t;return s(this,(function(n){switch(n.label){case 0:return(t=O(navigator.userAgent,window))!==e.Platform.iOSApp?[3,2]:[4,function(){return i(this,void 0,void 0,(function(){return s(this,(function(e){try{window.localStorage.removeItem(p())}catch(e){console.warn("Failed to clear cached data",e)}return[2]}))}))}()];case 1:return[2,n.sent()];case 2:return t!==e.Platform.AndroidApp?[3,3]:[3,5];case 3:return t!==e.Platform.WebSupportsPush?[3,5]:[4,function(){return i(this,void 0,void 0,(function(){var e,t,n,r=this;return s(this,(function(o){switch(o.label){case 0:return o.trys.push([0,6,,7]),[4,navigator.serviceWorker.ready];case 1:return[4,o.sent().pushManager.getSubscription()];case 2:return(e=o.sent())?[4,g()]:[3,5];case 3:return[4,k(t=o.sent(),["firebase-tokens"],"readwrite",(function(t){return i(r,void 0,void 0,(function(){var n,r;return s(this,(function(o){switch(o.label){case 0:return[4,y((n=t.objectStore("firebase-tokens")).index("endpoint").getKey(e.endpoint))];case 1:return(r=o.sent())?[4,y(n.delete(r))]:[3,3];case 2:o.sent(),o.label=3;case 3:return[2]}}))}))}))];case 4:o.sent(),t.close(),o.label=5;case 5:return[3,7];case 6:return n=o.sent(),console.warn("Failed to clear cached data",n),[3,7];case 7:return[2]}}))}))}()];case 4:return[2,n.sent()];case 5:return[2]}}))}))},e.getFirebaseToken=C,e.areNotificationsEnabled=function(){return i(this,void 0,void 0,(function(){return s(this,(function(t){if(e.devicePlatform===e.Platform.iOSApp)return[2,function(){return i(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return[4,d(!1)];case 1:return[2,!!e.sent()]}}))}))}()];if(e.devicePlatform===e.Platform.AndroidApp)return[2,function(){return i(this,void 0,void 0,(function(){return s(this,(function(e){return[2,Promise.resolve(!0)]}))}))}()];if(e.devicePlatform===e.Platform.WebSupportsPush)return[2,function(){return i(this,void 0,void 0,(function(){return s(this,(function(e){return[2,Promise.resolve("granted"===Notification.permission)]}))}))}()];throw new w}))}))},e.subscribeToTopic=function(t,r){return i(this,void 0,void 0,(function(){var o,u;return s(this,(function(c){switch(c.label){case 0:return(o=O(navigator.userAgent,self))!==e.Platform.iOSApp&&o!==e.Platform.AndroidApp||!n.subscribeCloudFunctionURL?[4,C(!0,!0)]:[2,function(t,r){return i(this,void 0,void 0,(function(){var o,i,a;return s(this,(function(s){switch(s.label){case 0:if(!n.subscribeCloudFunctionURL)throw new Error("No cloud function");return[4,C(!0,!0)];case 1:if(!(o=s.sent()))throw new Error("Could not get Firebase token");return[4,fetch(n.subscribeCloudFunctionURL,{method:"POST",body:JSON.stringify({id:o,topics:[t],platform:r===e.Platform.iOSApp?"ios":"android"})})];case 2:return[4,(i=s.sent()).json()];case 3:if(a=s.sent(),!1===i.ok)throw new Error(a.error);return[2,a]}}))}))}(t,o)];case 1:if(!(u=c.sent()))throw new Error("Could not get Firebase token");return[4,a("/topics/"+t+"/subscribers/"+u,"POST",{confirmation:r})];case 2:return[2,c.sent()]}}))}))},e.unsubscribeFromTopic=function(e,t){return i(this,void 0,void 0,(function(){var n;return s(this,(function(r){switch(r.label){case 0:return[4,C(!1,!0)];case 1:return(n=r.sent())?[4,a("/topics/"+e+"/subscribers/"+n,"DELETE",{confirmation:t})]:(console.log("no token"),[2,{success:!0}]);case 2:return[2,r.sent()]}}))}))},e.getSubscribedTopics=function(){return i(this,void 0,void 0,(function(){return s(this,(function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),[4,C(!1,!1)];case 1:return[4,a("/registrations/"+e.sent()+"/topics/")];case 2:return[2,e.sent()];case 3:return e.sent(),[2,[]];case 4:return[2]}}))}))},e.PermissionState=u,Object.defineProperty(e,"__esModule",{value:!0})}(t)},ZMEQ:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.tooltipContentWrapperClass=t.tooltipContentClass=t.tooltipClass=t.closeIconClass=t.closeIconButtonClass=t.arrowTopPositionClass=void 0;var o=n("Lcdh"),i=n("hAwj"),s=r(n("jVmh")),a=(0,o.css)("position:absolute;width:104%;right:0%;max-width:339px;background-color:",i.color.background.elevated,";border:0.5px solid ",i.color.stroke.quaternary,";border-radius:4px;font-family:",s.default.font.franklinBase,";font-size:",s.default.font.size(14),";line-height:",s.default.font.size(16),";color:",i.color.content.primary,";box-sizing:border-box;bottom:78px;z-index:199;text-align:left;filter:drop-shadow(0 1px 6px rgba(0,0,0,0.2));&::after{position:absolute;width:16px;height:16px;right:5%;bottom:-8px;background:",i.color.background.elevated,";border-left:0.5px solid ",i.color.stroke.quaternary,";border-top:0.5px solid ",i.color.stroke.quaternary,";border-radius:1px;transform:rotate(-135deg);content:' ';}");t.tooltipClass=a;var u=(0,o.css)("font-size:",s.default.font.size(16),";line-height:",s.default.font.size(22),";font-family:",s.default.font.franklinBase,";margin:24px 0 24px 24px;");t.tooltipContentClass=u;var c=(0,o.css)("&::after{top:-8px;transform:rotate(135deg);}");t.arrowTopPositionClass=c;var l=(0,o.css)("display:flex;flex-direction:row;");t.tooltipContentWrapperClass=l;var f=(0,o.css)("width:60px;height:60px;flex:0 0 60px;margin-top:5px;&,&:active{background:transparent;}");t.closeIconButtonClass=f;var d=(0,o.css)("width:12px;height:12px;");t.closeIconClass=d},kFBt:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.pushSubWrapperClass=t.pushSubCtaClass=t.notificationLiveCoverageClass=t.notificationContainerClass=t.hasPostDividerClass=t.errorAlertClass=t.buttonWrapperClass=t.buttonStylesBaseClass=void 0;var o=n("Lcdh"),i=n("hAwj"),s=r(n("jVmh")),a=(0,o.css)("position:absolute;top:50%;left:50%;width:50px;height:30px;border-radius:20px;transform:translateX(-50%) translateY(-50%);cursor:pointer;overflow:hidden;&:focus{outline:none;}&:hover{box-shadow:0 0 2px var(--clr-shadow,rgba(0,0,0,0.3));}&::after{content:'';position:absolute;top:2px;width:26px;height:26px;border-radius:20px;transition:left 250ms ease-in-out;background-color:",i.light.colors.background.primary.hsla,";}&.on{background-color:",i.color.signal.accent,";&::after{left:calc(50% - 3px);}}&.off{background-color:",i.color.background.tertiary,";&::after{left:3px;box-shadow:1px 1px 3px 0 rgba(0,0,0,0.1);}}");t.buttonStylesBaseClass=a;var u=(0,o.css)("position:relative;width:50px;height:30px;");t.buttonWrapperClass=u;var c=(0,o.css)("display:flex;justify-content:space-between;padding-top:22px;align-items:center;");t.pushSubWrapperClass=c;var l=(0,o.css)("color:",i.color.content.secondary,";font-weight:",s.default.font.weight.medium,";font-size:",s.default.font.size(16),";font-family:",s.default.font.franklinBase,";");t.pushSubCtaClass=l;var f=(0,o.css)("font-weight:",s.default.font.weight.medium,";font-size:",s.default.font.size(12),";font-family:",s.default.font.franklinBase,";color:",i.color.signal.negative,";");t.errorAlertClass=f;var d=(0,o.css)("height:100%;position:relative;border-top:1px solid ",i.color.stroke.quaternary,";");t.notificationContainerClass=d;var p=(0,o.css)("border-top:none;");t.notificationLiveCoverageClass=p;var v=(0,o.css)("border-bottom:none;");t.hasPostDividerClass=v},ljQf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){try{if("undefined"==typeof navigator||/MSIE\s8\.0/.test(navigator.userAgent)||!window.localStorage)return!1;var e="nyt-test-".concat(Date.now());return window.localStorage.setItem(e,1),window.localStorage.removeItem(e),!0}catch(e){return!1}},o={getItem:function(e){try{return r()&&window.localStorage.getItem(e)}catch(e){return null}},setItem:function(e,t){if(r())try{window.localStorage.setItem(e,t)}catch(e){return null}return null},removeItem:function(e){try{return r()&&window.localStorage.removeItem(e)}catch(e){return null}}};t.default=o}}]);
//# sourceMappingURL=vendors~LiveAlertsToggle-71ad5ef25c52447a9068.js.map
List of functions to be instrumented: 50
Only instrumenting the following functions from the current script 
[rtiDebugInfo]0 0
