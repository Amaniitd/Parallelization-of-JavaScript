/home/aman/Desktop/Parallelization-of-JavaScript/horcrux-instrumentation-rewriter/node_modules/falafel/index.js
Options are {"useProxy":true,"caching":false,"include_prefix":false,"path":"atic/chunks/us_cart_index-page.da0efb7b4cfc57df.js","origPath":"/dfw/63fd9f59-d6bf/49c2ec22-3192-4487-b5a6-ea6a3f7eb24b/v2/en-US/_next/static/chunks/us_cart_index-page.da0efb7b4cfc57df.js","e2eTesting":false,"pageLoaded":"true;","invocation_limit":"5000000;","pattern":"cg","proxyName":"window"}
{
  useProxy: true,
  caching: false,
  include_prefix: false,
  path: 'atic/chunks/us_cart_index-page.da0efb7b4cfc57df.js',
  origPath: '/dfw/63fd9f59-d6bf/49c2ec22-3192-4487-b5a6-ea6a3f7eb24b/v2/en-US/_next/static/chunks/us_cart_index-page.da0efb7b4cfc57df.js',
  e2eTesting: false,
  pageLoaded: 'true;',
  invocation_limit: '5000000;',
  pattern: 'cg',
  proxyName: 'window',
  cg: [
    'US/_next/static/chunks/webpack-4d33f682e4bee2c8.js-function-1-1-1-72748',
    '/chunks/ads_ui_btf_ads-btf-cmp.2160c073080b3946.js-function-1-1-1-47909',
    'lib_utils_listenForPostMessage.26819f6fde1c8129.js-function-1-1-1-32818',
    'ks/ads_core_hooks_use-load-ivt-8777800673e02d96.js-function-1-1-1-18993',
    'ore_components_feature-wrapper-fc02aab9149a9f60.js-function-1-1-1-21499',
    'uction_20221221T182841134Z-en-US/_buildManifest.js-function-1-1-1-28166',
    '/_next/static/chunks/framework-a29671b22cd7f2e1.js-function-1-1-1-143926',
    'nks/ads_provider_utils_ad-util-42ce30f24acc6b2f.js-function-1-1-1-24046',
    '/akam/13/2ca6b89e-function-2-7949-2-7999',
    '/px/PXu6b0qd2S/init.js-function-2-9269-2-9296',
    'obal-nav_footer_cookie-checker.65075abf78263646.js-function-1-1-1-1160',
    'www.walmart.com/-script-38-function-1-118965-1-120085',
    'www.walmart.com/-script-0-function-1-2148-1-2597',
    '/akam/13/2ca6b89e-function-2-1069-2-1180',
    'tic/chunks/ads_core_fire-pixel.ea8353e924c1991d.js-function-1-1-1-1756',
    '/px/PXu6b0qd2S/init.js-function-2-28803-2-28960',
    '/ui_hero-pov_components_mobile.da9296253cdf83ca.js-function-1-1-1-8183',
    '_hooks_use-is-tracking-enabled-ce90d61f45ce12ec.js-function-1-1-1-10025',
    '/px/PXu6b0qd2S/init.js-function-2-29251-2-29276',
    '/sw-register.js-function-1-4002-1-7330',
    's/ads_ui_btf_brand-box-wrapper-bed633793cb36fb9.js-function-1-1-1-18117',
    '/akam/13/2ca6b89e-function-1-1-2-12431',
    'www.walmart.com/-script-38-function-1-120096-1-120540',
    'd-components_CardV2_CardItemV2-65914919627f78d0.js-function-1-1-1-12455',
    '/a14/capabilities.min.js-function-1-3348-1-3372',
    'tatic/chunks/ui_calloutWrapper.b8230e018592ed29.js-function-1-1-1-306',
    '_next/static/chunks/ads_ui_btf.bcb1b5b0ba50a251.js-function-1-1-1-11984',
    'www.walmart.com/-script-0-function-1-1612-1-3258',
    '/sw-register.js-function-1-1-1-7496',
    '_next/static/chunks/pages/_app-2e66789b1f4731dd.js-function-1-1-1-588775',
    '.2_node_modules_debounce_index-2405d2e97fffdb3f.js-function-1-1-1-8308',
    'next/static/chunks/pages/index-a9f433b0d1cd67f7.js-function-1-1-1-69826',
    '/akam/13/2ca6b89e-function-2-8070-2-8103',
    '/a14/capabilities.min.js-function-1-3840-1-3863',
    '/akam/13/2ca6b89e-function-2-7820-2-7940',
    'oduction_20221221T182841134Z-en-US/_ssgManifest.js-function-1-1-1-132',
    '/px/PXu6b0qd2S/init.js-function-2-1-8-15589',
    'ds_core_components_lazy-render.bcc6f21aca8e3799.js-function-1-1-1-10609',
    '/a14/capabilities.min.js-function-1-3101-1-3136',
    'ntity-stepper_quantity-stepper-b714a82a52f5b22a.js-function-1-1-1-7805',
    '/a14/capabilities.min.js-function-1-1-1-4862',
    '/px/PXu6b0qd2S/init.js-function-8-14206-8-14678',
    'www.walmart.com/-script-0-function-1-2597-1-3025',
    'ads_core_hooks_get-ads-context-8737b2adfa67fccf.js-function-1-1-1-39747',
    '=beacon.walmart.com&bh=beacon.lightest.walmart.com-function-1-2-1-2601',
    'l-scroller_horizontal-scroller-43bc1937d6d7c3f7.js-function-1-1-1-18043',
    '/akam/13/2ca6b89e-function-2-1297-2-1371',
    '_provider_ads-context-provider-7159c3f8f216a02e.js-function-1-1-1-8243',
    '/px/PXu6b0qd2S/init.js-function-4-4876-4-4922',
    '/px/PXu6b0qd2S/init.js-function-4-4932-4-5123',
    '/sw-register.js-function-1-6564-1-6669',
    's/cart_add-to-cart_add-to-cart-8ca166d479a04434.js-function-1-1-1-14564',
    'almart_use-safeframe_lib_index-73db399cc238d48a.js-function-1-1-1-12901'
  ]
}
"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[61578],{136592:function(e,t,n){n.d(t,{Y:function(){return r}});var l=n(319661),a=n(15752),i=n(870751);const r=e=>{let{hasActionInProgress:t,setActionsInProgress:n,isGuest:r,enableLastCall:o,hasRegistryItems:s,refetch:u,setCheckoutClicked:c,enableOnXoMoveOosToSfl:d,handleSaveAllSFL:p}=e;const f=(0,i.iC)(l.T),{enablelastCallOptimizatation:g}=f.cart.values,m=(e=>{let{isGuest:t,enableLastCall:n,hasRegistryItems:l,enablelastCallOptimizatation:a,showLastCall:i}=e;return!t&&n&&!l&&(a&&!1!==i||!a)})({isGuest:r,enableLastCall:o,hasRegistryItems:s,enablelastCallOptimizatation:g,showLastCall:(0,a.kp)()});return{onClick:async()=>{if(t&&n(!0),d){const e=[];p&&e.push(p()),m&&e.push(u());(await Promise.all(e)).length&&c(!0)}else m&&await u(),c(!0)}}}},15752:function(e,t,n){n.d(t,{nU:function(){return v},C$:function(){return I},kp:function(){return h}});var l=n(870751),a=n(313350),i=n(869193),r=n(35968),o=n(855124),s=n(272374),u=n(374436),c=n(145293),d=n(442794),p=n(319661);const f={type:"query",name:"LastCallPage",query:'query LastCallPage($p13n:JSON $tenant:String! $pageType:String!){contentLayout( channel:"WWW" pageType:$pageType tenant:$tenant version:"v1" ){modules(p13n:$p13n tempo:{}){name type version status schedule{start end priority expEnabled}configs{__typename...on EnricherModuleConfigsV1{zoneV1}...on TempoWM_GLASSWWWProductGridConfigsV1{type title displayMode tileOptions{productTitle productPrice fulfillmentBadging averageRatings mediaRatings productFlags productLabels addToCart displayStandardPrice displayWasPrice displayAveragePriceCondition displayPricePerUnit}spBeaconInfo{adUuid moduleInfo pageViewUUID placement max}productGridResponse{products{id sellerId hasSellerBadge canonicalUrl...LastCallProductFragment}}}...on TempoWM_GLASSWWWItemCarouselConfigsV1{title subTitle tileOptions{productTitle}type products{...LastCallProductFragment}spBeaconInfo{adUuid moduleInfo pageViewUUID placement max}minItems manualShelfId viewAllLink{clickThrough{rawValue tag type value}linkText title}}...on TempoWM_GLASSWWWLastCallTitlePlaceholderConfigsV1{titleText{text isBold textColor isUnderlined underlinedColor}}...on TempoWM_GLASSWWWTopupProgressBarPlaceholderConfigsV1{titleText{text isBold textColor isUnderlined underlinedColor}}}publishedDate moduleId module_id matchedTrigger{pageType pageId zone inheritable}}layouts{id layout}}}fragment LastCallProductFragment on Product{usItemId offerId name averageRating availabilityStatus salesUnit orderLimit orderMinLimit weightIncrement weightUnit showAtc showOptions canonicalUrl imageInfo{thumbnailUrl}badges{flags{...on BaseBadge{key text type}}labels{key text}tags{key text}}priceInfo{priceDisplayCodes{finalCostByWeight priceDisplayCondition}currentPrice{price priceString priceDisplay}wasPrice{priceString}priceRange{priceString}unitPrice{priceString}}p13nDataV1{labels{PREVIOUSLY_PURCHASED{text}}}sponsoredProduct{spQs clickBeacon spTags}}',hash:"1f963c68857f4c809314b7fe2c19c26e20e7749f5e6450c6298b157459a57115"};var g=n(325251),m=n(184567),y=n(390794),C=n(128094);const h=()=>{var e;const t=(0,r.Zq)().getQueryData("smart-nudges");return null==t||null==(e=t.data.contentLayout)?void 0:e.showLastCall},I=()=>{var e;const t=h(),{enableLastCall:n,enableLastCallNonRoutine:a,enablelastCallOptimizatation:i}=(0,l.iC)(p.T).cart.values,{router:r}=(0,s.t)(),o=(0,y.wh)(),u=(0,g.I)(o),c=null==(e=r.query)?void 0:e.ffGroup;return(i&&!1!==t||!i)&&n&&(0,m.f)(c,a)&&!r.query.isAddressFlow&&!u},v=(e,t)=>{const n=(0,y.wh)(),m=(0,g.I)(n),h=(e=>{var t,n,a,r,o,c,f;const g=(0,y.wh)(),{isMobile:m}=(0,i.vP)(),h=(0,y.Co)(),I=null==(t=(0,C.xu)())||null==(n=t.subTotal)?void 0:n.value,v=null==(a=(0,C.xu)())||null==(r=a.minimumThreshold)?void 0:r.value,S=(0,d.ej)("bstc"),T=Object.assign({},...g.map((e=>({[e.id]:e})))),{router:w}=(0,s.t)(),b=(0,l.iC)(p.T),L=null==b||null==(o=b.cart)||null==(c=o.values)?void 0:c.enableLastCallNonRoutine,P=[],W=null!=h&&h.intent?null==h?void 0:h.intent:"";null!=h&&h.fulfillmentItemGroups&&h.fulfillmentItemGroups.forEach((e=>e.collapsedItemIds.forEach((t=>{if(T[t]){var n;const l=T[t],a=null==(n=l.fulfillmentSourcingDetails)?void 0:n.currentSelection;P.push({id:l.product.usItemId,qty:l.quantity,price:l.product.price,fulfillmentGroup:e.__typename,timestamp:Date.parse(l.createdDateTime),...L&&{fulfillmentType:a},...!L&&{fulfillmentIntent:W}})}}))));const k=(0,u.Pi)("lastCallLastVisitedTimestamp"),G={checkoutBasket:e||(null==(f=w.query)?void 0:f.ffGroup),cartIntent:W};return{userReqInfo:{preferredStoreId:null==h?void 0:h.storeId,lastVisitedTimestamp:k?parseFloat(k):void 0,...L&&{bstc:S},cartContext:{freeShippingThreshold:v,cartTotal:I,items:P,...L&&G}},userClientInfo:{deviceType:m?"mobile":"desktop",callType:"CLIENT"}}})(t),I=((e,t)=>{let{p13n:n}=t;return{queryKey:["last-call"],queryFn:()=>{var t,l,i,r;const o=(null==(t=(0,a.B)().publicRuntimeConfig)?void 0:t.tenant)||"WM_GLASS",s=(null==(l=(0,c.default)())||null==(i=l.publicRuntimeConfig)||null==(r=i.tempoPageTypes)?void 0:r.lastCallPageType)||"LastCallPage";return e.getGqlFetch()(f,{p13n:n,pageType:s,tenant:o})}}})((0,o.Z)(),{p13n:h});return(0,r.aM)({...I,config:{refetchOnWindowFocus:!1,staleTime:1/0,enabled:e&&!m}})}},325251:function(e,t,n){n.d(t,{I:function(){return l}});const l=e=>e.some((e=>Boolean(e.registryInfo)))},184567:function(e,t,n){n.d(t,{f:function(){return l}});const l=(e,t)=>!e||"SCGroup"===e||!!t&&["FCGroup","Unscheduled"].includes(e)},374436:function(e,t,n){n.d(t,{L_:function(){return i},Pi:function(){return r},Xs:function(){return a},l7:function(){return o}});var l=n(546682);const a=e=>({setValue:t=>{try{return window.top.sessionStorage.setItem(e,JSON.stringify(t)),!0}catch(n){return!1}},getValue:()=>{let t=null;try{return t=window.top.sessionStorage.getItem(e),t?JSON.parse(t):null}catch(n){return null}}}),i=e=>{try{return window.top.sessionStorage.removeItem(e),!0}catch(t){return!1}},r=e=>{if(!window.sessionStorage)return null;try{return window.sessionStorage.getItem(e)}catch(t){return(0,l.cM)(["error","platform","session-storage","safeGetSessionStorageItem"],t),null}},o=(e,t)=>window.sessionStorage&&window.sessionStorage.setItem(e,t)},276327:function(e,t,n){n.r(t),n.d(t,{default:function(){return l.Z}});var l=n(74502)},74502:function(e,t,n){var l=n(136592),a=n(213638),i=n(330567);t.Z=e=>(0,i.jsx)(a.e,{...e,cartConfig:{useContinueCheckoutHandler:l.Y}})}}]);
List of functions to be instrumented: 53
Only instrumenting the following functions from the current script 0
[rtiDebugInfo]0 0
