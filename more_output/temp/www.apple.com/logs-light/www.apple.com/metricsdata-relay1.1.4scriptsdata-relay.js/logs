/home/eone/Downloads/horcrux-osdi21/horcrux-instrumentation-rewriter/node_modules/falafel/index.js
/home/eone/Downloads/horcrux-osdi21/horcrux-instrumentation-rewriter/node_modules/falafel/index.js
Options are {"useProxy":true,"caching":false,"include_prefix":false,"path":"/metrics/data-relay/1.1.4/scripts/data-relay.js","origPath":"/metrics/data-relay/1.1.4/scripts/data-relay.js","e2eTesting":false,"pageLoaded":"true;","invocation_limit":"5000000;","pattern":"cg","proxyName":"window"}
{ useProxy: true,
  caching: false,
  include_prefix: false,
  path: '/metrics/data-relay/1.1.4/scripts/data-relay.js',
  origPath: '/metrics/data-relay/1.1.4/scripts/data-relay.js',
  e2eTesting: false,
  pageLoaded: 'true;',
  invocation_limit: '5000000;',
  pattern: 'cg',
  proxyName: 'window' }
function source is  function(e){return e.splice(Math.floor(Math.random()*e.length),1)}
function source is  function(){function e(t){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-3631-1-3717",false);
window._classCallCheck(this,e),this._isSupported()&&this._initialize(t)
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-3631-1-3717",true);
 }}return window._createClass(e,[{key:"_isSupported",value:function(){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-3773-1-4019",false);
if(!(window&&window.document&&window.document.documentElement&&Array.prototype.includes))return!1;try{var e=new window.URL("x","http://w");return e.pathname="y%20z","http://w/y%20z"===e.href&&void 0!==e.searchParams}catch(e){return!1}
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-3773-1-4019",true);
 }}},{key:"_initialize",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-4046-1-4318",false);
if(this.options=o.options,this.properties=o.properties,this.passiveTracking=o.passiveTracking,this.analytics=a,this._applyConfigurations(e),this.options.automaticMode){var t=this.getRidFromUrl(window.location.href);this.storeRid(t),this._setupEventHandlers()}
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-4046-1-4318",true);
 }}},{key:"_applyConfigurations",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-4354-1-4489",false);
var t=this;if(e){var r=Object.keys(o);Object.keys(e).forEach(function(a){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-4427-1-4486",false);
r.includes(a)&&(t[a]=Object.assign(t[a],e[a]))
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-4427-1-4486",true);
 }})}
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-4354-1-4489",true);
 }}},{key:"_setupEventHandlers",value:function(){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-4524-1-4683",false);
this._handleClick=this._handleClick.bind(this),window.document.documentElement.addEventListener(this.properties.interactionEvent,this._handleClick)
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-4524-1-4683",true);
 }}},{key:"_handleClick",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-4711-1-5226",false);
var t=this._ancestor(e.target,"".concat(this.properties.ridRelaySelector,", ").concat(this.properties.ridStoreSelector));i("Data Relay - click occurred - looking for ancestor that has data-rid-relay or data-rid-store"),t&&(t.getAttribute(this.properties.ridRelayAttribute)?(i("Data Relay - an element with data-rid-relay was clicked"),this._handleRidRelay(e,t)):t.getAttribute(this.properties.ridStoreAttribute)&&(i("Data Relay - an element with data-rid-store was clicked"),this._handleRidStore(e,t)))
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-4711-1-5226",true);
 }}},{key:"storeRid",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-5250-1-5864",false);
if(e){var t=this.getRidFromCookie();t?(i("Data Relay - cookie was already there, combining the new data with the current cookie data"),i("Data Relay - current data stored in cookie",t),i("Data Relay - the rid that is currently in the URL that is overwriting the current rid",e),i("Data Relay - the combined value of the old and new rid data"),this.writeCookieFromObj(this._prepareCookieData(e,t))):(i("Data Relay - cookie was not already there - just created now"),i('Data Relay - wrote the following string to the cookie:"',JSON.stringify(e)+'"'),this.writeCookieFromObj(this._prepareCookieData(e)))}
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-5250-1-5864",true);
 }}},{key:"_prepareCookieData",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-5898-1-6267",false);
var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._deleteInvalidValues(e);var r=Object.assign({},t,e),a=Object.keys(r),i=a.length-this.properties.cookieMaxKeyLength;if(i<=0)return r;for(var o=Object.keys(e),n=a.filter(function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-6147-1-6180",false);
return!o.includes(e)
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-6147-1-6180",true);
 }});i>0;){var s=void 0;s=n.length?n:o,delete r[this._getRandomArrayItem(s)],i--}return r
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-5898-1-6267",true);
 }}},{key:"writeCookieFromObj",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-6301-1-6651",false);
var t="";return this.options.useSecureCookie&&(t=" secure;"),!this.options.trackCid&&e.cid&&delete e.cid,this._deleteInvalidValues(e),!this._isEmpty(e)&&(!!(e=this._formatCookieData(e))&&(window.document.cookie="".concat(this.properties.cookieName,"=").concat(e,"; path=/; domain=").concat(this.properties.cookieDomain,";").concat(t),e))
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-6301-1-6651",true);
 }}},{key:"_formatCookieData",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-6684-1-6827",false);
return e?this.options.useJsonStorageFormat?window.encodeURIComponent(JSON.stringify(e)):this._createSimpleFormatCookieData(e):null
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-6684-1-6827",true);
 }}},{key:"_createSimpleFormatCookieData",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-6872-1-7188",false);
var t=this,r="";return Object.keys(e).forEach(function(a){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-6930-1-7087",false);
r+="".concat(a).concat(t.properties.cookieValueEntrySeparator).concat(window.encodeURIComponent(e[a])).concat(t.properties.cookieValueSeparator)
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-6930-1-7087",true);
 }}),r=r.substring(0,r.length-this.properties.cookieValueSeparator.length),window.encodeURIComponent(r)
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-6872-1-7188",true);
 }}},{key:"_handleRidRelay",value:function(e,t){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-7219-1-7569",false);
var r=this.getRidMappingFromEl(t);if(r){var a,o=this.getRidFromCookie();o?a=this.relayDataToElement(t,r,o):i("Data Relay - no cookie data applied, there was no data stored in the cookie"),a||(a=this.getTrackingDataForEl(t,r)),a&&this._trackAnalyticsData(t,a,r,e)}else i("Data Relay - no action taken, there was no proper data mapping")
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-7219-1-7569",true);
 }}},{key:"_handleRidStore",value:function(e,t){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-7600-1-7834",false);
var r=this.getRidStorageDataFromEl(t);r?(i("Data Relay - rid storage data found in element - attempting to store"),this.storeRid(r)):i("Data Relay - no action taken, there was no proper data in the rid store attribute")
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-7600-1-7834",true);
 }}},{key:"_trackAnalyticsData",value:function(e,t,r,a){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-7869-1-8557",false);
if(i("Data Relay - analytics tracking - "+this.properties.trackingProperty+' should be tracked with the value "',t+'"'),this.analytics){var o=this._createTrackingData(e,t,r);if(e.getAttribute("data-analytics-click")||e.hasAttribute("data-analytics-exit-link")||this.properties.customAnalyticsAttribute&&e.hasAttribute(this.properties.customAnalyticsAttribute))return delete o.title,void this.analytics.passiveTracker(o,this.passiveTracking);this.options.canDeferNavigation&&"A"===e.tagName&&!this._isIntraPageLink(e)&&(a.preventDefault(),this.timeout=window.setTimeout(function(){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-8456-1-8490",false);
window.location=e.href
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-8456-1-8490",true);
 }},this.properties.deferNavigationTimeout)),this.analytics.track(o)}
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-7869-1-8557",true);
 }}},{key:"_createTrackingData",value:function(e,t,r){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-8592-1-8877",false);
var a={};e&&e.hasAttribute("data-rid-options")&&(a=JSON.parse(e.getAttribute("data-rid-options")));var i=this._buildEventsString(r,a),o={title:a.analyticsTitle||this.properties.analyticsTitle,events:i};return o[a.trackingProperty||this.properties.trackingProperty]=t,o
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-8592-1-8877",true);
 }}},{key:"_buildEventsString",value:function(e,t){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-8911-1-9125",false);
var r="";return Object.keys(e).forEach(function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-8964-1-9095",false);
t&&t.eventTracking&&t.eventTracking[e]?r+="event".concat(t.eventTracking[e],","):"cid"!==e&&(r+="event".concat(e,","))
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-8964-1-9095",true);
 }}),r=r.substring(0,r.length-1)
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-8911-1-9125",true);
 }}},{key:"getTrackingDataForEl",value:function(e,t){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-9161-1-10185",false);
var r,a=this,o=[];e.href?r="href":e.getAttribute(this.properties.relayButtonUrlAttribute)&&(r=this.properties.relayButtonUrlAttribute);var n=Object.keys(t),s=e.getAttribute(r),l=this.getQueryString(this._formatUrl(s).url);return n.forEach(function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-9414-1-9979",false);
var r=[];if("string"==typeof t[e]&&(t[e]=[t[e]]),t[e].forEach(function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-9488-1-9705",false);
var t=l[e];if(t&&a.properties.valueAllowedCharacters.test(t)){if(e===a.properties.cidQueryParam&&null!==t){if(!a.options.trackCid)return;t="".concat(a.properties.cidQueryParam,"-").concat(t)}t&&r.push(t)}
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-9488-1-9705",true);
 }}),r.length<1)i("Data Relay - there was no data available in the elements url that corresponds to the rid to query param mapping, so this data will not be tracked on "+a.properties.trackingProperty);else{var n=new window.Set(r);Array.from(n).forEach(function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-9954-1-9976",false);
o.push(e)
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-9954-1-9976",true);
 }})}
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-9414-1-9979",true);
 }}),i('Data Relay - built the data for a link that had no data relayed to it, the current value of "'+o+'" will be tracked on '+this.properties.trackingProperty),o.join(this.properties.trackingDataSeparator)
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-9161-1-10185",true);
 }}},{key:"relayDataToElement",value:function(e,t,r){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-10219-1-11074",false);
var a=this,o=[],n=[];e.href&&o.push("href"),e.getAttribute(this.properties.relayButtonUrlAttribute)&&o.push(this.properties.relayButtonUrlAttribute);var s=Object.keys(t);return o.forEach(function(o){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-10422-1-11026",false);
var l=a._formatUrl(e.getAttribute(o)),c=new window.URL(l.url);s.forEach(function(s){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-10506-1-11024",false);
if(s+""in r){if(s===a.properties.cidQueryParam){if(!a.options.trackCid)return;n.push("".concat(s,"-").concat(r[s]))}else n.push(r[s]);"string"==typeof t[s]&&(t[s]=[t[s]]),t[s].forEach(function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-10702-1-10741",false);
c.searchParams.set(e,r[s])
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-10702-1-10741",true);
 }});var u=c.toString();l.relative&&(u=u.replace(a.properties.urlFormatHostName,l.original)),e.setAttribute(o,window.decodeURIComponent(u)),i('Data Relay - the data-url of the element had the query string named "'+t[s]+'" and the value of it was replaced with '+r[s]+' rid - "'+s+'"')}
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-10506-1-11024",true);
 }})
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-10422-1-11026",true);
 }}),n.join(this.properties.trackingDataSeparator)
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-10219-1-11074",true);
 }}},{key:"getRidFromCookie",value:function(){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-11106-1-11340",false);
var e=this,t=window.document.cookie,r=(t=t.split("; ")).find(function(t){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-11178-1-11236",false);
return 0===t.indexOf(e.properties.cookieName)
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-11178-1-11236",true);
 }});return r?(r=this._readCookie(r.split("=")[1]),this._deleteInvalidValues(r),!this._isEmpty(r)&&r):null
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-11106-1-11340",true);
 }}},{key:"_readCookie",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-11367-1-11498",false);
return e?this.options.useJsonStorageFormat?JSON.parse(window.decodeURIComponent(e)):this._readSimpleFormatCookie(e):{}
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-11367-1-11498",true);
 }}},{key:"_readSimpleFormatCookie",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-11537-1-11805",false);
var t=this;return(e=window.decodeURIComponent(e)).split(this.properties.cookieValueSeparator).reduce(function(e,r){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-11650-1-11800",false);
var a=window._slicedToArray(r.split(t.properties.cookieValueEntrySeparator),2),i=a[0],o=a[1];return e[i]=window.decodeURIComponent(o),e
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-11650-1-11800",true);
 }},{})
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-11537-1-11805",true);
 }}},{key:"destroy",value:function(){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-11828-1-11943",false);
window.document.documentElement.removeEventListener(this.properties.interactionEvent,this._handleClick)
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-11828-1-11943",true);
 }}},{key:"getRidMappingFromEl",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-11978-1-12059",false);
return JSON.parse(e.getAttribute(this.properties.ridRelayAttribute))
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-11978-1-12059",true);
 }}},{key:"getRidStorageDataFromEl",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-12098-1-12235",false);
var t=JSON.parse(e.getAttribute(this.properties.ridStoreAttribute));return this._deleteInvalidValues(t),!this._isEmpty(t)&&t
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-12098-1-12235",true);
 }}},{key:"getRidFromUrl",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-12264-1-12540",false);
var t=this.getQueryString(e),r=t[this.properties.ridQueryParam],a={};if(r&&(a=this._parseRidStringData(r)),this.options.trackCid){var i,o=t[this.properties.cidQueryParam];o&&(i=this._parseCidStringData(o)),i&&Object.assign(a,i)}return this._isEmpty(a)&&(a=null),a
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-12264-1-12540",true);
 }}},{key:"getRelayData",value:function(e,t,r,a){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-12568-1-13529",false);
var i=this;if(!e)return null;void 0===r&&(r=!0),void 0===a&&(a=!1);var o=this.getRidFromCookie();if(!o&&!t)return null;var n=new window.Set,s=new window.Set;Array.isArray(e)||(e=[e]),Array.isArray(t)||(t=[t]),e.forEach(function(e,r){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-12805-1-13182",false);
if(!(e.length>i.properties.prefixMaxLength||!i.properties.prefixAllowedCharacters.test(e))){if(!o||void 0===o[e]||i.properties.dataMaxLength<o[e].length||!i.properties.valueAllowedCharacters.test(o[e])){if(!t[r]||i.properties.dataMaxLength<t[r].length||!i.properties.valueAllowedCharacters.test(t[r]))return;n.add(t[r])}else n.add(o[e]);s.add("event".concat(e))}
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-12805-1-13182",true);
 }}),n=this._listToString(n);var l=window._defineProperty({events:s=this._listToString(s)},this.properties.trackingProperty,n);return this.analytics&&r&&t&&l[this.properties.trackingProperty]&&l.events&&(a?this.analytics.passiveTracker(l,this.passiveTracking):(l.title=this.properties.analyticsTitle,this.analytics.track(l))),{data:n,trackingData:l}
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-12568-1-13529",true);
 }}},{key:"get",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-13548-1-13624",false);
var t=this.getRidFromCookie();return t&&void 0!==t[e]?t[e]:null
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-13548-1-13624",true);
 }}},{key:"set",value:function(e,t){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-13643-1-13760",false);
return e&&"string"==typeof e&&t&&"string"==typeof t?this.storeRid(window._defineProperty({},e,t)):null
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-13643-1-13760",true);
 }}},{key:"_listToString",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-13789-1-13887",false);
var t="";return e.forEach(function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-13827-1-13859",false);
t+="".concat(e,",")
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-13827-1-13859",true);
 }}),t.substring(0,t.length-1)
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-13789-1-13887",true);
 }}},{key:"getQueryString",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-13917-1-14075",false);
var t={};return e.substring(e.indexOf("?")+1).split("&").forEach(function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-13994-1-14071",false);
var r=window._slicedToArray(e.split("="),2),a=r[0],i=r[1];t[a]=i
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-13994-1-14071",true);
 }}),t
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-13917-1-14075",true);
 }}},{key:"_deleteInvalidValues",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-14111-1-14360",false);
var t=this;Object.keys(e).forEach(function(r){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-14157-1-14358",false);
(t.properties.dataMaxLength<e[r].length||t.properties.prefixMaxLength<r.length||!t.properties.valueAllowedCharacters.test(e[r])||!t.properties.prefixAllowedCharacters.test(r))&&delete e[r]
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-14157-1-14358",true);
 }})
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-14111-1-14360",true);
 }}},{key:"_isEmpty",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-14384-1-14429",false);
return 0===Object.keys(e).length
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-14384-1-14429",true);
 }}},{key:"_parseRidStringData",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-14464-1-14914",false);
var t,r=this;try{t=window.decodeURIComponent(e)}catch(e){i(e)}if(!t)return{};var a={};return t.split(this.properties.urlSeparator).forEach(function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-14615-1-14910",false);
var t=e.split(r.properties.ridPrefixSeparator),i=t.shift();if(i&&i.length<=r.properties.prefixMaxLength&&r.properties.prefixAllowedCharacters.test(i)){var o=t.join(r.properties.ridPrefixSeparator);o=window.encodeURIComponent(o),r.properties.valueAllowedCharacters.test(o)&&(a[i]=o)}
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-14615-1-14910",true);
 }}),a
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-14464-1-14914",true);
 }}},{key:"_formatUrl",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-14940-1-15230",false);
var t={relative:!1,original:!1,url:null};if(this.properties.absoluteUrlRegex.test(e))return t.url=e,t;var r=this.properties.parseRelativeUrlRegex.exec(e);return r.length&&r[r.length-1]?(t.relative=!0,t.original=r[1],t.url=this.properties.urlFormatHostName+r[r.length-1],t):null
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-14940-1-15230",true);
 }}},{key:"_parseCidStringData",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-15265-1-15330",false);
var t={};return t[this.properties.cidQueryParam]=e,t
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-15265-1-15330",true);
 }}},{key:"_ancestor",value:function(e,t){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-15355-1-15543",false);
if(e.matches(t))return e;for(;(e=e.parentNode)&&e.nodeType===window.Node.ELEMENT_NODE;){if(!t||e.matches(t))return e;if(e===window.document.documentElement)break}return null
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-15355-1-15543",true);
 }}},{key:"_getRandomArrayItem",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-15578-1-15644",false);
return e.splice(Math.floor(Math.random()*e.length),1)
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-15578-1-15644",true);
 }}},{key:"_isIntraPageLink",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-15676-1-15889",false);
var t=e.getAttribute("href");return!(null!==t&&"#"!==t.charAt(0)&&0!==t.indexOf("javascript:")&&0!==t.indexOf("mailto:")&&0!==t.indexOf("tel:")&&!e.hasAttribute(this.properties.internalLinkAttribute))
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-15676-1-15889",true);
 }}}]),e}
function source is  function(e,t,r){var a,i=e("@marcom/ac-console/log");try{a=e("@marcom/ac-analytics")}catch(e){i(e)}var o={properties:{absoluteUrlRegex:new RegExp("^(?:[a-z]+:)+//","i"),analyticsTitle:"data relayed",cidQueryParam:"cid",cookieDomain:".apple.com",cookieMaxKeyLength:5,cookieName:"aw_rid",cookieValueSeparator:"|",cookieValueEntrySeparator:":",customAnalyticsAttribute:"",dataMaxLength:100,deferNavigationTimeout:400,interactionEvent:"mouseup",internalLinkAttribute:"data-analytics-intrapage-link",parseRelativeUrlRegex:new RegExp("^([./]*)(.+)"),prefixAllowedCharacters:/^[A-Za-z0-9_]+$/,prefixMaxLength:3,relayButtonUrlAttribute:"data-url",ridQueryParam:"rid",ridRelayAttribute:"data-rid-relay",ridRelaySelector:"[data-rid-relay]",ridStoreAttribute:"data-rid-store",ridStoreSelector:"[data-rid-store]",ridPrefixSeparator:"-",trackingDataSeparator:"|",trackingProperty:"eVar17",urlFormatHostName:"https://apple.com/",urlSeparator:",",valueAllowedCharacters:/^[A-Za-z0-9-_%]+$/},options:{automaticMode:!0,canDeferNavigation:!0,trackCid:!1,useJsonStorageFormat:!1,useSecureCookie:!0},passiveTracking:{overwriteStorageItem:!1,overwriteStorageItemValues:!0,overwriteAppMeasurementValues:!0,overwriteAppMeasurementEvents:!0}},n=function(){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-3620-1-15895",false);
function e(t){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-3631-1-3717",false);
window._classCallCheck(this,e),this._isSupported()&&this._initialize(t)
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-3631-1-3717",true);
 }}return window._createClass(e,[{key:"_isSupported",value:function(){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-3773-1-4019",false);
if(!(window&&window.document&&window.document.documentElement&&Array.prototype.includes))return!1;try{var e=new window.URL("x","http://w");return e.pathname="y%20z","http://w/y%20z"===e.href&&void 0!==e.searchParams}catch(e){return!1}
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-3773-1-4019",true);
 }}},{key:"_initialize",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-4046-1-4318",false);
if(this.options=o.options,this.properties=o.properties,this.passiveTracking=o.passiveTracking,this.analytics=a,this._applyConfigurations(e),this.options.automaticMode){var t=this.getRidFromUrl(window.location.href);this.storeRid(t),this._setupEventHandlers()}
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-4046-1-4318",true);
 }}},{key:"_applyConfigurations",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-4354-1-4489",false);
var t=this;if(e){var r=Object.keys(o);Object.keys(e).forEach(function(a){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-4427-1-4486",false);
r.includes(a)&&(t[a]=Object.assign(t[a],e[a]))
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-4427-1-4486",true);
 }})}
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-4354-1-4489",true);
 }}},{key:"_setupEventHandlers",value:function(){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-4524-1-4683",false);
this._handleClick=this._handleClick.bind(this),window.document.documentElement.addEventListener(this.properties.interactionEvent,this._handleClick)
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-4524-1-4683",true);
 }}},{key:"_handleClick",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-4711-1-5226",false);
var t=this._ancestor(e.target,"".concat(this.properties.ridRelaySelector,", ").concat(this.properties.ridStoreSelector));i("Data Relay - click occurred - looking for ancestor that has data-rid-relay or data-rid-store"),t&&(t.getAttribute(this.properties.ridRelayAttribute)?(i("Data Relay - an element with data-rid-relay was clicked"),this._handleRidRelay(e,t)):t.getAttribute(this.properties.ridStoreAttribute)&&(i("Data Relay - an element with data-rid-store was clicked"),this._handleRidStore(e,t)))
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-4711-1-5226",true);
 }}},{key:"storeRid",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-5250-1-5864",false);
if(e){var t=this.getRidFromCookie();t?(i("Data Relay - cookie was already there, combining the new data with the current cookie data"),i("Data Relay - current data stored in cookie",t),i("Data Relay - the rid that is currently in the URL that is overwriting the current rid",e),i("Data Relay - the combined value of the old and new rid data"),this.writeCookieFromObj(this._prepareCookieData(e,t))):(i("Data Relay - cookie was not already there - just created now"),i('Data Relay - wrote the following string to the cookie:"',JSON.stringify(e)+'"'),this.writeCookieFromObj(this._prepareCookieData(e)))}
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-5250-1-5864",true);
 }}},{key:"_prepareCookieData",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-5898-1-6267",false);
var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._deleteInvalidValues(e);var r=Object.assign({},t,e),a=Object.keys(r),i=a.length-this.properties.cookieMaxKeyLength;if(i<=0)return r;for(var o=Object.keys(e),n=a.filter(function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-6147-1-6180",false);
return!o.includes(e)
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-6147-1-6180",true);
 }});i>0;){var s=void 0;s=n.length?n:o,delete r[this._getRandomArrayItem(s)],i--}return r
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-5898-1-6267",true);
 }}},{key:"writeCookieFromObj",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-6301-1-6651",false);
var t="";return this.options.useSecureCookie&&(t=" secure;"),!this.options.trackCid&&e.cid&&delete e.cid,this._deleteInvalidValues(e),!this._isEmpty(e)&&(!!(e=this._formatCookieData(e))&&(window.document.cookie="".concat(this.properties.cookieName,"=").concat(e,"; path=/; domain=").concat(this.properties.cookieDomain,";").concat(t),e))
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-6301-1-6651",true);
 }}},{key:"_formatCookieData",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-6684-1-6827",false);
return e?this.options.useJsonStorageFormat?window.encodeURIComponent(JSON.stringify(e)):this._createSimpleFormatCookieData(e):null
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-6684-1-6827",true);
 }}},{key:"_createSimpleFormatCookieData",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-6872-1-7188",false);
var t=this,r="";return Object.keys(e).forEach(function(a){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-6930-1-7087",false);
r+="".concat(a).concat(t.properties.cookieValueEntrySeparator).concat(window.encodeURIComponent(e[a])).concat(t.properties.cookieValueSeparator)
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-6930-1-7087",true);
 }}),r=r.substring(0,r.length-this.properties.cookieValueSeparator.length),window.encodeURIComponent(r)
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-6872-1-7188",true);
 }}},{key:"_handleRidRelay",value:function(e,t){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-7219-1-7569",false);
var r=this.getRidMappingFromEl(t);if(r){var a,o=this.getRidFromCookie();o?a=this.relayDataToElement(t,r,o):i("Data Relay - no cookie data applied, there was no data stored in the cookie"),a||(a=this.getTrackingDataForEl(t,r)),a&&this._trackAnalyticsData(t,a,r,e)}else i("Data Relay - no action taken, there was no proper data mapping")
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-7219-1-7569",true);
 }}},{key:"_handleRidStore",value:function(e,t){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-7600-1-7834",false);
var r=this.getRidStorageDataFromEl(t);r?(i("Data Relay - rid storage data found in element - attempting to store"),this.storeRid(r)):i("Data Relay - no action taken, there was no proper data in the rid store attribute")
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-7600-1-7834",true);
 }}},{key:"_trackAnalyticsData",value:function(e,t,r,a){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-7869-1-8557",false);
if(i("Data Relay - analytics tracking - "+this.properties.trackingProperty+' should be tracked with the value "',t+'"'),this.analytics){var o=this._createTrackingData(e,t,r);if(e.getAttribute("data-analytics-click")||e.hasAttribute("data-analytics-exit-link")||this.properties.customAnalyticsAttribute&&e.hasAttribute(this.properties.customAnalyticsAttribute))return delete o.title,void this.analytics.passiveTracker(o,this.passiveTracking);this.options.canDeferNavigation&&"A"===e.tagName&&!this._isIntraPageLink(e)&&(a.preventDefault(),this.timeout=window.setTimeout(function(){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-8456-1-8490",false);
window.location=e.href
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-8456-1-8490",true);
 }},this.properties.deferNavigationTimeout)),this.analytics.track(o)}
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-7869-1-8557",true);
 }}},{key:"_createTrackingData",value:function(e,t,r){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-8592-1-8877",false);
var a={};e&&e.hasAttribute("data-rid-options")&&(a=JSON.parse(e.getAttribute("data-rid-options")));var i=this._buildEventsString(r,a),o={title:a.analyticsTitle||this.properties.analyticsTitle,events:i};return o[a.trackingProperty||this.properties.trackingProperty]=t,o
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-8592-1-8877",true);
 }}},{key:"_buildEventsString",value:function(e,t){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-8911-1-9125",false);
var r="";return Object.keys(e).forEach(function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-8964-1-9095",false);
t&&t.eventTracking&&t.eventTracking[e]?r+="event".concat(t.eventTracking[e],","):"cid"!==e&&(r+="event".concat(e,","))
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-8964-1-9095",true);
 }}),r=r.substring(0,r.length-1)
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-8911-1-9125",true);
 }}},{key:"getTrackingDataForEl",value:function(e,t){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-9161-1-10185",false);
var r,a=this,o=[];e.href?r="href":e.getAttribute(this.properties.relayButtonUrlAttribute)&&(r=this.properties.relayButtonUrlAttribute);var n=Object.keys(t),s=e.getAttribute(r),l=this.getQueryString(this._formatUrl(s).url);return n.forEach(function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-9414-1-9979",false);
var r=[];if("string"==typeof t[e]&&(t[e]=[t[e]]),t[e].forEach(function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-9488-1-9705",false);
var t=l[e];if(t&&a.properties.valueAllowedCharacters.test(t)){if(e===a.properties.cidQueryParam&&null!==t){if(!a.options.trackCid)return;t="".concat(a.properties.cidQueryParam,"-").concat(t)}t&&r.push(t)}
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-9488-1-9705",true);
 }}),r.length<1)i("Data Relay - there was no data available in the elements url that corresponds to the rid to query param mapping, so this data will not be tracked on "+a.properties.trackingProperty);else{var n=new window.Set(r);Array.from(n).forEach(function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-9954-1-9976",false);
o.push(e)
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-9954-1-9976",true);
 }})}
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-9414-1-9979",true);
 }}),i('Data Relay - built the data for a link that had no data relayed to it, the current value of "'+o+'" will be tracked on '+this.properties.trackingProperty),o.join(this.properties.trackingDataSeparator)
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-9161-1-10185",true);
 }}},{key:"relayDataToElement",value:function(e,t,r){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-10219-1-11074",false);
var a=this,o=[],n=[];e.href&&o.push("href"),e.getAttribute(this.properties.relayButtonUrlAttribute)&&o.push(this.properties.relayButtonUrlAttribute);var s=Object.keys(t);return o.forEach(function(o){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-10422-1-11026",false);
var l=a._formatUrl(e.getAttribute(o)),c=new window.URL(l.url);s.forEach(function(s){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-10506-1-11024",false);
if(s+""in r){if(s===a.properties.cidQueryParam){if(!a.options.trackCid)return;n.push("".concat(s,"-").concat(r[s]))}else n.push(r[s]);"string"==typeof t[s]&&(t[s]=[t[s]]),t[s].forEach(function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-10702-1-10741",false);
c.searchParams.set(e,r[s])
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-10702-1-10741",true);
 }});var u=c.toString();l.relative&&(u=u.replace(a.properties.urlFormatHostName,l.original)),e.setAttribute(o,window.decodeURIComponent(u)),i('Data Relay - the data-url of the element had the query string named "'+t[s]+'" and the value of it was replaced with '+r[s]+' rid - "'+s+'"')}
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-10506-1-11024",true);
 }})
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-10422-1-11026",true);
 }}),n.join(this.properties.trackingDataSeparator)
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-10219-1-11074",true);
 }}},{key:"getRidFromCookie",value:function(){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-11106-1-11340",false);
var e=this,t=window.document.cookie,r=(t=t.split("; ")).find(function(t){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-11178-1-11236",false);
return 0===t.indexOf(e.properties.cookieName)
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-11178-1-11236",true);
 }});return r?(r=this._readCookie(r.split("=")[1]),this._deleteInvalidValues(r),!this._isEmpty(r)&&r):null
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-11106-1-11340",true);
 }}},{key:"_readCookie",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-11367-1-11498",false);
return e?this.options.useJsonStorageFormat?JSON.parse(window.decodeURIComponent(e)):this._readSimpleFormatCookie(e):{}
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-11367-1-11498",true);
 }}},{key:"_readSimpleFormatCookie",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-11537-1-11805",false);
var t=this;return(e=window.decodeURIComponent(e)).split(this.properties.cookieValueSeparator).reduce(function(e,r){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-11650-1-11800",false);
var a=window._slicedToArray(r.split(t.properties.cookieValueEntrySeparator),2),i=a[0],o=a[1];return e[i]=window.decodeURIComponent(o),e
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-11650-1-11800",true);
 }},{})
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-11537-1-11805",true);
 }}},{key:"destroy",value:function(){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-11828-1-11943",false);
window.document.documentElement.removeEventListener(this.properties.interactionEvent,this._handleClick)
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-11828-1-11943",true);
 }}},{key:"getRidMappingFromEl",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-11978-1-12059",false);
return JSON.parse(e.getAttribute(this.properties.ridRelayAttribute))
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-11978-1-12059",true);
 }}},{key:"getRidStorageDataFromEl",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-12098-1-12235",false);
var t=JSON.parse(e.getAttribute(this.properties.ridStoreAttribute));return this._deleteInvalidValues(t),!this._isEmpty(t)&&t
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-12098-1-12235",true);
 }}},{key:"getRidFromUrl",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-12264-1-12540",false);
var t=this.getQueryString(e),r=t[this.properties.ridQueryParam],a={};if(r&&(a=this._parseRidStringData(r)),this.options.trackCid){var i,o=t[this.properties.cidQueryParam];o&&(i=this._parseCidStringData(o)),i&&Object.assign(a,i)}return this._isEmpty(a)&&(a=null),a
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-12264-1-12540",true);
 }}},{key:"getRelayData",value:function(e,t,r,a){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-12568-1-13529",false);
var i=this;if(!e)return null;void 0===r&&(r=!0),void 0===a&&(a=!1);var o=this.getRidFromCookie();if(!o&&!t)return null;var n=new window.Set,s=new window.Set;Array.isArray(e)||(e=[e]),Array.isArray(t)||(t=[t]),e.forEach(function(e,r){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-12805-1-13182",false);
if(!(e.length>i.properties.prefixMaxLength||!i.properties.prefixAllowedCharacters.test(e))){if(!o||void 0===o[e]||i.properties.dataMaxLength<o[e].length||!i.properties.valueAllowedCharacters.test(o[e])){if(!t[r]||i.properties.dataMaxLength<t[r].length||!i.properties.valueAllowedCharacters.test(t[r]))return;n.add(t[r])}else n.add(o[e]);s.add("event".concat(e))}
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-12805-1-13182",true);
 }}),n=this._listToString(n);var l=window._defineProperty({events:s=this._listToString(s)},this.properties.trackingProperty,n);return this.analytics&&r&&t&&l[this.properties.trackingProperty]&&l.events&&(a?this.analytics.passiveTracker(l,this.passiveTracking):(l.title=this.properties.analyticsTitle,this.analytics.track(l))),{data:n,trackingData:l}
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-12568-1-13529",true);
 }}},{key:"get",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-13548-1-13624",false);
var t=this.getRidFromCookie();return t&&void 0!==t[e]?t[e]:null
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-13548-1-13624",true);
 }}},{key:"set",value:function(e,t){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-13643-1-13760",false);
return e&&"string"==typeof e&&t&&"string"==typeof t?this.storeRid(window._defineProperty({},e,t)):null
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-13643-1-13760",true);
 }}},{key:"_listToString",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-13789-1-13887",false);
var t="";return e.forEach(function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-13827-1-13859",false);
t+="".concat(e,",")
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-13827-1-13859",true);
 }}),t.substring(0,t.length-1)
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-13789-1-13887",true);
 }}},{key:"getQueryString",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-13917-1-14075",false);
var t={};return e.substring(e.indexOf("?")+1).split("&").forEach(function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-13994-1-14071",false);
var r=window._slicedToArray(e.split("="),2),a=r[0],i=r[1];t[a]=i
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-13994-1-14071",true);
 }}),t
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-13917-1-14075",true);
 }}},{key:"_deleteInvalidValues",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-14111-1-14360",false);
var t=this;Object.keys(e).forEach(function(r){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-14157-1-14358",false);
(t.properties.dataMaxLength<e[r].length||t.properties.prefixMaxLength<r.length||!t.properties.valueAllowedCharacters.test(e[r])||!t.properties.prefixAllowedCharacters.test(r))&&delete e[r]
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-14157-1-14358",true);
 }})
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-14111-1-14360",true);
 }}},{key:"_isEmpty",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-14384-1-14429",false);
return 0===Object.keys(e).length
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-14384-1-14429",true);
 }}},{key:"_parseRidStringData",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-14464-1-14914",false);
var t,r=this;try{t=window.decodeURIComponent(e)}catch(e){i(e)}if(!t)return{};var a={};return t.split(this.properties.urlSeparator).forEach(function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-14615-1-14910",false);
var t=e.split(r.properties.ridPrefixSeparator),i=t.shift();if(i&&i.length<=r.properties.prefixMaxLength&&r.properties.prefixAllowedCharacters.test(i)){var o=t.join(r.properties.ridPrefixSeparator);o=window.encodeURIComponent(o),r.properties.valueAllowedCharacters.test(o)&&(a[i]=o)}
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-14615-1-14910",true);
 }}),a
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-14464-1-14914",true);
 }}},{key:"_formatUrl",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-14940-1-15230",false);
var t={relative:!1,original:!1,url:null};if(this.properties.absoluteUrlRegex.test(e))return t.url=e,t;var r=this.properties.parseRelativeUrlRegex.exec(e);return r.length&&r[r.length-1]?(t.relative=!0,t.original=r[1],t.url=this.properties.urlFormatHostName+r[r.length-1],t):null
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-14940-1-15230",true);
 }}},{key:"_parseCidStringData",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-15265-1-15330",false);
var t={};return t[this.properties.cidQueryParam]=e,t
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-15265-1-15330",true);
 }}},{key:"_ancestor",value:function(e,t){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-15355-1-15543",false);
if(e.matches(t))return e;for(;(e=e.parentNode)&&e.nodeType===window.Node.ELEMENT_NODE;){if(!t||e.matches(t))return e;if(e===window.document.documentElement)break}return null
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-15355-1-15543",true);
 }}},{key:"_getRandomArrayItem",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-15578-1-15644",false);
return e.splice(Math.floor(Math.random()*e.length),1)
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-15578-1-15644",true);
 }}},{key:"_isIntraPageLink",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-15676-1-15889",false);
var t=e.getAttribute("href");return!(null!==t&&"#"!==t.charAt(0)&&0!==t.indexOf("javascript:")&&0!==t.indexOf("mailto:")&&0!==t.indexOf("tel:")&&!e.hasAttribute(this.properties.internalLinkAttribute))
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-15676-1-15889",true);
 }}}]),e
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-3620-1-15895",true);
 }}();t.exports=n}
function source is  function __HORCRUX__(){ window.require=function(){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-1413-1-1887",false);
return function e(t,r,a){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-1431-1-1886",false);
function i(n,s){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-1449-1-1790",false);
if(!r[n]){if(!t[n]){var l="function"==typeof window.require&&window.require;if(!s&&l)return l(n,!0);if(o)return o(n,!0);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}var u=r[n]={exports:{}};t[n][0].call(u.exports,function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-1712-1-1748",false);
return i(t[n][1][e]||e)
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-1712-1-1748",true);
 }},u,u.exports,e,t,r,a)}return r[n].exports
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-1449-1-1790",true);
 }}for(var o="function"==typeof window.require&&window.require,n=0;n<a.length;n++)i(a[n]);return i
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-1431-1-1886",true);
 }}
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-1413-1-1887",true);
 }}()({1:[function(e,t,r){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-1894-1-2034",false);
var a=!1,i=window||window.self;try{a=!!i.localStorage.getItem("f7c9180f-5c45-47b4-8de4-428015f096c0")}catch(e){}t.exports=a
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-1894-1-2034",true);
 }},{}],2:[function(e,t,r){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-2042-1-2274",false);
var a=e("../enabled");t.exports=function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-2090-1-2273",false);
return function(){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-2109-1-2272",false);
if(a&&"object"===window._typeof(window.console)&&"function"==typeof console[e])return console[e].apply(console,Array.prototype.slice.call(arguments,0))
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-2109-1-2272",true);
 }}
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-2090-1-2273",true);
 }}
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-2042-1-2274",true);
 }},{"../enabled":1}],3:[function(e,t,r){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-2296-1-2352",false);
t.exports=e("./internal/expose")("log")
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-2296-1-2352",true);
 }},{"./internal/expose":2}],"@marcom/data-relay":[function(e,t,r){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-2400-1-15910",false);
var a,i=e("@marcom/ac-console/log");try{a=e("@marcom/ac-analytics")}catch(e){i(e)}var o={properties:{absoluteUrlRegex:new RegExp("^(?:[a-z]+:)+//","i"),analyticsTitle:"data relayed",cidQueryParam:"cid",cookieDomain:".apple.com",cookieMaxKeyLength:5,cookieName:"aw_rid",cookieValueSeparator:"|",cookieValueEntrySeparator:":",customAnalyticsAttribute:"",dataMaxLength:100,deferNavigationTimeout:400,interactionEvent:"mouseup",internalLinkAttribute:"data-analytics-intrapage-link",parseRelativeUrlRegex:new RegExp("^([./]*)(.+)"),prefixAllowedCharacters:/^[A-Za-z0-9_]+$/,prefixMaxLength:3,relayButtonUrlAttribute:"data-url",ridQueryParam:"rid",ridRelayAttribute:"data-rid-relay",ridRelaySelector:"[data-rid-relay]",ridStoreAttribute:"data-rid-store",ridStoreSelector:"[data-rid-store]",ridPrefixSeparator:"-",trackingDataSeparator:"|",trackingProperty:"eVar17",urlFormatHostName:"https://apple.com/",urlSeparator:",",valueAllowedCharacters:/^[A-Za-z0-9-_%]+$/},options:{automaticMode:!0,canDeferNavigation:!0,trackCid:!1,useJsonStorageFormat:!1,useSecureCookie:!0},passiveTracking:{overwriteStorageItem:!1,overwriteStorageItemValues:!0,overwriteAppMeasurementValues:!0,overwriteAppMeasurementEvents:!0}},n=function(){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-3620-1-15895",false);
function e(t){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-3631-1-3717",false);
window._classCallCheck(this,e),this._isSupported()&&this._initialize(t)
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-3631-1-3717",true);
 }}return window._createClass(e,[{key:"_isSupported",value:function(){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-3773-1-4019",false);
if(!(window&&window.document&&window.document.documentElement&&Array.prototype.includes))return!1;try{var e=new window.URL("x","http://w");return e.pathname="y%20z","http://w/y%20z"===e.href&&void 0!==e.searchParams}catch(e){return!1}
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-3773-1-4019",true);
 }}},{key:"_initialize",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-4046-1-4318",false);
if(this.options=o.options,this.properties=o.properties,this.passiveTracking=o.passiveTracking,this.analytics=a,this._applyConfigurations(e),this.options.automaticMode){var t=this.getRidFromUrl(window.location.href);this.storeRid(t),this._setupEventHandlers()}
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-4046-1-4318",true);
 }}},{key:"_applyConfigurations",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-4354-1-4489",false);
var t=this;if(e){var r=Object.keys(o);Object.keys(e).forEach(function(a){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-4427-1-4486",false);
r.includes(a)&&(t[a]=Object.assign(t[a],e[a]))
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-4427-1-4486",true);
 }})}
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-4354-1-4489",true);
 }}},{key:"_setupEventHandlers",value:function(){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-4524-1-4683",false);
this._handleClick=this._handleClick.bind(this),window.document.documentElement.addEventListener(this.properties.interactionEvent,this._handleClick)
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-4524-1-4683",true);
 }}},{key:"_handleClick",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-4711-1-5226",false);
var t=this._ancestor(e.target,"".concat(this.properties.ridRelaySelector,", ").concat(this.properties.ridStoreSelector));i("Data Relay - click occurred - looking for ancestor that has data-rid-relay or data-rid-store"),t&&(t.getAttribute(this.properties.ridRelayAttribute)?(i("Data Relay - an element with data-rid-relay was clicked"),this._handleRidRelay(e,t)):t.getAttribute(this.properties.ridStoreAttribute)&&(i("Data Relay - an element with data-rid-store was clicked"),this._handleRidStore(e,t)))
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-4711-1-5226",true);
 }}},{key:"storeRid",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-5250-1-5864",false);
if(e){var t=this.getRidFromCookie();t?(i("Data Relay - cookie was already there, combining the new data with the current cookie data"),i("Data Relay - current data stored in cookie",t),i("Data Relay - the rid that is currently in the URL that is overwriting the current rid",e),i("Data Relay - the combined value of the old and new rid data"),this.writeCookieFromObj(this._prepareCookieData(e,t))):(i("Data Relay - cookie was not already there - just created now"),i('Data Relay - wrote the following string to the cookie:"',JSON.stringify(e)+'"'),this.writeCookieFromObj(this._prepareCookieData(e)))}
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-5250-1-5864",true);
 }}},{key:"_prepareCookieData",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-5898-1-6267",false);
var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._deleteInvalidValues(e);var r=Object.assign({},t,e),a=Object.keys(r),i=a.length-this.properties.cookieMaxKeyLength;if(i<=0)return r;for(var o=Object.keys(e),n=a.filter(function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-6147-1-6180",false);
return!o.includes(e)
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-6147-1-6180",true);
 }});i>0;){var s=void 0;s=n.length?n:o,delete r[this._getRandomArrayItem(s)],i--}return r
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-5898-1-6267",true);
 }}},{key:"writeCookieFromObj",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-6301-1-6651",false);
var t="";return this.options.useSecureCookie&&(t=" secure;"),!this.options.trackCid&&e.cid&&delete e.cid,this._deleteInvalidValues(e),!this._isEmpty(e)&&(!!(e=this._formatCookieData(e))&&(window.document.cookie="".concat(this.properties.cookieName,"=").concat(e,"; path=/; domain=").concat(this.properties.cookieDomain,";").concat(t),e))
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-6301-1-6651",true);
 }}},{key:"_formatCookieData",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-6684-1-6827",false);
return e?this.options.useJsonStorageFormat?window.encodeURIComponent(JSON.stringify(e)):this._createSimpleFormatCookieData(e):null
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-6684-1-6827",true);
 }}},{key:"_createSimpleFormatCookieData",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-6872-1-7188",false);
var t=this,r="";return Object.keys(e).forEach(function(a){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-6930-1-7087",false);
r+="".concat(a).concat(t.properties.cookieValueEntrySeparator).concat(window.encodeURIComponent(e[a])).concat(t.properties.cookieValueSeparator)
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-6930-1-7087",true);
 }}),r=r.substring(0,r.length-this.properties.cookieValueSeparator.length),window.encodeURIComponent(r)
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-6872-1-7188",true);
 }}},{key:"_handleRidRelay",value:function(e,t){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-7219-1-7569",false);
var r=this.getRidMappingFromEl(t);if(r){var a,o=this.getRidFromCookie();o?a=this.relayDataToElement(t,r,o):i("Data Relay - no cookie data applied, there was no data stored in the cookie"),a||(a=this.getTrackingDataForEl(t,r)),a&&this._trackAnalyticsData(t,a,r,e)}else i("Data Relay - no action taken, there was no proper data mapping")
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-7219-1-7569",true);
 }}},{key:"_handleRidStore",value:function(e,t){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-7600-1-7834",false);
var r=this.getRidStorageDataFromEl(t);r?(i("Data Relay - rid storage data found in element - attempting to store"),this.storeRid(r)):i("Data Relay - no action taken, there was no proper data in the rid store attribute")
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-7600-1-7834",true);
 }}},{key:"_trackAnalyticsData",value:function(e,t,r,a){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-7869-1-8557",false);
if(i("Data Relay - analytics tracking - "+this.properties.trackingProperty+' should be tracked with the value "',t+'"'),this.analytics){var o=this._createTrackingData(e,t,r);if(e.getAttribute("data-analytics-click")||e.hasAttribute("data-analytics-exit-link")||this.properties.customAnalyticsAttribute&&e.hasAttribute(this.properties.customAnalyticsAttribute))return delete o.title,void this.analytics.passiveTracker(o,this.passiveTracking);this.options.canDeferNavigation&&"A"===e.tagName&&!this._isIntraPageLink(e)&&(a.preventDefault(),this.timeout=window.setTimeout(function(){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-8456-1-8490",false);
window.location=e.href
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-8456-1-8490",true);
 }},this.properties.deferNavigationTimeout)),this.analytics.track(o)}
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-7869-1-8557",true);
 }}},{key:"_createTrackingData",value:function(e,t,r){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-8592-1-8877",false);
var a={};e&&e.hasAttribute("data-rid-options")&&(a=JSON.parse(e.getAttribute("data-rid-options")));var i=this._buildEventsString(r,a),o={title:a.analyticsTitle||this.properties.analyticsTitle,events:i};return o[a.trackingProperty||this.properties.trackingProperty]=t,o
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-8592-1-8877",true);
 }}},{key:"_buildEventsString",value:function(e,t){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-8911-1-9125",false);
var r="";return Object.keys(e).forEach(function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-8964-1-9095",false);
t&&t.eventTracking&&t.eventTracking[e]?r+="event".concat(t.eventTracking[e],","):"cid"!==e&&(r+="event".concat(e,","))
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-8964-1-9095",true);
 }}),r=r.substring(0,r.length-1)
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-8911-1-9125",true);
 }}},{key:"getTrackingDataForEl",value:function(e,t){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-9161-1-10185",false);
var r,a=this,o=[];e.href?r="href":e.getAttribute(this.properties.relayButtonUrlAttribute)&&(r=this.properties.relayButtonUrlAttribute);var n=Object.keys(t),s=e.getAttribute(r),l=this.getQueryString(this._formatUrl(s).url);return n.forEach(function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-9414-1-9979",false);
var r=[];if("string"==typeof t[e]&&(t[e]=[t[e]]),t[e].forEach(function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-9488-1-9705",false);
var t=l[e];if(t&&a.properties.valueAllowedCharacters.test(t)){if(e===a.properties.cidQueryParam&&null!==t){if(!a.options.trackCid)return;t="".concat(a.properties.cidQueryParam,"-").concat(t)}t&&r.push(t)}
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-9488-1-9705",true);
 }}),r.length<1)i("Data Relay - there was no data available in the elements url that corresponds to the rid to query param mapping, so this data will not be tracked on "+a.properties.trackingProperty);else{var n=new window.Set(r);Array.from(n).forEach(function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-9954-1-9976",false);
o.push(e)
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-9954-1-9976",true);
 }})}
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-9414-1-9979",true);
 }}),i('Data Relay - built the data for a link that had no data relayed to it, the current value of "'+o+'" will be tracked on '+this.properties.trackingProperty),o.join(this.properties.trackingDataSeparator)
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-9161-1-10185",true);
 }}},{key:"relayDataToElement",value:function(e,t,r){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-10219-1-11074",false);
var a=this,o=[],n=[];e.href&&o.push("href"),e.getAttribute(this.properties.relayButtonUrlAttribute)&&o.push(this.properties.relayButtonUrlAttribute);var s=Object.keys(t);return o.forEach(function(o){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-10422-1-11026",false);
var l=a._formatUrl(e.getAttribute(o)),c=new window.URL(l.url);s.forEach(function(s){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-10506-1-11024",false);
if(s+""in r){if(s===a.properties.cidQueryParam){if(!a.options.trackCid)return;n.push("".concat(s,"-").concat(r[s]))}else n.push(r[s]);"string"==typeof t[s]&&(t[s]=[t[s]]),t[s].forEach(function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-10702-1-10741",false);
c.searchParams.set(e,r[s])
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-10702-1-10741",true);
 }});var u=c.toString();l.relative&&(u=u.replace(a.properties.urlFormatHostName,l.original)),e.setAttribute(o,window.decodeURIComponent(u)),i('Data Relay - the data-url of the element had the query string named "'+t[s]+'" and the value of it was replaced with '+r[s]+' rid - "'+s+'"')}
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-10506-1-11024",true);
 }})
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-10422-1-11026",true);
 }}),n.join(this.properties.trackingDataSeparator)
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-10219-1-11074",true);
 }}},{key:"getRidFromCookie",value:function(){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-11106-1-11340",false);
var e=this,t=window.document.cookie,r=(t=t.split("; ")).find(function(t){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-11178-1-11236",false);
return 0===t.indexOf(e.properties.cookieName)
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-11178-1-11236",true);
 }});return r?(r=this._readCookie(r.split("=")[1]),this._deleteInvalidValues(r),!this._isEmpty(r)&&r):null
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-11106-1-11340",true);
 }}},{key:"_readCookie",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-11367-1-11498",false);
return e?this.options.useJsonStorageFormat?JSON.parse(window.decodeURIComponent(e)):this._readSimpleFormatCookie(e):{}
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-11367-1-11498",true);
 }}},{key:"_readSimpleFormatCookie",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-11537-1-11805",false);
var t=this;return(e=window.decodeURIComponent(e)).split(this.properties.cookieValueSeparator).reduce(function(e,r){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-11650-1-11800",false);
var a=window._slicedToArray(r.split(t.properties.cookieValueEntrySeparator),2),i=a[0],o=a[1];return e[i]=window.decodeURIComponent(o),e
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-11650-1-11800",true);
 }},{})
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-11537-1-11805",true);
 }}},{key:"destroy",value:function(){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-11828-1-11943",false);
window.document.documentElement.removeEventListener(this.properties.interactionEvent,this._handleClick)
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-11828-1-11943",true);
 }}},{key:"getRidMappingFromEl",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-11978-1-12059",false);
return JSON.parse(e.getAttribute(this.properties.ridRelayAttribute))
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-11978-1-12059",true);
 }}},{key:"getRidStorageDataFromEl",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-12098-1-12235",false);
var t=JSON.parse(e.getAttribute(this.properties.ridStoreAttribute));return this._deleteInvalidValues(t),!this._isEmpty(t)&&t
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-12098-1-12235",true);
 }}},{key:"getRidFromUrl",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-12264-1-12540",false);
var t=this.getQueryString(e),r=t[this.properties.ridQueryParam],a={};if(r&&(a=this._parseRidStringData(r)),this.options.trackCid){var i,o=t[this.properties.cidQueryParam];o&&(i=this._parseCidStringData(o)),i&&Object.assign(a,i)}return this._isEmpty(a)&&(a=null),a
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-12264-1-12540",true);
 }}},{key:"getRelayData",value:function(e,t,r,a){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-12568-1-13529",false);
var i=this;if(!e)return null;void 0===r&&(r=!0),void 0===a&&(a=!1);var o=this.getRidFromCookie();if(!o&&!t)return null;var n=new window.Set,s=new window.Set;Array.isArray(e)||(e=[e]),Array.isArray(t)||(t=[t]),e.forEach(function(e,r){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-12805-1-13182",false);
if(!(e.length>i.properties.prefixMaxLength||!i.properties.prefixAllowedCharacters.test(e))){if(!o||void 0===o[e]||i.properties.dataMaxLength<o[e].length||!i.properties.valueAllowedCharacters.test(o[e])){if(!t[r]||i.properties.dataMaxLength<t[r].length||!i.properties.valueAllowedCharacters.test(t[r]))return;n.add(t[r])}else n.add(o[e]);s.add("event".concat(e))}
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-12805-1-13182",true);
 }}),n=this._listToString(n);var l=window._defineProperty({events:s=this._listToString(s)},this.properties.trackingProperty,n);return this.analytics&&r&&t&&l[this.properties.trackingProperty]&&l.events&&(a?this.analytics.passiveTracker(l,this.passiveTracking):(l.title=this.properties.analyticsTitle,this.analytics.track(l))),{data:n,trackingData:l}
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-12568-1-13529",true);
 }}},{key:"get",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-13548-1-13624",false);
var t=this.getRidFromCookie();return t&&void 0!==t[e]?t[e]:null
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-13548-1-13624",true);
 }}},{key:"set",value:function(e,t){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-13643-1-13760",false);
return e&&"string"==typeof e&&t&&"string"==typeof t?this.storeRid(window._defineProperty({},e,t)):null
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-13643-1-13760",true);
 }}},{key:"_listToString",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-13789-1-13887",false);
var t="";return e.forEach(function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-13827-1-13859",false);
t+="".concat(e,",")
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-13827-1-13859",true);
 }}),t.substring(0,t.length-1)
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-13789-1-13887",true);
 }}},{key:"getQueryString",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-13917-1-14075",false);
var t={};return e.substring(e.indexOf("?")+1).split("&").forEach(function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-13994-1-14071",false);
var r=window._slicedToArray(e.split("="),2),a=r[0],i=r[1];t[a]=i
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-13994-1-14071",true);
 }}),t
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-13917-1-14075",true);
 }}},{key:"_deleteInvalidValues",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-14111-1-14360",false);
var t=this;Object.keys(e).forEach(function(r){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-14157-1-14358",false);
(t.properties.dataMaxLength<e[r].length||t.properties.prefixMaxLength<r.length||!t.properties.valueAllowedCharacters.test(e[r])||!t.properties.prefixAllowedCharacters.test(r))&&delete e[r]
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-14157-1-14358",true);
 }})
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-14111-1-14360",true);
 }}},{key:"_isEmpty",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-14384-1-14429",false);
return 0===Object.keys(e).length
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-14384-1-14429",true);
 }}},{key:"_parseRidStringData",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-14464-1-14914",false);
var t,r=this;try{t=window.decodeURIComponent(e)}catch(e){i(e)}if(!t)return{};var a={};return t.split(this.properties.urlSeparator).forEach(function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-14615-1-14910",false);
var t=e.split(r.properties.ridPrefixSeparator),i=t.shift();if(i&&i.length<=r.properties.prefixMaxLength&&r.properties.prefixAllowedCharacters.test(i)){var o=t.join(r.properties.ridPrefixSeparator);o=window.encodeURIComponent(o),r.properties.valueAllowedCharacters.test(o)&&(a[i]=o)}
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-14615-1-14910",true);
 }}),a
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-14464-1-14914",true);
 }}},{key:"_formatUrl",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-14940-1-15230",false);
var t={relative:!1,original:!1,url:null};if(this.properties.absoluteUrlRegex.test(e))return t.url=e,t;var r=this.properties.parseRelativeUrlRegex.exec(e);return r.length&&r[r.length-1]?(t.relative=!0,t.original=r[1],t.url=this.properties.urlFormatHostName+r[r.length-1],t):null
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-14940-1-15230",true);
 }}},{key:"_parseCidStringData",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-15265-1-15330",false);
var t={};return t[this.properties.cidQueryParam]=e,t
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-15265-1-15330",true);
 }}},{key:"_ancestor",value:function(e,t){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-15355-1-15543",false);
if(e.matches(t))return e;for(;(e=e.parentNode)&&e.nodeType===window.Node.ELEMENT_NODE;){if(!t||e.matches(t))return e;if(e===window.document.documentElement)break}return null
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-15355-1-15543",true);
 }}},{key:"_getRandomArrayItem",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-15578-1-15644",false);
return e.splice(Math.floor(Math.random()*e.length),1)
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-15578-1-15644",true);
 }}},{key:"_isIntraPageLink",value:function(e){ 
 try {__tracer.cacheInit("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-15676-1-15889",false);
var t=e.getAttribute("href");return!(null!==t&&"#"!==t.charAt(0)&&0!==t.indexOf("javascript:")&&0!==t.indexOf("mailto:")&&0!==t.indexOf("tel:")&&!e.hasAttribute(this.properties.internalLinkAttribute))
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-15676-1-15889",true);
 }}}]),e
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-3620-1-15895",true);
 }}();t.exports=n
 
 } finally {__tracer.exitFunction("/metrics/data-relay/1.1.4/scripts/data-relay.js-function-1-2400-1-15910",true);
 }},{"@marcom/ac-analytics":"@marcom/ac-analytics","@marcom/ac-console/log":3}]},{},[]); }
[rtiDebugInfo]0 80
