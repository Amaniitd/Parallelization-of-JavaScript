/home/aman/Desktop/Parallelization-of-JavaScript/horcrux-instrumentation-rewriter/node_modules/falafel/index.js
Options are {"useProxy":true,"caching":false,"include_prefix":false,"path":"2C%22deniedConsentCookieGroups%22%3A%22C0005%22%7D","origPath":"/monet/scripts/netflix_tag_05.html?data=%7B%22membership_status%22%3A%22ANONYMOUS%22%2C%22country%22%3A%22IN%22%2C%22region_code%22%3A%22DL%22%2C%22is_member%22%3A%22ANONYMOUS%22%2C%22wasFormerMember%22%3Afalse%2C%22referrer%22%3A%22nmLanding%22%2C%22deniedConsentCookieGroups%22%3A%22C0005%22%7D","e2eTesting":false,"pageLoaded":"true;","invocation_limit":"5000000;","pattern":"cg","proxyName":"window"}
{
  useProxy: true,
  caching: false,
  include_prefix: false,
  path: '2C%22deniedConsentCookieGroups%22%3A%22C0005%22%7D',
  origPath: '/monet/scripts/netflix_tag_05.html?data=%7B%22membership_status%22%3A%22ANONYMOUS%22%2C%22country%22%3A%22IN%22%2C%22region_code%22%3A%22DL%22%2C%22is_member%22%3A%22ANONYMOUS%22%2C%22wasFormerMember%22%3Afalse%2C%22referrer%22%3A%22nmLanding%22%2C%22deniedConsentCookieGroups%22%3A%22C0005%22%7D',
  e2eTesting: false,
  pageLoaded: 'true;',
  invocation_limit: '5000000;',
  pattern: 'cg',
  proxyName: 'window'
}
Pattern for current instrumentation: cg
Instrumenting a html file
function source is  function t(e,t,n){var r;n=n?((r=new Date).setTime(Date.now()+24*n*60*60*1e3),"; expires="+r.toGMTString()):"",document.cookie="nflx_tags_"+e+"="+t+n+"; path=/"}
function source is  function(){var e={tags:{adwords_Simplicity_OrderFinal:{tagHtml:"\x3c!-- Event snippet for Netflix Parent MCC - Website Signup conversion page --\x3e\n<script>\n    gtag('event', 'conversion', { 'send_to': 'AW-981179826/Pz-aCKHH1mYQsrvu0wM', 'transaction_id': \"[[signupOrderId]]\"});\n    \n<\/script>",logOnly:!(window.onerror=function(e,t,n,r,a){ 
 try {__tracer.cacheInit("2C%22deniedConsentCookieGroups%22%3A%22C0005%22%7D-script-0-function-6-355-6-442",false);
o("object"==typeof i?i:{},void 0,{msg:e,url:t,line:n,col:r,err:a})
 
 } finally {__tracer.exitFunction("2C%22deniedConsentCookieGroups%22%3A%22C0005%22%7D-script-0-function-6-355-6-442",true);
 }}),throttle:"none",paramMatch:[{key:"deniedConsentCookieGroups",val:"C0004",matcher:"notContains"},{key:"country::region_code",val:["US::CA","US::VA","US::CO"],matcher:"avoid"}],replace:["signupOrderId"]},adwords_Simplicity_OrderFinal_adplan:{tagHtml:"\x3c!-- Event snippet for Netflix Parent MCC - Ads Plan Website Signup conversion page --\x3e\n<script>\n    gtag('event', 'conversion', {'send_to': 'AW-981179826/zO5NCLSnhIEYELK77tMD', 'transaction_id': \"[[signupOrderId]]\"});\n  <\/script>\n  ",logOnly:!1,throttle:"none",paramMatch:[{key:"deniedConsentCookieGroups",val:"C0004",matcher:"notContains"},{key:"country::region_code",val:["US::CA","US::VA","US::CO"],matcher:"avoid"}],replace:["signupOrderId"]},adwords_Simplicity_OrderFinal_nonadplan:{tagHtml:"\x3c!-- Event snippet for Netflix Parent MCC -  Non-Ads Plan Website Signup conversion page --\x3e\n<script>\n    gtag('event', 'conversion', {'send_to': 'AW-981179826/CFZACLWPioEYELK77tMD', 'transaction_id': \"[[signupOrderId]]\"});\n  <\/script>\n  ",logOnly:!1,throttle:"none",paramMatch:[{key:"deniedConsentCookieGroups",val:"C0004",matcher:"notContains"},{key:"country::region_code",val:["US::CA","US::VA","US::CO"],matcher:"avoid"}],replace:["signupOrderId"]},adwords_Simplicity_Payment:{tagHtml:"\x3c!-- Event snippet for Netflix Parent MCC - Add Payment Info conversion page --\x3e\n<script>\n    gtag('event', 'conversion', {'send_to': 'AW-981179826/hilTCMfPwnUQsrvu0wM'});\n  <\/script>\n  ",logOnly:!1,throttle:"none",paramMatch:[{key:"deniedConsentCookieGroups",val:"C0004",matcher:"notContains"},{key:"country::region_code",val:["US::CA","US::VA","US::CO"],matcher:"avoid"}]},adwords_Simplicity_NMLanding:{tagHtml:"\x3c!-- Event snippet for Netflix Parent MCC - NM Landing conversion page --\x3e\n<script>\n  gtag('event', 'conversion', {'send_to': 'AW-981179826/40zWCLqP1XUQsrvu0wM'});\n<\/script>\n",logOnly:!1,throttle:"none",paramMatch:[{key:"deniedConsentCookieGroups",val:"C0004",matcher:"notContains"},{key:"country::region_code",val:["US::CA","US::VA","US::CO"],matcher:"avoid"}]},adwords_Simplicity_RegistrationContext:{tagHtml:"\x3c!-- Event snippet for Netflix Parent MCC - Registration Context Page conversion page --\x3e\n<script>\n    gtag('event', 'conversion', {'send_to': 'AW-981179826/sIMJCL-t02YQsrvu0wM'});\n  <\/script>\n  ",logOnly:!1,throttle:"none",paramMatch:[{key:"deniedConsentCookieGroups",val:"C0004",matcher:"notContains"},{key:"country::region_code",val:["US::CA","US::VA","US::CO"],matcher:"avoid"}]},adwords_Simplicity_Registration:{tagHtml:"\x3c!-- Event snippet for Netflix Parent MCC - Registration Entry conversion page --\x3e\n<script>\n    gtag('event', 'conversion', {'send_to': 'AW-981179826/1eOkCMHPwnUQsrvu0wM'});\n  <\/script>\n  ",logOnly:!1,throttle:"none",paramMatch:[{key:"deniedConsentCookieGroups",val:"C0004",matcher:"notContains"},{key:"country::region_code",val:["US::CA","US::VA","US::CO"],matcher:"avoid"}]},adwords_Simplicity_PlanSelectionContext:{tagHtml:"\x3c!-- Event snippet for Netflix Parent MCC - Plan Select Context Page conversion page --\x3e\n<script>\n    gtag('event', 'conversion', {'send_to': 'AW-981179826/m03-CI7l2nUQsrvu0wM'});\n  <\/script>\n  ",logOnly:!1,throttle:"none",paramMatch:[{key:"deniedConsentCookieGroups",val:"C0004",matcher:"notContains"},{key:"country::region_code",val:["US::CA","US::VA","US::CO"],matcher:"avoid"}]},adwords_Simplicity_PlanSelection:{tagHtml:"\x3c!-- Event snippet for Netflix Parent MCC - Plan Select Page conversion page --\x3e\n<script>\n    gtag('event', 'conversion', {'send_to': 'AW-981179826/C9zfCKzPwnUQsrvu0wM'});\n  <\/script>\n  ",logOnly:!1,throttle:"none",paramMatch:[{key:"deniedConsentCookieGroups",val:"C0004",matcher:"notContains"},{key:"country::region_code",val:["US::CA","US::VA","US::CO"],matcher:"avoid"}]}},rules:[{referrer:"orderfinal",tags:["adwords_Simplicity_OrderFinal","adwords_Simplicity_OrderFinal_nonadplan"]},{referrer:"orderfinal_ads",tags:["adwords_Simplicity_OrderFinal","adwords_Simplicity_OrderFinal_adplan"]},{referrer:"payment",tags:["adwords_Simplicity_Payment"]},{referrer:"nmLanding",tags:["adwords_Simplicity_NMLanding"]},{referrer:"registrationContext",tags:["adwords_Simplicity_RegistrationContext"]},{referrer:"registration",tags:["adwords_Simplicity_Registration"]},{referrer:"planSelectionContext",tags:["adwords_Simplicity_PlanSelectionContext"]},{referrer:"planSelection",tags:["adwords_Simplicity_PlanSelection"]}]};function t(e,t,n){ 
 try {__tracer.cacheInit("2C%22deniedConsentCookieGroups%22%3A%22C0005%22%7D-script-0-function-6-4892-6-5052",false);
var r;n=n?((r=new Date).setTime(Date.now()+24*n*60*60*1e3),"; expires="+r.toGMTString()):"",document.cookie="nflx_tags_"+e+"="+t+n+"; path=/"
 
 } finally {__tracer.exitFunction("2C%22deniedConsentCookieGroups%22%3A%22C0005%22%7D-script-0-function-6-4892-6-5052",true);
 }}void 0!==window.MOCK_NFLX_TAG_DATA&&(e=window.MOCK_NFLX_TAG_DATA);var n=/^https:\/\//;function o(e,t,n){ 
 try {__tracer.cacheInit("2C%22deniedConsentCookieGroups%22%3A%22C0005%22%7D-script-0-function-6-5138-6-5667",false);
t=JSON.stringify({appName:"android",events:[{name:"advdevtag",data:{advdevtag_type:"web",ad_vendor_sync_type:"netflix",event_type:e.referrer,user_agent:window.navigator.userAgent,tags:t,err:n,params:e,country:e.country,tagLoaderVersion:"20221106-1143"}}]}),n=new XMLHttpRequest;n.withCredentials=!0,n.onload=function(){ 
 try {__tracer.cacheInit("2C%22deniedConsentCookieGroups%22%3A%22C0005%22%7D-script-0-function-6-5464-6-5476",false);

 
 } finally {__tracer.exitFunction("2C%22deniedConsentCookieGroups%22%3A%22C0005%22%7D-script-0-function-6-5464-6-5476",true);
 }},n.open("POST","https://ichnaea-web.netflix.com/log",!0),n.setRequestHeader("Content-Type","application/json"),n.setRequestHeader("X-Netflix.ichnaea.request.type","IchnaeaRequest"),n.send(t)
 
 } finally {__tracer.exitFunction("2C%22deniedConsentCookieGroups%22%3A%22C0005%22%7D-script-0-function-6-5138-6-5667",true);
 }}for(var i=function(e){ 
 try {__tracer.cacheInit("2C%22deniedConsentCookieGroups%22%3A%22C0005%22%7D-script-0-function-6-5677-6-5849",false);
for(var t,n=e.slice(1).split("&"),r=0;r<n.length;r++)if((t=n[r].split("="))&&t[0]&&"data"===t[0]&&t[1])return JSON.parse(decodeURIComponent(t[1]))||{};return{}
 
 } finally {__tracer.exitFunction("2C%22deniedConsentCookieGroups%22%3A%22C0005%22%7D-script-0-function-6-5677-6-5849",true);
 }}(window.location.search),r=[],a=0;a<e.rules.length;a++)((d=e.rules[a]).referrerRegex&&i.referrer.match(new RegExp(d.referrerRegex,"i"))||i.referrer===d.referrer)&&r.push.apply(r,d.tags);for(var s=[],l=[],a=0;a<r.length;a++){var c=r[a],d=e.tags[c],p=!0;if(-1!==l.indexOf(c)&&(p=!1),d.throttle&&"none"!==d.throttle&&function(e){ 
 try {__tracer.cacheInit("2C%22deniedConsentCookieGroups%22%3A%22C0005%22%7D-script-0-function-6-6163-6-6370",false);
for(var t="nflx_tags_"+e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var a=n[r];" "==a.charAt(0);)a=a.substring(1,a.length);if(0==a.indexOf(t))return a.substring(t.length,a.length)}
 
 } finally {__tracer.exitFunction("2C%22deniedConsentCookieGroups%22%3A%22C0005%22%7D-script-0-function-6-6163-6-6370",true);
 }}(c)&&(p=!1),d.paramMatch)for(var g=0;g<d.paramMatch.length;g++){var v=d.paramMatch[g],C=i[v.key];if(-1!==v.key.indexOf("::")){for(var _=v.key.split("::"),C=[],m=0;m<_.length;m++)C.push(i[_[m]]||"");C=C.join("::")}!0===v.exists?C||(p=!1):!1===v.exists?C&&(p=!1):"avoid"===v.matcher?Array.isArray(v.val)?-1!==v.val.indexOf(C)&&(p=!1):C===v.val&&(p=!1):"contains"===v.matcher?-1===(C||"").indexOf(v.val)&&(p=!1):"notContains"===v.matcher?-1!==(C||"").indexOf(v.val)&&(p=!1):Array.isArray(v.val)?-1===v.val.indexOf(C)&&(p=!1):C!==v.val&&(p=!1)}if(p&&(l.push(c),"once_per_day"===d.throttle&&t(c,!0,1),"once_per_week"===d.throttle&&t(c,!0,7),"once_per_visitor"===d.throttle&&t(c,!0,365),"once_per_session"===d.throttle&&t(c,!0),!d.logOnly)){var y=d.tagHtml;if(d.replace)for(g=0;g<d.replace.length;g++)var f=d.replace[g],y=y.replace("[["+f+"]]","number"==typeof(f=i[f])||"boolean"==typeof f?f:"string"!=typeof f?"":n.test(f)&&f===encodeURI(f)?f:f.replace(/[^A-Za-z0-9_\- ]/g,""));s.push(y)}}o(i,l);for(a=0;a<l.length;a++)if(l[a].startsWith("adwords")){document.write("\x3c!-- Google tag (gtag.js) --\x3e \n<script async src=\"https://www.googletagmanager.com/gtag/js?id=AW-981179826\"><\/script>\n<script>\n    window.dataLayer = window.dataLayer || [];\n    function gtag() { dataLayer.push(arguments); }\n    gtag('js', new Date());\n    gtag('config', 'AW-981179826', { cookie_flags: 'max-age=7200;secure;samesite=none' });\n<\/script>");break}for(a=s.length-1;0<a;a--){var g=Math.floor(Math.random()*(a+1)),h=s[a];s[a]=s[g],s[g]=h}for(a=0;a<s.length;a++)document.write(s[a])}
[rtiDebugInfo]0 7
